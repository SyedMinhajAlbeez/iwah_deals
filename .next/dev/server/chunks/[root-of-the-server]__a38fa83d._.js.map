{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/utils/constants.ts"],"sourcesContent":["// import { parseCsv } from './helper';\r\n\r\nexport const CACHE_KEY = {\r\n  homeTheme: \"collection-homepage\",\r\n  headerMenus: \"header-menus\",\r\n  footerLink: \"footer-link\",\r\n};\r\n/**\r\n * Caching Tags for caching\r\n */\r\nexport const TAGS = {\r\n  collections: \"collections\",\r\n  products: \"products\",\r\n  cart: \"cart\",\r\n  carDetail: \"carDetail\",\r\n  address: \"address\",\r\n  themeCustomize: \"themeCustomize\",\r\n  defaultChannel: \"channel\",\r\n};\r\n\r\n/**\r\n * Checkout Caching Tags\r\n */\r\nexport const CHECKOUT = {\r\n  shipping: \"collections\",\r\n  method: \"products\",\r\n  cart: \"cart\",\r\n};\r\nexport const HIDDEN_PRODUCT_TAG = \"nextjs-frontend-hidden\";\r\nexport const DEFAULT_OPTION = \"Default Title\";\r\nexport const BAGISTO_GRAPHQL_API_ENDPOINT = \"/graphql\";\r\n\r\n/**\r\n * productJsonLd constant\r\n */\r\nexport const BASE_SCHEMA_URL = \"https://schema.org\";\r\nexport const PRODUCT_TYPE = \"Product\";\r\nexport const PRODUCT_OFFER_TYPE = \"AggregateOffer\";\r\n\r\n/**\r\n * cookies constant\r\n */\r\nexport const BAGISTO_SESSION = process.env.BAGISTO_SESSION ?? \"bagisto_session\";\r\nexport const TOKEN = \"token\";\r\nexport const BASE_URL = process.env.NEXT_PUBLIC_NEXT_AUTH_URL;\r\nexport const baseUrl = process.env.NEXT_PUBLIC_BAGISTO_ENDPOINT;\r\nexport const GRAPHQL_URL = typeof window === 'undefined'\r\n  ? `${process.env.NEXT_PUBLIC_BAGISTO_ENDPOINT}/api/graphql`\r\n  : `${process.env.NEXT_PUBLIC_BAGISTO_ENDPOINT}`;\r\nexport const NEXT_AUTH_SECRET = process.env.NEXT_PUBLIC_NEXT_AUTH_SECRET;\r\nexport const STOREFRONT_KEY = process.env.NEXT_PUBLIC_BAGISTO_STOREFRONT_KEY || \"\"\r\n\r\n\r\n// -----Pagination--------//\r\nexport const PAGE = \"page\";\r\nexport const LIMIT = \"limit\";\r\nexport const LOADING = \"loading\";\r\nexport const QUERY = \"q\";\r\nexport const SORT = \"sort\";\r\n\r\n/**\r\n * Placeholder Images\r\n */\r\nexport const SIGNUP_IMG = \"/image/sign-in.webp\";\r\nexport const SIGNIN_IMG = \"/image/login.webp\";\r\nexport const FORGET_PASSWORD_IMG = \"/image/forget-password.webp\";\r\nexport const NOT_IMAGE = \"/image/placeholder.webp\";\r\n\r\nexport const variants = {\r\n  hidden: { opacity: 0, y: 50 },\r\n  visible: { opacity: 1, y: 0 },\r\n};\r\n\r\n\r\nexport const configHeader = [\r\n  // Security headers for all routes\r\n  {\r\n    source: \"/:path*\",\r\n    headers: [\r\n      { key: \"Referrer-Policy\", value: \"strict-origin-when-cross-origin\" },\r\n      { key: \"X-Frame-Options\", value: \"DENY\" },\r\n      { key: \"X-Content-Type-Options\", value: \"nosniff\" },\r\n      { key: \"X-XSS-Protection\", value: \"1; mode=block\" },\r\n      {\r\n        key: \"Permissions-Policy\",\r\n        value:\r\n          \"camera=(), microphone=(), geolocation=(), browsing-topics=()\",\r\n      },\r\n    ],\r\n  },\r\n  // Cache dynamic pages - shorter cache for frequently updated content\r\n  {\r\n    source: \"/search/:path*\",\r\n    headers: [\r\n      {\r\n        key: \"Cache-Control\",\r\n        value: \"public, s-maxage=3600, stale-while-revalidate=86400\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    source: \"/product/:path*\",\r\n    headers: [\r\n      {\r\n        key: \"Cache-Control\",\r\n        value: \"public, s-maxage=3600, stale-while-revalidate=86400\",\r\n      },\r\n      {\r\n        key: \"Vary\",\r\n        value: \"Accept-Encoding\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    source: \"/checkout/:path*\",\r\n    headers: [\r\n      {\r\n        key: \"Cache-Control\",\r\n        value: \"private, no-cache, no-store, must-revalidate\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    source: \"/customer/:path*\",\r\n    headers: [\r\n      {\r\n        key: \"Cache-Control\",\r\n        value: \"private, no-cache, no-store, must-revalidate\",\r\n      },\r\n    ],\r\n  },\r\n  // Next.js static assets - long cache with immutable\r\n  {\r\n    source: \"/_next/static/:path*\",\r\n    headers: [\r\n      {\r\n        key: \"Cache-Control\",\r\n        value: \"public, max-age=31536000, immutable\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    source: \"/_next/image/:path*\",\r\n    headers: [\r\n      {\r\n        key: \"Cache-Control\",\r\n        value: \"public, max-age=31536000, immutable\",\r\n      },\r\n    ],\r\n  },\r\n  // Public folder assets - long cache\r\n  {\r\n    source: \"/image/:path*\",\r\n    headers: [\r\n      {\r\n        key: \"Cache-Control\",\r\n        value: \"public, max-age=31536000, immutable\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    source: \"/fonts/:path*\",\r\n    headers: [\r\n      {\r\n        key: \"Cache-Control\",\r\n        value: \"public, max-age=31536000, immutable\",\r\n      },\r\n    ],\r\n  },\r\n]\r\n\r\n\r\n// export const magentoImageDomains = parseCsv(\r\n//   process.env.NEXT_SERVER_BAGISTO_IMAGE_DOMAINS\r\n// );\r\n\r\nexport const imageProtocol = (process.env.NEXT_SERVER_MAGENTO_PROTOCOL ||\r\n  \"https\") as \"http\" | \"https\";\r\n\r\n\r\n\r\nexport function getImageUrl(url?: string, baseUrl?: string, fallback?: string) {\r\n  if (!url) return fallback;\r\n\r\n  if (url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\r\n    return url;\r\n  }\r\n\r\n  return `${baseUrl}${url.startsWith(\"/\") ? url : `/${url}`}`;\r\n}\r\n\r\n\r\nexport type SortOrderTypes = {\r\n  key: string;\r\n  title: string;\r\n  value: string;\r\n  sortKey: string;\r\n  reverse: boolean;\r\n};\r\n\r\nexport const SortByFields: SortOrderTypes[] = [\r\n  {\r\n    key: \"name-asc\",\r\n    title: \"From A-Z\",\r\n    value: \"name-asc\",\r\n    sortKey: \"TITLE\",\r\n    reverse: false,\r\n  },\r\n  {\r\n    key: \"name-desc\",\r\n    title: \"From Z-A\",\r\n    value: \"name-desc\",\r\n    sortKey: \"TITLE\",\r\n    reverse: true,\r\n  },\r\n  {\r\n    key: \"newest\",\r\n    title: \"Newest First\",\r\n    value: \"newest\",\r\n    sortKey: \"CREATED_AT\",\r\n    reverse: true,\r\n  },\r\n  {\r\n    key: \"oldest\",\r\n    title: \"Oldest First\",\r\n    value: \"oldest\",\r\n    sortKey: \"CREATED_AT\",\r\n    reverse: false,\r\n  },\r\n  {\r\n    key: \"price-asc\",\r\n    title: \"Cheapest First\",\r\n    value: \"price-asc\",\r\n    sortKey: \"PRICE\",\r\n    reverse: false,\r\n  },\r\n  {\r\n    key: \"price-desc\",\r\n    title: \"Expensive First\",\r\n    value: \"price-desc\",\r\n    sortKey: \"PRICE\",\r\n    reverse: true,\r\n  },\r\n];\r\n\r\nexport const GUEST_CART_TOKEN = \"guest_cart_token\";\r\nexport const GUEST_CART_ID = \"guest_cart_id\";\r\nexport const IS_GUEST = \"is_guest\";\r\n\r\n\r\nexport const NEXTAUTH_TOKEN = \"next-auth.session-token\";\r\nexport const NEXTAUTH_SECURE_TOKEN = \"__Secure-next-auth.session-token\";\r\n\r\nexport const ORDER_ID = \"order_id\";\r\n\r\nexport const EMAIL_REGEX = /^(?![.-])(?!.*[.-]@)(?!.*\\.\\.)[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z]{2,})+$/;\r\n\r\nexport const IS_VALID_INPUT = /^[a-zA-Z0-9\\s]*$/;\r\nexport const IS_VALID_ADDRESS = /^[a-zA-Z0-9\\s,\\/-]*$/;\r\nexport const IS_VALID_PHONE = /^[0-9]{10}$/;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 413, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/customer/mutations/CustomerRegistration.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const CUSTOMER_REGISTRATION = gql`\r\n  mutation registerCustomer($input: createCustomerInput!) {\r\n    createCustomer(input: $input) {\r\n      customer {\r\n        id\r\n        firstName\r\n        lastName\r\n        email\r\n        phone\r\n        status\r\n        apiToken\r\n        customerGroupId\r\n        subscribedToNewsLetter\r\n        isVerified\r\n        isSuspended\r\n        token\r\n        rememberToken\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,wBAAwB,qKAAG,CAAC;;;;;;;;;;;;;;;;;;;;;AAqBzC,CAAC"}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/customer/mutations/CustomerLogin.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const CUSTOMER_LOGIN = gql`\r\n  mutation loginCustomer($input: createCustomerLoginInput!) {\r\n    createCustomerLogin(input: $input) {\r\n     customerLogin {\r\n            id\r\n            apiToken\r\n            token\r\n            message\r\n            success\r\n        }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,iBAAiB,qKAAG,CAAC;;;;;;;;;;;;AAYlC,CAAC"}},
    {"offset": {"line": 468, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/customer/mutations/CustomerLogout.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const CUSTOMER_LOGOUT = gql`\r\n    mutation createLogout {\r\n        createLogout(input: {}) {\r\n            logout {\r\n                success\r\n                message\r\n            }\r\n        }\r\n    }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,kBAAkB,qKAAG,CAAC;;;;;;;;;AASnC,CAAC"}},
    {"offset": {"line": 488, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/customer/mutations/VerifyCustomer.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const VERIFY_CUSTOMER = gql`\r\n  mutation verifyCustomer($token: String!, $clientMutationId: String) {\r\n    createVerifyToken(\r\n      input: {\r\n        token: $token\r\n        clientMutationId: $clientMutationId\r\n      }\r\n    ) {\r\n      verifyToken {\r\n        id\r\n        firstName\r\n        lastName\r\n        email\r\n        isValid\r\n        message\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,kBAAkB,qKAAG,CAAC;;;;;;;;;;;;;;;;;;AAkBnC,CAAC"}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/customer/mutations/ForgetPassword.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const FORGET_PASSWORD = gql`\r\n  mutation forgotPassword($email: String!) {\r\n    createForgotPassword(input: { email: $email }) {\r\n      forgotPassword {\r\n        success\r\n        message\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,kBAAkB,qKAAG,CAAC;;;;;;;;;AASnC,CAAC"}},
    {"offset": {"line": 537, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/customer/mutations/index.ts"],"sourcesContent":["export { CUSTOMER_REGISTRATION} from \"./CustomerRegistration\"; \r\nexport { CUSTOMER_LOGIN} from \"./CustomerLogin\";\r\nexport { CUSTOMER_LOGOUT} from \"./CustomerLogout\";\r\nexport { VERIFY_CUSTOMER} from \"./VerifyCustomer\";\r\nexport {FORGET_PASSWORD} from \"./ForgetPassword\"\r\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 552, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/catelog/fragments/Product.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const PRODUCT_CORE_FRAGMENT = gql`\r\n  fragment ProductCore on Product {\r\n    id\r\n    sku\r\n    type\r\n    name\r\n    price\r\n    urlKey\r\n    baseImageUrl\r\n    minimumPrice\r\n    specialPrice\r\n    isSaleable\r\n  }\r\n`;\r\n\r\nexport const PRODUCT_DETAILED_FRAGMENT = gql`\r\n  fragment ProductDetailed on Product {\r\n    id\r\n    sku\r\n    type\r\n    name\r\n    urlKey\r\n    description\r\n    shortDescription\r\n    price\r\n    baseImageUrl\r\n    minimumPrice\r\n     specialPrice\r\n     isSaleable\r\n    variants {\r\n      edges {\r\n        node {\r\n          id\r\n          sku\r\n          baseImageUrl\r\n        }\r\n      }\r\n    }\r\n    reviews {\r\n        edges {\r\n          node {\r\n            rating\r\n            id\r\n            name\r\n            title\r\n            comment\r\n            createdAt\r\n          }\r\n        }\r\n      }\r\n  }\r\n`;\r\n\r\nexport const PRODUCT_REVIEW_FRAGMENT = gql`\r\n  fragment ProductReview on Review {\r\n    rating\r\n    id\r\n    _id\r\n    name\r\n    title\r\n    comment\r\n  }\r\n`;\r\n\r\nexport const PRODUCT_SECTION_FRAGMENT = gql`\r\n  fragment ProductSection on Product {\r\n    id\r\n    sku\r\n    name\r\n    urlKey\r\n    type\r\n    baseImageUrl\r\n    price\r\n    minimumPrice\r\n    isSaleable\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,MAAM,wBAAwB,qKAAG,CAAC;;;;;;;;;;;;;AAazC,CAAC;AAEM,MAAM,4BAA4B,qKAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoC7C,CAAC;AAEM,MAAM,0BAA0B,qKAAG,CAAC;;;;;;;;;AAS3C,CAAC;AAEM,MAAM,2BAA2B,qKAAG,CAAC;;;;;;;;;;;;AAY5C,CAAC"}},
    {"offset": {"line": 642, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/catelog/fragments/index.ts"],"sourcesContent":["export {\r\n  PRODUCT_CORE_FRAGMENT,\r\n  PRODUCT_DETAILED_FRAGMENT,\r\n  PRODUCT_SECTION_FRAGMENT,\r\n  PRODUCT_REVIEW_FRAGMENT,\r\n} from \"./Product\";\r\n\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 649, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/catelog/queries/Product.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\nimport {\r\n  PRODUCT_CORE_FRAGMENT,\r\n  PRODUCT_DETAILED_FRAGMENT,\r\n  PRODUCT_SECTION_FRAGMENT,\r\n} from \"../fragments\";\r\n\r\n/**\r\n * Fetch paginated products with filtering and sorting\r\n * @param query - Search query string\r\n * @param sortKey - Field to sort by\r\n * @param reverse - Sort in reverse order\r\n * @param first - Number of items to fetch\r\n * @param after - Cursor for forward pagination\r\n * @param before - Cursor for backward pagination\r\n * @param channel - Sales channel\r\n * @param locale - Locale for localized content\r\n */\r\nexport const GET_PRODUCTS = gql`\r\n  ${PRODUCT_CORE_FRAGMENT}\r\n\r\n  query GetProducts(\r\n    $query: String\r\n    $sortKey: String\r\n    $reverse: Boolean\r\n    $first: Int\r\n    $last: Int\r\n    $after: String\r\n    $before: String\r\n    $channel: String\r\n    $locale: String\r\n    $filter: String\r\n  ) {\r\n    products(\r\n      query: $query\r\n      sortKey: $sortKey\r\n      reverse: $reverse\r\n      first: $first\r\n      last: $last\r\n      after: $after\r\n      before: $before\r\n      channel: $channel\r\n      locale: $locale\r\n      filter: $filter\r\n    ) {\r\n      totalCount\r\n      pageInfo {\r\n        startCursor\r\n        endCursor\r\n        hasNextPage\r\n        hasPreviousPage\r\n      }\r\n\r\n      edges {\r\n        node {\r\n          ...ProductCore\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Fetch a single product by ID with all details\r\n * @param id - Product ID\r\n */\r\nexport const GET_PRODUCT_BY_URL_KEY = gql`\r\n  ${PRODUCT_DETAILED_FRAGMENT}\r\n\r\n  query GetProductById($urlKey: String!) {\r\n    product(urlKey: $urlKey) {\r\n      ...ProductDetailed\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_PRODUCT_SWATCH_REVIEW = gql`\r\n  query ProductSwatchReview($urlKey: String!) {\r\n    product(urlKey: $urlKey) {\r\n      id\r\n      name\r\n      sku\r\n      type\r\n      urlKey\r\n      price\r\n      isSaleable\r\n      combinations\r\n      superAttributeOptions\r\n      attributeValues {\r\n        edges {\r\n          cursor\r\n          node {\r\n            value\r\n            attribute {\r\n              adminName\r\n              code\r\n              isFilterable\r\n              isVisibleOnFront\r\n            }\r\n          }\r\n        }\r\n      }\r\n      superAttributes {\r\n        edges {\r\n          node {\r\n            id\r\n            code\r\n            adminName\r\n            options {\r\n              edges {\r\n                node {\r\n                  id\r\n                  adminName\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n\r\n/**\r\n * Fetch pagination info for products\r\n * Lightweight query for pagination controls\r\n */\r\nexport const GET_PRODUCTS_PAGINATION = gql`\r\n  query GetProductsPagination(\r\n    $query: String\r\n    $sortKey: String\r\n    $reverse: Boolean\r\n    $first: Int\r\n    $last: Int\r\n    $channel: String\r\n    $locale: String\r\n    $after: String\r\n    $before: String\r\n  ) {\r\n    products(\r\n      query: $query\r\n      sortKey: $sortKey\r\n      reverse: $reverse\r\n      first: $first\r\n      last: $last\r\n      channel: $channel\r\n      locale: $locale\r\n      after: $after\r\n      before: $before\r\n    ) {\r\n      totalCount\r\n      pageInfo {\r\n        startCursor\r\n        endCursor\r\n        hasNextPage\r\n        hasPreviousPage\r\n      }\r\n      edges {\r\n        node {\r\n          id\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n/**\r\n * Fetch related products for a given product\r\n * @param id - Product ID\r\n * @param first - Number of related products to fetch\r\n */\r\nexport const GET_RELATED_PRODUCTS = gql`\r\n  ${PRODUCT_SECTION_FRAGMENT}\r\n\r\n  query GetRelatedProducts($urlKey: String, $first: Int) {\r\n    product(urlKey: $urlKey) {\r\n      id\r\n      sku\r\n      relatedProducts(first: $first) {\r\n        edges {\r\n          node {\r\n            ...ProductSection\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;AAAA;;;AAiBO,MAAM,eAAe,qKAAG,CAAC;EAC9B,EAAE,0LAAqB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyC1B,CAAC;AAMM,MAAM,yBAAyB,qKAAG,CAAC;EACxC,EAAE,8LAAyB,CAAC;;;;;;;AAO9B,CAAC;AAEM,MAAM,4BAA4B,qKAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6C7C,CAAC;AAOM,MAAM,0BAA0B,qKAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqC3C,CAAC;AAOM,MAAM,uBAAuB,qKAAG,CAAC;EACtC,EAAE,6LAAwB,CAAC;;;;;;;;;;;;;;;AAe7B,CAAC"}},
    {"offset": {"line": 823, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/catelog/queries/HomeCategories.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_HOME_CATEGORIES = gql`\r\nquery Categories {\r\n    categories {\r\n        edges {\r\n            node {\r\n             id\r\n             logoUrl\r\n             position\r\n                translation {\r\n                   name\r\n                    slug\r\n                    id\r\n                    _id\r\n                }\r\n            }\r\n        }\r\n    }\r\n}` ; "],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,sBAAsB,qKAAG,CAAC;;;;;;;;;;;;;;;;;CAiBtC,CAAC"}},
    {"offset": {"line": 851, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/catelog/queries/ProductFilter.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\nimport { PRODUCT_SECTION_FRAGMENT } from \"../fragments\";\r\n\r\nexport const GET_FILTER_OPTIONS = gql`\r\n  query FetchAttribute($id: ID!) {\r\n    attribute(id: $id) {\r\n      id\r\n      code\r\n      options {\r\n        edges {\r\n          node {\r\n            id\r\n            adminName\r\n            translations {\r\n              edges {\r\n                node {\r\n                  id\r\n                  label\r\n                  locale\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_FILTER_PRODUCTS = gql`\r\n  ${PRODUCT_SECTION_FRAGMENT}\r\n  query getProducts(\r\n    $filter: String\r\n    $sortKey: String\r\n    $reverse: Boolean\r\n    $first: Int\r\n    $last: Int\r\n    $after: String\r\n    $before: String\r\n  ) {\r\n    products(\r\n      filter: $filter\r\n      sortKey: $sortKey\r\n      reverse: $reverse\r\n      first: $first\r\n      last: $last\r\n      after: $after\r\n      before: $before\r\n    ) {\r\n      totalCount\r\n\r\n      pageInfo {\r\n        endCursor\r\n        startCursor\r\n        hasNextPage\r\n        hasPreviousPage\r\n      }\r\n      edges {\r\n        node {\r\n          ...ProductSection\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;;;AAEO,MAAM,qBAAqB,qKAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;AAwBtC,CAAC;AAEM,MAAM,sBAAsB,qKAAG,CAAC;EACrC,EAAE,6LAAwB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkC7B,CAAC"}},
    {"offset": {"line": 927, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/catelog/queries/Category.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_TREE_CATEGORIES = gql`\r\n  query treeCategories($parentId: Int) {\r\n    treeCategories(parentId: $parentId) {\r\n      id\r\n      position\r\n      logoPath\r\n      status\r\n      translation{\r\n        id\r\n        name\r\n        slug\r\n        description\r\n        urlPath\r\n        metaTitle\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,sBAAsB,qKAAG,CAAC;;;;;;;;;;;;;;;;;AAiBvC,CAAC"}},
    {"offset": {"line": 955, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/catelog/queries/index.ts"],"sourcesContent":["export {\r\n  GET_PRODUCTS,\r\n  GET_PRODUCT_BY_URL_KEY,\r\n  GET_PRODUCTS_PAGINATION,\r\n  GET_RELATED_PRODUCTS,\r\n  GET_PRODUCT_SWATCH_REVIEW\r\n} from \"./Product\";\r\n\r\nexport {\r\n  GET_HOME_CATEGORIES\r\n} from \"./HomeCategories\"\r\n\r\nexport {\r\n  GET_FILTER_OPTIONS,\r\n  GET_FILTER_PRODUCTS\r\n} from \"./ProductFilter\"\r\n\r\n\r\nexport {\r\n  GET_TREE_CATEGORIES\r\n} from \"./Category\"\r\n"],"names":[],"mappings":";AAAA;AAQA;AAIA;AAMA"}},
    {"offset": {"line": 968, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/catelog/mutations/ProductReview.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const CREATE_PRODUCT_REVIEW = gql`\r\nmutation CreateProductReview($input: createProductReviewInput!) {\r\n  createProductReview(input: $input) {\r\n    productReview {\r\n      id\r\n      title\r\n      comment\r\n      rating\r\n      name\r\n      status\r\n      attachments\r\n    }\r\n    clientMutationId\r\n  }\r\n}` ; \r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,wBAAwB,qKAAG,CAAC;;;;;;;;;;;;;;CAcxC,CAAC"}},
    {"offset": {"line": 993, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/catelog/mutations/index.ts"],"sourcesContent":["export {\r\n    CREATE_PRODUCT_REVIEW\r\n} from \"./ProductReview\""],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 1000, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/theme/queries/Footer.ts"],"sourcesContent":["export const GET_FOOTER = `\r\n  query footerQuery($type: String) {\r\n    themeCustomizations(type: $type) {\r\n      edges {\r\n        node {\r\n          id\r\n          type\r\n          name\r\n          status\r\n          translations {\r\n            edges {\r\n              node {\r\n                id\r\n                locale\r\n                options\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,aAAa,CAAC;;;;;;;;;;;;;;;;;;;;;;AAsB3B,CAAC"}},
    {"offset": {"line": 1031, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/theme/queries/ThemeCustomization.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_THEME_CUSTOMIZATION = gql`\r\n  query themeCustomization($first: Int) {\r\n    themeCustomizations(first: $first) {\r\n      edges {\r\n        node {\r\n          id\r\n          type\r\n          name\r\n          status\r\n          sortOrder\r\n          translations {\r\n            edges {\r\n              node {\r\n                id\r\n                locale\r\n                options\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,0BAA0B,qKAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;AAuB3C,CAAC"}},
    {"offset": {"line": 1065, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/theme/queries/PageByUrlKey.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const PAGE_BY_URL_KEY = gql`\r\n  query PageByUrlKey($pageByUrlKey: String!) {\r\n    pageByUrlKeypages(urlKey: $pageByUrlKey) {\r\n      id\r\n      updatedAt\r\n      translation {\r\n        id\r\n        metaTitle\r\n        pageTitle\r\n        urlKey\r\n        htmlContent\r\n        cmsPageId\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,kBAAkB,qKAAG,CAAC;;;;;;;;;;;;;;;AAenC,CAAC"}},
    {"offset": {"line": 1091, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/theme/queries/index.ts"],"sourcesContent":["export {\r\n    GET_FOOTER\r\n} from \"./Footer\"\r\n\r\nexport {\r\nGET_THEME_CUSTOMIZATION\r\n} from \"./ThemeCustomization\"\r\n\r\nexport {\r\n    PAGE_BY_URL_KEY\r\n} from \"./PageByUrlKey\"\r\n"],"names":[],"mappings":";AAAA;AAIA;AAIA"}},
    {"offset": {"line": 1102, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/cart/mutations/AddProductToCart.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const CREATE_ADD_PRODUCT_IN_CART = gql`\r\n  mutation CreateAddProductInCart(\r\n    $cartId: Int\r\n    $productId: Int!\r\n    $quantity: Int!\r\n  ) {\r\n    createAddProductInCart(\r\n      input: {\r\n        cartId: $cartId\r\n        productId: $productId\r\n        quantity: $quantity\r\n      }\r\n    ) {\r\n      addProductInCart {\r\n        id\r\n        cartToken\r\n        subtotal\r\n        itemsCount\r\n        taxAmount\r\n        subtotal\r\n        shippingAmount\r\n        grandTotal\r\n        items {\r\n          edges {\r\n            node {\r\n              id\r\n              cartId\r\n              productId\r\n              name\r\n               price\r\n               baseImage\r\n              sku\r\n              quantity\r\n              type\r\n              productUrlKey\r\n              canChangeQty\r\n            }\r\n          }\r\n        }\r\n        success\r\n        message\r\n        sessionToken\r\n        isGuest\r\n        itemsQty\r\n        itemsCount\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,6BAA6B,qKAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgD9C,CAAC"}},
    {"offset": {"line": 1161, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/cart/mutations/RemoveCartItem.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const REMOVE_CART_ITEM = gql`\r\n  mutation RemoveCartItem(\r\n    $cartItemId: Int!\r\n  ) {\r\n    createRemoveCartItem(\r\n      input: {\r\n        cartItemId: $cartItemId\r\n      }\r\n    ) {\r\n      removeCartItem {\r\n      id\r\n      cartToken\r\n       taxAmount\r\n        shippingAmount\r\n        subtotal\r\n        grandTotal\r\n      items {\r\n        totalCount\r\n        edges {\r\n          node {\r\n            id\r\n              cartId\r\n              productId\r\n              name\r\n               price\r\n               baseImage\r\n              sku\r\n              quantity\r\n              type\r\n              productUrlKey\r\n              canChangeQty\r\n          }\r\n        }\r\n      }\r\n        itemsQty\r\n    }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,mBAAmB,qKAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCpC,CAAC"}},
    {"offset": {"line": 1210, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/cart/mutations/UpdateCartItems.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const UPDATE_CART_ITEM = gql\r\n  `\r\n  mutation UpdateCartItem(\r\n    $cartItemId: Int!\r\n    $quantity: Int!\r\n  ) {\r\n    createUpdateCartItem(\r\n      input: {\r\n        cartItemId: $cartItemId\r\n        quantity: $quantity\r\n      }\r\n    ) {\r\n      updateCartItem {\r\n        id\r\n         taxAmount\r\n        shippingAmount\r\n        subtotal\r\n        grandTotal\r\n        items {\r\n          edges {\r\n            node {\r\n              id\r\n              cartId\r\n              productId\r\n              name\r\n               price\r\n               baseImage\r\n              sku\r\n              quantity\r\n              type\r\n              productUrlKey\r\n              canChangeQty\r\n            }\r\n          }\r\n        }\r\n          itemsQty\r\n        grandTotal\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,mBAAmB,qKAAG,AACjC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCH,CAAC"}},
    {"offset": {"line": 1260, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/cart/mutations/GetCartItem.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_CART_ITEM = gql`\r\n  mutation GetCartItem {\r\n    createReadCart(input: {}) {\r\n      readCart {\r\n        id\r\n        itemsCount\r\n        taxAmount\r\n        grandTotal\r\n        shippingAmount\r\n        selectedShippingRate\r\n        selectedShippingRateTitle\r\n        subtotal\r\n        itemsQty\r\n        isGuest\r\n        items {\r\n          edges {\r\n            node {\r\n              id\r\n              cartId\r\n              productId\r\n              name\r\n              price\r\n              baseImage\r\n              sku\r\n              quantity\r\n              type\r\n              productUrlKey\r\n              canChangeQty\r\n            }\r\n          }\r\n        }\r\n        paymentMethod\r\n        paymentMethodTitle\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,gBAAgB,qKAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCjC,CAAC"}},
    {"offset": {"line": 1307, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/cart/mutations/CreateCartToken.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const CREATE_CART_TOKEN = gql`\r\n  mutation CreateCart {\r\n    createCartToken(input: {}) {\r\n      cartToken {\r\n         id\r\n      cartToken\r\n      customerId\r\n      success\r\n      message\r\n      sessionToken\r\n      isGuest\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,oBAAoB,qKAAG,CAAC;;;;;;;;;;;;;;AAcrC,CAAC"}},
    {"offset": {"line": 1332, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/cart/mutations/CreateMergeCart.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const CREATE_MERGE_CART = gql`\r\n  mutation createMergeCart(\r\n    $cartId: Int!\r\n  ) {\r\n    createMergeCart(\r\n      input: {\r\n        cartId: $cartId\r\n      }\r\n    ) {\r\n      mergeCart {\r\n        id\r\n         taxAmount\r\n         subtotal\r\n        shippingAmount\r\n        grandTotal\r\n        items {\r\n          edges {\r\n            node {\r\n              id\r\n              cartId\r\n              productId\r\n              name\r\n               price\r\n               baseImage\r\n              sku\r\n              quantity\r\n              type\r\n              productUrlKey\r\n              canChangeQty\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,oBAAoB,qKAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCrC,CAAC"}},
    {"offset": {"line": 1378, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/cart/mutations/index.ts"],"sourcesContent":["export {CREATE_ADD_PRODUCT_IN_CART} from './AddProductToCart';\r\nexport {REMOVE_CART_ITEM} from './RemoveCartItem';\r\nexport {UPDATE_CART_ITEM} from './UpdateCartItems';\r\nexport {GET_CART_ITEM} from './GetCartItem';\r\nexport {CREATE_CART_TOKEN} from './CreateCartToken';\r\nexport {CREATE_MERGE_CART} from \"./CreateMergeCart\""],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1395, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/checkout/queries/GetCheckoutPaymentMethods.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_CHECKOUT_PAYMENT_METHODS = gql`\r\n  query CheckoutPaymentMethods($token: String!) {\r\n    collectionPaymentMethods(token: $token) {\r\n      id\r\n      method\r\n      title\r\n      description\r\n      icon\r\n      isAllowed\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,+BAA+B,qKAAG,CAAC;;;;;;;;;;;AAWhD,CAAC"}},
    {"offset": {"line": 1417, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/checkout/queries/GetCheckoutShippingRates.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_CHECKOUT_SHIPPING_RATES = gql`\r\n  query CheckoutShippingRates($token: String!) {\r\n    collectionShippingRates(token: $token) {\r\n      id\r\n      code\r\n      description\r\n      method\r\n      price\r\n      label\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,8BAA8B,qKAAG,CAAC;;;;;;;;;;;AAW/C,CAAC"}},
    {"offset": {"line": 1439, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/checkout/queries/GetCheckoutAddress.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_CHECKOUT_ADDRESSES = gql`\r\n query collectionGetCheckoutAddresses {\r\ncollectionGetCheckoutAddresses {\r\n      edges {\r\n        node {\r\n          id\r\n          addressType\r\n          firstName\r\n          lastName\r\n          companyName\r\n          address\r\n          city\r\n          state\r\n          country\r\n          postcode\r\n          email\r\n          phone\r\n          defaultAddress\r\n          useForShipping\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,yBAAyB,qKAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;AAuB1C,CAAC"}},
    {"offset": {"line": 1473, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/checkout/queries/index.ts"],"sourcesContent":["export {GET_CHECKOUT_PAYMENT_METHODS} from \"./GetCheckoutPaymentMethods\" ;\r\nexport {GET_CHECKOUT_SHIPPING_RATES} from \"./GetCheckoutShippingRates\" ;\r\nexport {GET_CHECKOUT_ADDRESSES} from \"./GetCheckoutAddress\""],"names":[],"mappings":";AAAA;AACA;AACA"}},
    {"offset": {"line": 1484, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/checkout/mutations/CreateCheckoutAddress.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const CREATE_CHECKOUT_ADDRESS = gql`\r\n mutation createCheckoutAddress(\r\n    $billingFirstName: String!\r\n    $billingLastName: String!\r\n    $billingEmail: String!\r\n    $billingAddress: String!\r\n    $billingCity: String!\r\n    $billingCountry: String!\r\n    $billingState: String!\r\n    $billingPostcode: String!\r\n    $billingPhoneNumber: String!\r\n    $billingCompanyName : String!\r\n    $useForShipping: Boolean\r\n    $shippingFirstName : String\r\n    $shippingLastName : String\r\n    $shippingAddress : String\r\n    $shippingCity : String\r\n    $shippingCountry : String\r\n    $shippingState : String\r\n    $shippingPostcode : String\r\n    $shippingPhoneNumber :String\r\n    $shippingCompanyName : String\r\n    $shippingEmail : String\r\n) {\r\n  createCheckoutAddress(\r\n    input: {\r\n      billingFirstName: $billingFirstName\r\n      billingLastName: $billingLastName\r\n      billingEmail: $billingEmail\r\n      billingAddress: $billingAddress\r\n      billingCity: $billingCity\r\n      billingCountry: $billingCountry\r\n      billingState: $billingState\r\n      billingPostcode: $billingPostcode\r\n      billingPhoneNumber: $billingPhoneNumber\r\n      billingCompanyName : $billingCompanyName\r\n      useForShipping: $useForShipping\r\n      shippingFirstName : $shippingFirstName\r\n      shippingLastName : $shippingLastName\r\n      shippingAddress : $shippingAddress\r\n      shippingCity : $shippingCity\r\n      shippingEmail : $shippingEmail\r\n      shippingCountry : $shippingCountry\r\n      shippingState : $shippingState\r\n      shippingPostcode : $shippingPostcode\r\n      shippingPhoneNumber : $shippingPhoneNumber\r\n      shippingCompanyName : $shippingCompanyName\r\n    }\r\n  ) {\r\n    checkoutAddress {\r\n      success\r\n      message\r\n      id\r\n      cartToken\r\n    }\r\n  }\r\n}\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,0BAA0B,qKAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyD3C,CAAC"}},
    {"offset": {"line": 1552, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/checkout/mutations/CreateCheckoutOrder.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const CREATE_CHECKOUT_ORDER = gql`\r\n  mutation CreateCheckoutOrder {\r\n    createCheckoutOrder(\r\n      input: {}\r\n    ) {\r\n      checkoutOrder {\r\n        id\r\n        orderId\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,wBAAwB,qKAAG,CAAC;;;;;;;;;;;AAWzC,CAAC"}},
    {"offset": {"line": 1574, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/checkout/mutations/CreateCheckoutPaymentMethod.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const CREATE_CHECKOUT_PAYMENT_METHODS = gql`\r\n  mutation CreateCheckoutPaymentMethod(\r\n    $paymentMethod: String!\r\n    $successUrl: String\r\n    $failureUrl: String\r\n    $cancelUrl: String\r\n  ) {\r\n    createCheckoutPaymentMethod(\r\n      input: {\r\n        paymentMethod: $paymentMethod\r\n        paymentSuccessUrl: $successUrl\r\n        paymentFailureUrl: $failureUrl\r\n        paymentCancelUrl: $cancelUrl\r\n      }\r\n    ) {\r\n      checkoutPaymentMethod {\r\n        success\r\n        message\r\n        paymentGatewayUrl\r\n        paymentData\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,kCAAkC,qKAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;AAuBnD,CAAC"}},
    {"offset": {"line": 1608, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/checkout/mutations/CreateCheckoutShippingMethod.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const CREATE_CHECKOUT_SHIPPING_METHODS = gql`\r\n  mutation CreateCheckoutShippingMethod(\r\n    $shippingMethod: String!\r\n  ) {\r\n    createCheckoutShippingMethod(\r\n      input: {\r\n        shippingMethod: $shippingMethod\r\n      }\r\n    ) {\r\n      checkoutShippingMethod {\r\n        success\r\n        id\r\n        message\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,mCAAmC,qKAAG,CAAC;;;;;;;;;;;;;;;;AAgBpD,CAAC"}},
    {"offset": {"line": 1635, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/checkout/mutations/index.ts"],"sourcesContent":["export {CREATE_CHECKOUT_ADDRESS} from \"./CreateCheckoutAddress\" ;\r\nexport {CREATE_CHECKOUT_ORDER} from \"./CreateCheckoutOrder\" ;\r\nexport {CREATE_CHECKOUT_PAYMENT_METHODS} from \"./CreateCheckoutPaymentMethod\";\r\nexport {CREATE_CHECKOUT_SHIPPING_METHODS} from \"./CreateCheckoutShippingMethod\";"],"names":[],"mappings":";AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 1648, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 1654, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/lib/apollo-client.ts"],"sourcesContent":["import { GRAPHQL_URL, STOREFRONT_KEY } from \"@/utils/constants\";\r\nimport { ApolloClient, HttpLink, InMemoryCache, from } from \"@apollo/client\";\r\nimport { setContext } from \"@apollo/client/link/context\";\r\nimport { getSession } from \"next-auth/react\";\r\n\r\nexport default function initializeApollo() {\r\n  const ssrMode = typeof window === \"undefined\";\r\n  const cache = new InMemoryCache();\r\n\r\n  const httpLink = new HttpLink({\r\n    uri: GRAPHQL_URL,\r\n    credentials: \"include\",\r\n  });\r\n\r\n  const authLink = setContext(async (_, { headers }) => {\r\n    const baseHeaders = {\r\n      ...headers,\r\n      \"X-Storefront-Key\": STOREFRONT_KEY,\r\n      \"Content-Type\": \"application/json\",\r\n    };\r\n\r\n    if (ssrMode) {\r\n      return { headers: baseHeaders };\r\n    }\r\n\r\n    const session = await getSession();\r\n    const userToken = session?.user?.accessToken;\r\n\r\n    return {\r\n      headers: {\r\n        ...baseHeaders,\r\n        ...(userToken && { authorization: `Bearer ${userToken}` }),\r\n      },\r\n    };\r\n  });\r\n\r\n  return new ApolloClient({\r\n    ssrMode,\r\n    link: from([authLink, httpLink]),\r\n    cache: cache,\r\n    defaultOptions: {\r\n      watchQuery: {\r\n        fetchPolicy: ssrMode ? \"network-only\" : \"cache-first\",\r\n        nextFetchPolicy: ssrMode ? \"network-only\" : \"cache-first\",\r\n      },\r\n      query: {\r\n        fetchPolicy: ssrMode ? \"network-only\" : \"cache-first\",\r\n      },\r\n    },\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;;AAEe,SAAS;IACtB,MAAM,UAAU,kDAAkB;IAClC,MAAM,QAAQ,IAAI,yMAAa;IAE/B,MAAM,WAAW,IAAI,0LAAQ,CAAC;QAC5B,KAAK,wJAAW;QAChB,aAAa;IACf;IAEA,MAAM,WAAW,IAAA,4LAAU,EAAC,OAAO,GAAG,EAAE,OAAO,EAAE;QAC/C,MAAM,cAAc;YAClB,GAAG,OAAO;YACV,oBAAoB,2JAAc;YAClC,gBAAgB;QAClB;QAEA,wCAAa;YACX,OAAO;gBAAE,SAAS;YAAY;QAChC;;;QAEA,MAAM;QACN,MAAM;IAQR;IAEA,OAAO,IAAI,0MAAY,CAAC;QACtB;QACA,MAAM,IAAA,kLAAI,EAAC;YAAC;YAAU;SAAS;QAC/B,OAAO;QACP,gBAAgB;YACd,YAAY;gBACV,aAAa,uCAAU,iBAAiB;gBACxC,iBAAiB,uCAAU,iBAAiB;YAC9C;YACA,OAAO;gBACL,aAAa,uCAAU,iBAAiB;YAC1C;QACF;IACF;AACF"}},
    {"offset": {"line": 1714, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/lib/graphql-fetch.ts"],"sourcesContent":["import { unstable_cache } from \"next/cache\";\r\nimport { print, type DocumentNode } from \"graphql\";\r\nimport {\r\n  type ApolloQueryResult,\r\n  type OperationVariables,\r\n} from \"@apollo/client\";\r\nimport makeClient from \"./apollo-client\";\r\n\r\nlet serverClient: ReturnType<typeof makeClient> | null = null;\r\n\r\nfunction getClient() {\r\n  if (!serverClient) {\r\n    serverClient = makeClient();\r\n  }\r\n  return serverClient;\r\n}\r\n\r\n\r\nexport type CacheLifePreset =\r\n  | \"seconds\"\r\n  | \"minutes\"\r\n  | \"hours\"\r\n  | \"days\"\r\n  | \"weeks\"\r\n  | \"max\";\r\n\r\nexport type CacheLifeOption = number | CacheLifePreset;\r\n\r\nexport function getRevalidateTime(life?: CacheLifeOption): number | false {\r\n  if (!life) return false;\r\n  if (typeof life === \"number\") return life;\r\n\r\n  switch (life) {\r\n    case \"seconds\": return 10;\r\n    case \"minutes\": return 60;\r\n    case \"hours\": return 3600;\r\n    case \"days\": return 86400;\r\n    case \"weeks\": return 604800;\r\n    case \"max\": return false;\r\n    default: return false;\r\n  }\r\n}\r\n\r\nconst cacheKeyMemo = new Map<unknown, string>();\r\nconst queryPrintMemo = new WeakMap<DocumentNode, string>();\r\n\r\nexport function stableStringify(value: unknown): string {\r\n  if (value === null || typeof value !== \"object\") return JSON.stringify(value);\r\n  if (Array.isArray(value)) return `[${value.map(stableStringify).join(\",\")}]`;\r\n\r\n  const obj = value as Record<string, unknown>;\r\n  return `{${Object.keys(obj)\r\n    .sort()\r\n    .map(key => `\"${key}\":${stableStringify(obj[key])}`)\r\n    .join(\",\")}}`;\r\n}\r\n\r\nfunction stableStringifyMemo(value: unknown): string {\r\n  const cached = cacheKeyMemo.get(value);\r\n  if (cached !== undefined) return cached;\r\n  const str = stableStringify(value);\r\n  cacheKeyMemo.set(value, str);\r\n  return str;\r\n}\r\n\r\n\r\nexport interface GraphQLRequestOptions {\r\n  tags?: string[];\r\n  life?: CacheLifeOption;\r\n  noCache?: boolean;\r\n  context?: Record<string, unknown>;\r\n  fetchPolicy?: \"cache-first\" | \"network-only\" | \"no-cache\" | \"cache-only\";\r\n}\r\n\r\n\r\n\r\nexport async function graphqlRequest<\r\n  TData = unknown,\r\n  TVariables extends OperationVariables = OperationVariables\r\n>(\r\n  query: DocumentNode,\r\n  variables?: TVariables,\r\n  options?: GraphQLRequestOptions\r\n): Promise<TData> {\r\n\r\n  if (options?.noCache) {\r\n    const client = getClient();\r\n    const result: ApolloQueryResult<TData> = await client.query({\r\n      query,\r\n      variables,\r\n      context: options?.context,\r\n      fetchPolicy: options?.fetchPolicy ?? \"no-cache\",\r\n    });\r\n    return result.data;\r\n  }\r\n\r\n  if (options?.context) {\r\n    throw new Error(\r\n      \"graphqlRequest: Caching with `context` is unsafe. Use noCache instead.\"\r\n    );\r\n  }\r\n\r\n  let queryString: string;\r\n  const cached = queryPrintMemo.get(query);\r\n  if (cached !== undefined) {\r\n    queryString = cached;\r\n  } else {\r\n    queryString = print(query);\r\n    queryPrintMemo.set(query, queryString);\r\n  }\r\n\r\n  const cacheKey = `graphql:${stableStringifyMemo({\r\n    query: queryString,\r\n    variables,\r\n  })}`;\r\n\r\n  const cachedQuery = unstable_cache(\r\n    async (): Promise<TData> => {\r\n      const client = getClient();\r\n      const result: ApolloQueryResult<TData> = await client.query({\r\n        query,\r\n        variables,\r\n        fetchPolicy: \"network-only\",\r\n      });\r\n      return result.data;\r\n    },\r\n    [cacheKey],\r\n    {\r\n      tags: options?.tags,\r\n      revalidate: getRevalidateTime(options?.life),\r\n    }\r\n  );\r\n\r\n  return cachedQuery();\r\n}\r\n\r\n\r\nexport async function graphqlRequestNoCache<\r\n  TData = unknown,\r\n  TVariables extends OperationVariables = OperationVariables\r\n>(\r\n  query: DocumentNode,\r\n  variables?: TVariables,\r\n  options?: Omit<GraphQLRequestOptions, \"noCache\" | \"tags\" | \"life\">\r\n): Promise<TData> {\r\n  return graphqlRequest<TData, TVariables>(query, variables, {\r\n    ...options,\r\n    noCache: true,\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AAKA;;;;AAEA,IAAI,eAAqD;AAEzD,SAAS;IACP,IAAI,CAAC,cAAc;QACjB,eAAe,IAAA,yJAAU;IAC3B;IACA,OAAO;AACT;AAaO,SAAS,kBAAkB,IAAsB;IACtD,IAAI,CAAC,MAAM,OAAO;IAClB,IAAI,OAAO,SAAS,UAAU,OAAO;IAErC,OAAQ;QACN,KAAK;YAAW,OAAO;QACvB,KAAK;YAAW,OAAO;QACvB,KAAK;YAAS,OAAO;QACrB,KAAK;YAAQ,OAAO;QACpB,KAAK;YAAS,OAAO;QACrB,KAAK;YAAO,OAAO;QACnB;YAAS,OAAO;IAClB;AACF;AAEA,MAAM,eAAe,IAAI;AACzB,MAAM,iBAAiB,IAAI;AAEpB,SAAS,gBAAgB,KAAc;IAC5C,IAAI,UAAU,QAAQ,OAAO,UAAU,UAAU,OAAO,KAAK,SAAS,CAAC;IACvE,IAAI,MAAM,OAAO,CAAC,QAAQ,OAAO,CAAC,CAAC,EAAE,MAAM,GAAG,CAAC,iBAAiB,IAAI,CAAC,KAAK,CAAC,CAAC;IAE5E,MAAM,MAAM;IACZ,OAAO,CAAC,CAAC,EAAE,OAAO,IAAI,CAAC,KACpB,IAAI,GACJ,GAAG,CAAC,CAAA,MAAO,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,gBAAgB,GAAG,CAAC,IAAI,GAAG,EAClD,IAAI,CAAC,KAAK,CAAC,CAAC;AACjB;AAEA,SAAS,oBAAoB,KAAc;IACzC,MAAM,SAAS,aAAa,GAAG,CAAC;IAChC,IAAI,WAAW,WAAW,OAAO;IACjC,MAAM,MAAM,gBAAgB;IAC5B,aAAa,GAAG,CAAC,OAAO;IACxB,OAAO;AACT;AAaO,eAAe,eAIpB,KAAmB,EACnB,SAAsB,EACtB,OAA+B;IAG/B,IAAI,SAAS,SAAS;QACpB,MAAM,SAAS;QACf,MAAM,SAAmC,MAAM,OAAO,KAAK,CAAC;YAC1D;YACA;YACA,SAAS,SAAS;YAClB,aAAa,SAAS,eAAe;QACvC;QACA,OAAO,OAAO,IAAI;IACpB;IAEA,IAAI,SAAS,SAAS;QACpB,MAAM,IAAI,MACR;IAEJ;IAEA,IAAI;IACJ,MAAM,SAAS,eAAe,GAAG,CAAC;IAClC,IAAI,WAAW,WAAW;QACxB,cAAc;IAChB,OAAO;QACL,cAAc,IAAA,wKAAK,EAAC;QACpB,eAAe,GAAG,CAAC,OAAO;IAC5B;IAEA,MAAM,WAAW,CAAC,QAAQ,EAAE,oBAAoB;QAC9C,OAAO;QACP;IACF,IAAI;IAEJ,MAAM,cAAc,IAAA,+JAAc,EAChC;QACE,MAAM,SAAS;QACf,MAAM,SAAmC,MAAM,OAAO,KAAK,CAAC;YAC1D;YACA;YACA,aAAa;QACf;QACA,OAAO,OAAO,IAAI;IACpB,GACA;QAAC;KAAS,EACV;QACE,MAAM,SAAS;QACf,YAAY,kBAAkB,SAAS;IACzC;IAGF,OAAO;AACT;AAGO,eAAe,sBAIpB,KAAmB,EACnB,SAAsB,EACtB,OAAkE;IAElE,OAAO,eAAkC,OAAO,WAAW;QACzD,GAAG,OAAO;QACV,SAAS;IACX;AACF"}},
    {"offset": {"line": 1824, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/index.ts"],"sourcesContent":["export * from \"./catelog/queries\";\r\nexport * from \"./catelog/fragments\";\r\nexport * from \"./catelog/mutations\";\r\nexport * from \"./theme/queries\";\r\nexport * from \"./cart/mutations\";\r\nexport * from \"./checkout/queries\";\r\nexport * from \"./checkout/mutations\";\r\nexport * from \"./types\";\r\nexport { graphqlRequest, graphqlRequestNoCache } from \"../lib/graphql-fetch\";\r\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1863, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/theme/mutations/subscribeToNewsletter.ts"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nexport const SUBSCRIBE_TO_NEWSLETTER = gql`\r\n  mutation SubscribeToNewsletter($input: createNewsletterSubscriptionInput!) {\r\n    createNewsletterSubscription(input: $input) {\r\n      newsletterSubscription {\r\n        success\r\n        message\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,0BAA0B,qKAAG,CAAC;;;;;;;;;AAS3C,CAAC"}},
    {"offset": {"line": 1883, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/graphql/theme/mutations/index.ts"],"sourcesContent":["export {\r\n    SUBSCRIBE_TO_NEWSLETTER\r\n} from \"./subscribeToNewsletter\""],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 1890, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/utils/bagisto/index.ts"],"sourcesContent":["import { cookies, headers } from \"next/headers\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { NextRequest, NextResponse } from \"next/server\";\r\nimport {\r\n  BagistoCreateUserOperation,\r\n  BagistoProductInfo,\r\n  BagistoUser,\r\n  ImageInfo,\r\n} from \"@/types/types\";\r\nimport {\r\n  BAGISTO_SESSION,\r\n  HIDDEN_PRODUCT_TAG,\r\n  STOREFRONT_KEY,\r\n} from \"../constants\";\r\nimport { getServerSession } from \"next-auth\";\r\nimport {\r\n  CUSTOMER_LOGOUT,\r\n  CUSTOMER_REGISTRATION,\r\n  FORGET_PASSWORD,\r\n} from \"@/graphql/customer/mutations\";\r\nimport { DocumentNode } from \"graphql\";\r\nimport { GRAPHQL_URL } from \"@/utils/constants\";\r\nimport { GET_FOOTER, PAGE_BY_URL_KEY } from \"@/graphql\";\r\nimport { SUBSCRIBE_TO_NEWSLETTER } from \"@/graphql/theme/mutations\";\r\nimport { authOptions } from \"@utils/auth\";\r\nimport { RegisterInputs } from \"@components/customer/RegistrationForm\";\r\nimport { GetFooterResponse, GetFooterVariables, ThemeCustomizationResult } from \"@/types/theme/theme-customization\";\r\n\r\ntype ExtractVariables<T> = T extends { variables: object }\r\n  ? T[\"variables\"]\r\n  : never;\r\n\r\nexport async function bagistoFetch<T>({\r\n  cache = \"force-cache\",\r\n  headers,\r\n  query,\r\n  tags,\r\n  variables,\r\n  isCookies = true,\r\n  guestToken,\r\n  revalidate = 60,\r\n}: {\r\n  cache?: RequestCache;\r\n  headers?: HeadersInit | Record<string, string>;\r\n  query: string | DocumentNode;\r\n  tags?: string[];\r\n  variables?: ExtractVariables<T>;\r\n  isCookies?: boolean;\r\n  guestToken?: string;\r\n  revalidate?: number;\r\n}): Promise<{ status: number; body: T } | never> {\r\n  try {\r\n    const queryString =\r\n      typeof query === \"string\" ? query : query.loc?.source?.body ?? \"\";\r\n\r\n    let bagistoCartId = \"\";\r\n    let accessToken: string | undefined = undefined;\r\n\r\n    if (isCookies) {\r\n      const cookieStore = await cookies();\r\n      bagistoCartId = cookieStore.get(BAGISTO_SESSION)?.value ?? \"\";\r\n      const sessions = await getServerSession(authOptions);\r\n      accessToken = (sessions as any)?.user?.accessToken;\r\n\r\n    }\r\n\r\n    const baseHeaders: Record<string, string> = {\r\n      \"Content-Type\": \"application/json\",\r\n      \"X-STOREFRONT-KEY\": STOREFRONT_KEY,\r\n    };\r\n\r\n    if (accessToken) {\r\n      baseHeaders.Authorization = `Bearer ${accessToken}`;\r\n    }\r\n    else if (guestToken) {\r\n      baseHeaders.Authorization = `Bearer ${guestToken}`;\r\n    }\r\n\r\n    if (bagistoCartId) {\r\n      baseHeaders.Cookie = `${BAGISTO_SESSION}=${bagistoCartId}`;\r\n    }\r\n\r\n    if (isCookies && headers) {\r\n      if (headers instanceof Headers) {\r\n        headers.forEach((value, key) => (baseHeaders[key] = value));\r\n      } else {\r\n        Object.assign(baseHeaders, headers);\r\n      }\r\n    }\r\n\r\n    const result = await fetch(GRAPHQL_URL, {\r\n      method: \"POST\",\r\n      headers: baseHeaders,\r\n      body: JSON.stringify({\r\n        query: queryString,\r\n        ...(variables && { variables }),\r\n      }),\r\n      cache,\r\n      next: {\r\n        revalidate: cache === \"no-store\" ? 0 : revalidate || 60,\r\n        ...(tags && { tags }),\r\n      },\r\n    });\r\n\r\n    const body = await result.json();\r\n\r\n    if (body.errors) throw body.errors[0];\r\n\r\n    return { status: result.status, body };\r\n  } catch (e) {\r\n    throw e;\r\n  }\r\n}\r\n\r\nexport async function bagistoFetchNoSession<T>({\r\n  query,\r\n  tags,\r\n  variables,\r\n  headers,\r\n  cache = \"force-cache\",\r\n  revalidate = 60,\r\n}: {\r\n  query: string;\r\n  tags?: string[];\r\n  variables?: ExtractVariables<T>;\r\n  headers?: HeadersInit | Record<string, string>;\r\n  cache?: RequestCache;\r\n  isCookies?: boolean;\r\n  revalidate?: number,\r\n}): Promise<{ status: number; body: T } | never> {\r\n  try {\r\n    const result = await fetch(GRAPHQL_URL, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"X-STOREFRONT-KEY\": STOREFRONT_KEY,\r\n        \"x-locale\": \"en\",\r\n        \"x-currency\": \"USD\",\r\n        ...headers,\r\n      },\r\n      body: JSON.stringify({\r\n        ...(query && { query }),\r\n        ...(variables && { variables }),\r\n      }),\r\n      cache,\r\n      next: {\r\n        revalidate: cache === \"no-store\" ? 0 : revalidate || 60,\r\n        ...(tags && { tags }),\r\n      },\r\n    });\r\n\r\n    const body = await result.json();\r\n\r\n    if (body.errors) {\r\n      throw body.errors[0];\r\n    }\r\n\r\n    return {\r\n      status: result.status,\r\n      body,\r\n    };\r\n  } catch (e) {\r\n    throw { error: e, query };\r\n  }\r\n}\r\n\r\nexport const removeEdgesAndNodes = <T>(array: Array<T>) => {\r\n  return array?.map((edge) => edge);\r\n};\r\n\r\nconst reshapeImages = (images: Array<ImageInfo>, productTitle: string) => {\r\n  const flattened = removeEdgesAndNodes(images);\r\n\r\n  return flattened.map((image) => {\r\n    const filename = image?.url.match(/.*\\/(.*)\\..*/)?.[1];\r\n\r\n    return {\r\n      ...image,\r\n      altText: image?.altText || `${productTitle} - ${filename}`,\r\n    };\r\n  });\r\n};\r\n\r\nconst reshapeProduct = (\r\n  product: BagistoProductInfo,\r\n  filterHiddenProducts: boolean = true\r\n) => {\r\n  if (\r\n    !product ||\r\n    (filterHiddenProducts && product.tags?.includes(HIDDEN_PRODUCT_TAG))\r\n  ) {\r\n    return undefined;\r\n  }\r\n\r\n  const { images, variants, ...rest } = product;\r\n\r\n  return {\r\n    ...rest,\r\n    images: reshapeImages(images, product.title),\r\n    variants: removeEdgesAndNodes(variants),\r\n  };\r\n};\r\n\r\nexport const reshapeProducts = (products: BagistoProductInfo[]) => {\r\n  const reshapedProducts = [];\r\n\r\n  for (const product of products) {\r\n    if (product) {\r\n      const reshapedProduct = reshapeProduct(product);\r\n\r\n      if (reshapedProduct) {\r\n        reshapedProducts.push(reshapedProduct);\r\n      }\r\n    }\r\n  }\r\n\r\n  return reshapedProducts;\r\n};\r\n\r\nexport async function createUserToLogin(\r\n  input: RegisterInputs\r\n): Promise<BagistoUser> {\r\n  try {\r\n    const { passwordConfirmation, ...userInput } = input;\r\n    const res = await bagistoFetch<BagistoCreateUserOperation>({\r\n      query: CUSTOMER_REGISTRATION,\r\n      variables: {\r\n        input: {\r\n          ...userInput,\r\n          confirmPassword: passwordConfirmation,\r\n          status: \"1\",\r\n          isVerified: \"1\",\r\n          isSuspended: \"0\",\r\n          subscribedToNewsLetter: true,\r\n        },\r\n      },\r\n      cache: \"no-store\",\r\n      revalidate: 3600,\r\n    });\r\n\r\n    return res.body.data.createCustomer.customer;\r\n  } catch (error: any) {\r\n    throw new Error(error?.message || \"Registration failed\");\r\n  }\r\n}\r\n\r\nexport async function logoutUser() {\r\n  try {\r\n    const session = await getServerSession(authOptions);\r\n    const token = session?.user?.accessToken;\r\n\r\n    if (!token) {\r\n      return {\r\n        success: false,\r\n        message: \"User token missing\",\r\n      };\r\n    }\r\n\r\n    const res = await bagistoFetch<{\r\n      data: { createLogout: { logout: { success: boolean; message: string } } };\r\n      variables: { input: { token: string } };\r\n    }>({\r\n      query: CUSTOMER_LOGOUT,\r\n      isCookies: true,\r\n      revalidate: 3600,\r\n    });\r\n\r\n    const success = res?.body?.data?.createLogout?.logout?.success ?? false;\r\n\r\n    const message =\r\n      res?.body?.data?.createLogout?.logout?.message ?? \"Logout executed\";\r\n\r\n    const cookieStore = await cookies();\r\n    cookieStore.delete(BAGISTO_SESSION);\r\n\r\n    return {\r\n      success,\r\n      message,\r\n    };\r\n  } catch (error: unknown) {\r\n    return {\r\n      success: false,\r\n      message: error instanceof Error ? error.message : \"Something went wrong\",\r\n    };\r\n  }\r\n}\r\n\r\nexport async function recoverUserLogin(\r\n  input: Record<string, unknown>\r\n): Promise<unknown> {\r\n  try {\r\n    return await bagistoFetch<{\r\n      data: unknown;\r\n      variables: Record<string, unknown>;\r\n    }>({\r\n      query: FORGET_PASSWORD,\r\n      variables: {\r\n        ...input,\r\n      },\r\n      cache: \"no-store\",\r\n      revalidate: 3600,\r\n    });\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n}\r\n\r\nexport async function subsCribeUser(\r\n  input: Record<string, unknown>\r\n): Promise<unknown> {\r\n  try {\r\n    return await bagistoFetch<{\r\n      data: unknown;\r\n      variables: Record<string, unknown>;\r\n    }>({\r\n      query: SUBSCRIBE_TO_NEWSLETTER,\r\n      variables: {\r\n        ...input,\r\n      },\r\n      cache: \"no-store\",\r\n    });\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n}\r\n\r\n\r\nexport async function getThemeCustomization(): Promise<ThemeCustomizationResult> {\r\n  try {\r\n    const footerRes = await bagistoFetch<{\r\n      data: GetFooterResponse;\r\n      variables: GetFooterVariables\r\n    }>({\r\n      query: GET_FOOTER,\r\n      variables: { type: \"footer_links\" },\r\n      isCookies: false,\r\n      revalidate: 86400,\r\n    });\r\n\r\n    const servicesRes = await bagistoFetch<{\r\n      data: GetFooterResponse;\r\n      variables: GetFooterVariables;\r\n    }>({\r\n      query: GET_FOOTER,\r\n      variables: { type: \"services_content\" },\r\n      isCookies: false,\r\n      revalidate: 86400,\r\n    });\r\n\r\n\r\n\r\n    return {\r\n      footer_links: footerRes.body.data,\r\n      services_content: servicesRes.body.data,\r\n    };\r\n  } catch (err) {\r\n    console.error(\"ThemeCustomization Error:\", err);\r\n  }\r\n\r\n  return {\r\n    footer_links: null,\r\n    services_content: null,\r\n  };\r\n}\r\n\r\nexport async function revalidate(req: NextRequest): Promise<NextResponse> {\r\n  const collectionWebhooks = [\r\n    \"collections/create\",\r\n    \"collections/delete\",\r\n    \"collections/update\",\r\n  ];\r\n  const productWebhooks = [\r\n    \"products/create\",\r\n    \"products/delete\",\r\n    \"products/update\",\r\n  ];\r\n  const topic = (await headers()).get(\"x-bagisto-topic\") || \"unknown\";\r\n  const secret = req.nextUrl.searchParams.get(\"secret\");\r\n  const isCollectionUpdate = collectionWebhooks.includes(topic);\r\n  const isProductUpdate = productWebhooks.includes(topic);\r\n\r\n  if (!secret || secret !== process.env.BAGISTO_REVALIDATION_SECRET) {\r\n    return NextResponse.json({ status: 200 });\r\n  }\r\n\r\n  if (!isCollectionUpdate && !isProductUpdate) {\r\n    return NextResponse.json({ status: 200, message: \"No action needed\" });\r\n  }\r\n\r\n  if (isProductUpdate) {\r\n    revalidatePath(\"/\", \"layout\");\r\n  } else if (isCollectionUpdate) {\r\n    revalidatePath(\"/\", \"layout\");\r\n  }\r\n\r\n  return NextResponse.json({\r\n    status: 200,\r\n    revalidated: true,\r\n    topic,\r\n    now: Date.now()\r\n  });\r\n}\r\n\r\n\r\nexport async function getPage(\r\n  input: { urlKey: string }\r\n): Promise<any> {\r\n  const res = await bagistoFetch<any>({\r\n    query: PAGE_BY_URL_KEY,\r\n    cache: \"no-store\",\r\n    isCookies: false,\r\n    variables: { pageByUrlKey: input.urlKey },\r\n  });\r\n\r\n  return res.body.data?.pageByUrlKeypages;\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2236, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/utils/auth.ts"],"sourcesContent":["import NextAuth, { NextAuthOptions } from \"next-auth\";\r\nimport CredentialsProvider from \"next-auth/providers/credentials\";\r\nimport { bagistoFetch } from \"@/utils/bagisto\";\r\nimport { CUSTOMER_LOGIN } from \"@/graphql/customer/mutations\";\r\n\r\nexport const authOptions: NextAuthOptions = {\r\n  session: {\r\n    strategy: \"jwt\",\r\n    maxAge: 30 * 24 * 60 * 60,\r\n  },\r\n\r\n  providers: [\r\n    CredentialsProvider({\r\n      name: \"Credentials\",\r\n      credentials: {\r\n        username: { label: \"Email\", type: \"text\" },\r\n        password: { label: \"Password\", type: \"password\" },\r\n      },\r\n\r\n\r\n      authorize: async (credentials): Promise<any> => {\r\n        if (!credentials?.username || !credentials?.password) {\r\n          throw new Error(\"Email and password are required.\");\r\n        }\r\n\r\n        const input = {\r\n          email: credentials.username,\r\n          password: credentials.password,\r\n        };\r\n\r\n\r\n        const res = await bagistoFetch<any>({\r\n          query: CUSTOMER_LOGIN,\r\n          variables: { input },\r\n          cache: \"no-store\",\r\n        });\r\n\r\n        const data = res?.body?.data?.createCustomerLogin?.customerLogin;\r\n\r\n        if (!data || !data.success || !data.token) {\r\n          throw new Error(data?.message || \"Invalid credentials.\");\r\n        }\r\n\r\n        return {\r\n          id: data.id, // required by NextAuth\r\n          email: credentials.username,\r\n          name: credentials.username, // Using email as name since firstName/lastName are missing in response\r\n          apiToken: data.apiToken,\r\n          accessToken: data.token, // Sanctum token\r\n          role: \"customer\",\r\n        };\r\n      },\r\n    }),\r\n  ],\r\n\r\n  callbacks: {\r\n    async jwt({ token, user }) {\r\n      if (user) {\r\n        token.id = user.id;\r\n        token.apiToken = user.apiToken;\r\n        token.accessToken = user.accessToken;\r\n        token.role = \"customer\";\r\n      }\r\n      return token;\r\n    },\r\n\r\n    async session({ session, token }) {\r\n      session.user = {\r\n        ...session.user,\r\n        id: token.id || \"\",\r\n        apiToken: token.apiToken,\r\n        accessToken: token.accessToken,\r\n        role: token.role,\r\n      };\r\n\r\n      return session;\r\n    },\r\n  },\r\n\r\n  pages: {\r\n    signIn: \"/customer/login\",\r\n    error: \"/login\",\r\n  },\r\n\r\n  secret: process.env.NEXT_PUBLIC_NEXT_AUTH_SECRET,\r\n};\r\n\r\nexport const handler = NextAuth(authOptions);\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AAAA;;;;;AAEO,MAAM,cAA+B;IAC1C,SAAS;QACP,UAAU;QACV,QAAQ,KAAK,KAAK,KAAK;IACzB;IAEA,WAAW;QACT,IAAA,mLAAmB,EAAC;YAClB,MAAM;YACN,aAAa;gBACX,UAAU;oBAAE,OAAO;oBAAS,MAAM;gBAAO;gBACzC,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAW;YAClD;YAGA,WAAW,OAAO;gBAChB,IAAI,CAAC,aAAa,YAAY,CAAC,aAAa,UAAU;oBACpD,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,QAAQ;oBACZ,OAAO,YAAY,QAAQ;oBAC3B,UAAU,YAAY,QAAQ;gBAChC;gBAGA,MAAM,MAAM,MAAM,IAAA,gKAAY,EAAM;oBAClC,OAAO,0LAAc;oBACrB,WAAW;wBAAE;oBAAM;oBACnB,OAAO;gBACT;gBAEA,MAAM,OAAO,KAAK,MAAM,MAAM,qBAAqB;gBAEnD,IAAI,CAAC,QAAQ,CAAC,KAAK,OAAO,IAAI,CAAC,KAAK,KAAK,EAAE;oBACzC,MAAM,IAAI,MAAM,MAAM,WAAW;gBACnC;gBAEA,OAAO;oBACL,IAAI,KAAK,EAAE;oBACX,OAAO,YAAY,QAAQ;oBAC3B,MAAM,YAAY,QAAQ;oBAC1B,UAAU,KAAK,QAAQ;oBACvB,aAAa,KAAK,KAAK;oBACvB,MAAM;gBACR;YACF;QACF;KACD;IAED,WAAW;QACT,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACvB,IAAI,MAAM;gBACR,MAAM,EAAE,GAAG,KAAK,EAAE;gBAClB,MAAM,QAAQ,GAAG,KAAK,QAAQ;gBAC9B,MAAM,WAAW,GAAG,KAAK,WAAW;gBACpC,MAAM,IAAI,GAAG;YACf;YACA,OAAO;QACT;QAEA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,QAAQ,IAAI,GAAG;gBACb,GAAG,QAAQ,IAAI;gBACf,IAAI,MAAM,EAAE,IAAI;gBAChB,UAAU,MAAM,QAAQ;gBACxB,aAAa,MAAM,WAAW;gBAC9B,MAAM,MAAM,IAAI;YAClB;YAEA,OAAO;QACT;IACF;IAEA,OAAO;QACL,QAAQ;QACR,OAAO;IACT;IAEA,MAAM;AACR;AAEO,MAAM,UAAU,IAAA,gKAAQ,EAAC"}},
    {"offset": {"line": 2331, "column": 0}, "map": {"version":3,"sources":["file:///C:/xampp/htdocs/trad/storefront/src/app/api/auth/%5B...nextauth%5D/route.ts"],"sourcesContent":["import NextAuth from \"next-auth\";\r\nimport { authOptions } from \"../../../../utils/auth\";\r\n\r\nconst handler = NextAuth(authOptions);\r\n\r\nexport { handler as GET, handler as POST };\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,MAAM,UAAU,IAAA,gKAAQ,EAAC,mJAAW"}}]
}