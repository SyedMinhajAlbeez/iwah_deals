{"version":3,"sources":["../../../../../storefront/node_modules/%40heroicons/react/24/outline/esm/ChevronLeftIcon.js","../../../../../storefront/node_modules/%40heroicons/react/24/outline/esm/ChevronRightIcon.js","../../../../../storefront/src/components/catalog/Pagination.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction ChevronLeftIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 19.5 8.25 12l7.5-7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChevronLeftIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ChevronRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m8.25 4.5 7.5 7.5-7.5 7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChevronRightIcon);\nexport default ForwardRef;","\"use client\";\r\n\r\nimport { createUrl } from \"@/utils/helper\";\r\nimport { ChevronLeftIcon, ChevronRightIcon } from \"@heroicons/react/24/outline\";\r\nimport clsx from \"clsx\";\r\nimport { usePathname, useSearchParams, useRouter } from \"next/navigation\";\r\n\r\nexport default function Pagination({\r\n  itemsPerPage,\r\n  itemsTotal,\r\n  currentPage,\r\n  nextCursor,\r\n  prevCursor,\r\n}: {\r\n  itemsPerPage: number;\r\n  itemsTotal: number;\r\n  currentPage: number;\r\n  nextCursor?: string;\r\n  prevCursor?: string;\r\n}) {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const currentParams = useSearchParams();\r\n\r\n  const pageCount = Math.ceil(itemsTotal / itemsPerPage);\r\n\r\n  const handlePageClick = (page: number) => {\r\n    if (page < 0 || page >= pageCount) return;\r\n\r\n    const params = new URLSearchParams(currentParams.toString());\r\n\r\n    params.set(\"page\", String(page + 1));\r\n\r\n    if (page === currentPage + 1 && nextCursor) {\r\n      params.set(\"cursor\", nextCursor);\r\n      params.delete(\"before\");\r\n    } else if (page === currentPage - 1 && prevCursor) {\r\n      params.set(\"before\", prevCursor);\r\n      params.delete(\"cursor\");\r\n    } else {\r\n      params.delete(\"cursor\");\r\n      params.delete(\"before\");\r\n    }\r\n\r\n    const newUrl = createUrl(pathname, params);\r\n    router.replace(newUrl);\r\n  };\r\n\r\n  const renderDots = () => {\r\n    const dots = [];\r\n    const maxVisiblePages = 5;\r\n\r\n    if (pageCount <= maxVisiblePages) {\r\n      for (let i = 0; i < pageCount; i++) {\r\n        dots.push(renderPageButton(i));\r\n      }\r\n    } else {\r\n      const halfMax = Math.floor(maxVisiblePages / 2);\r\n      const start = Math.max(0, currentPage - halfMax);\r\n      const end = Math.min(pageCount, start + maxVisiblePages);\r\n\r\n      if (start > 0) {\r\n        dots.push(renderPageButton(0));\r\n        if (start > 1) {\r\n          dots.push(\r\n            <li key=\"dot-start\" className=\"pagination-dot\">...</li>\r\n          );\r\n        }\r\n      }\r\n\r\n      for (let i = start; i < end; i++) {\r\n        dots.push(renderPageButton(i));\r\n      }\r\n\r\n      if (end < pageCount) {\r\n        if (end < pageCount - 1) {\r\n          dots.push(\r\n            <li key=\"dot-end\" className=\"pagination-dot\">...</li>\r\n          );\r\n        }\r\n        dots.push(renderPageButton(pageCount - 1));\r\n      }\r\n    }\r\n\r\n    return dots;\r\n  };\r\n\r\n  const renderPageButton = (pageIndex: number) => (\r\n    <li\r\n      key={pageIndex}\r\n      onClick={() => handlePageClick(pageIndex)}\r\n      className=\"rounded-sm cursor-pointer\"\r\n    >\r\n      <button\r\n        className={`\r\n          flex h-10 w-10 items-center justify-center text-lg rounded-sm duration-300 cursor-pointer\r\n          ${pageIndex === currentPage\r\n            ? \"border !border-gray-300 dark:border-gray-700\"\r\n            : \"text-gray-500 dark:!text-gray-400 hover:border-gray-500 dark:hover:border-gray-700\"\r\n          }\r\n        `}\r\n        aria-label={`Goto Page ${pageIndex + 1}`}\r\n        aria-current={pageIndex === currentPage}\r\n      >\r\n        {pageIndex + 1}\r\n      </button>\r\n    </li>\r\n  );\r\n\r\n  return (\r\n    <ul\r\n      className=\"mx-auto h-10 gap-x-2 text-base flex justify-center\"\r\n      role=\"navigation\"\r\n      aria-label=\"Pagination\"\r\n    >\r\n      <li\r\n        key=\"prev\"\r\n        onClick={() => handlePageClick(currentPage - 1)}\r\n        className={clsx(\r\n          \"cursor-pointer rounded-lg hover:text-gray-700\",\r\n          currentPage > 0 ? \"block cursor-pointer\" : \"\"\r\n        )}\r\n      >\r\n        <button\r\n          className={clsx(\r\n            \"ml-0 flex h-10 items-center justify-center px-2 leading-tight\",\r\n            currentPage > 0 ? \"cursor-pointer\" : \"cursor-not-allowed\"\r\n          )}\r\n          aria-label=\"Previous page\"\r\n          disabled={currentPage <= 0}\r\n        >\r\n          <ChevronLeftIcon className=\"h-5\" />\r\n        </button>\r\n      </li>\r\n\r\n      {renderDots()}\r\n\r\n      <li\r\n        key=\"next\"\r\n        onClick={() => handlePageClick(currentPage + 1)}\r\n        className={clsx(\r\n          \"rounded-lg hover:text-gray-700\",\r\n          currentPage < pageCount - 1 ? \"block cursor-pointer\" : \"\"\r\n        )}\r\n      >\r\n        <button\r\n          className={clsx(\r\n            \"ml-0 flex h-10 items-center justify-center px-2 leading-tight\",\r\n            currentPage < pageCount - 1 ? \"cursor-pointer\" : \"cursor-not-allowed\"\r\n          )}\r\n          aria-label=\"Next page\"\r\n          disabled={currentPage >= pageCount - 1}\r\n        >\r\n          <ChevronRightIcon className=\"h-5\" />\r\n        </button>\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0,1]}