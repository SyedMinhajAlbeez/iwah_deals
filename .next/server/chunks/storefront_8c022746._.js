module.exports=[65517,97552,56478,41e3,44781,1456,49362,e=>{"use strict";var t,r,n,i,o,a,s,u,c,l=function(e,t){return(l=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function d(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var p=function(){return(p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function f(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function h(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}u((n=n.apply(e,t||[])).next())})}function y(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){var c=[s,u];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function g(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError,e.s(["__assign",()=>p,"__awaiter",()=>h,"__extends",()=>d,"__generator",()=>y,"__rest",()=>f,"__spreadArray",()=>g],97552);let m=/\r\n|[\n\r]/g;function v(e,t){let r=0,n=1;for(let i of e.body.matchAll(m)){if("number"==typeof i.index||function(e,t){if(!e)throw Error("Unexpected invariant triggered.")}(!1),i.index>=t)break;r=i.index+i[0].length,n+=1}return{line:n,column:t+1-r}}function _(e,t){let r=e.locationOffset.column-1,n="".padStart(r)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?r:0,u=t.column+s,c=`${e.name}:${a}:${u}
`,l=n.split(/\r\n|[\n\r]/g),d=l[i];if(d.length>120){let e=Math.floor(u/80),t=[];for(let e=0;e<d.length;e+=80)t.push(d.slice(e,e+80));return c+b([[`${a} |`,t[0]],...t.slice(1,e+1).map(e=>["|",e]),["|","^".padStart(u%80)],["|",t[e+1]]])}return c+b([[`${a-1} |`,l[i-1]],[`${a} |`,d],["|","^".padStart(u)],[`${a+1} |`,l[i+1]]])}function b(e){let t=e.filter(([e,t])=>void 0!==t),r=Math.max(...t.map(([e])=>e.length));return t.map(([e,t])=>e.padStart(r)+(t?" "+t:"")).join("\n")}class w extends Error{constructor(e,...t){var r,n,i;const{nodes:o,source:a,positions:s,path:u,originalError:c,extensions:l}=function(e){let t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!=u?u:void 0,this.originalError=null!=c?c:void 0,this.nodes=E(Array.isArray(o)?o:o?[o]:void 0);const d=E(null==(r=this.nodes)?void 0:r.map(e=>e.loc).filter(e=>null!=e));this.source=null!=a?a:null==d||null==(n=d[0])?void 0:n.source,this.positions=null!=s?s:null==d?void 0:d.map(e=>e.start),this.locations=s&&a?s.map(e=>v(a,e)):null==d?void 0:d.map(e=>v(e.source,e.start));const p=!function(e){return"object"==typeof e&&null!==e}(null==c?void 0:c.extensions)||null==c?void 0:c.extensions;this.extensions=null!=(i=null!=l?l:p)?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=c&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,w):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(let r of this.nodes){var t;r.loc&&(e+="\n\n"+_((t=r.loc).source,v(t.source,t.start)))}else if(this.source&&this.locations)for(let t of this.locations)e+="\n\n"+_(this.source,t);return e}toJSON(){let e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function E(e){return void 0===e||0===e.length?void 0:e}function S(e,t,r){return new w(`Syntax Error: ${r}`,{source:e,positions:[t]})}class k{constructor(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class O{constructor(e,t,r,n,i,o){this.kind=e,this.start=t,this.end=r,this.line=n,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}let T={Name:[],Document:["definitions"],OperationDefinition:["description","name","variableDefinitions","directives","selectionSet"],VariableDefinition:["description","variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["description","name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],TypeCoordinate:["name"],MemberCoordinate:["name","memberName"],ArgumentCoordinate:["name","fieldName","argumentName"],DirectiveCoordinate:["name"],DirectiveArgumentCoordinate:["name","argumentName"]},A=new Set(Object.keys(T));function x(e){let t=null==e?void 0:e.kind;return"string"==typeof t&&A.has(t)}function R(e){return 9===e||32===e}function P(e){return e>=48&&e<=57}function C(e){return e>=97&&e<=122||e>=65&&e<=90}function I(e){return C(e)||95===e}function N(e){var t,r;let n=Number.MAX_SAFE_INTEGER,i=null,o=-1;for(let t=0;t<e.length;++t){let a=e[t],s=function(e){let t=0;for(;t<e.length&&R(e.charCodeAt(t));)++t;return t}(a);s!==a.length&&(i=null!=(r=i)?r:t,o=t,0!==t&&s<n&&(n=s))}return e.map((e,t)=>0===t?e:e.slice(n)).slice(null!=(t=i)?t:0,o+1)}function j(e,t){let r=e.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=1===n.length,o=n.length>1&&n.slice(1).every(e=>0===e.length||R(e.charCodeAt(0))),a=r.endsWith('\\"""'),s=e.endsWith('"')&&!a,u=e.endsWith("\\"),c=s||u,l=!(null!=t&&t.minimize)&&(!i||e.length>70||c||o||a),d="",p=i&&R(e.charCodeAt(0));return(l&&!p||o)&&(d+="\n"),d+=r,(l||c)&&(d+="\n"),'"""'+d+'"""'}(t=a||(a={})).QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription",e.s(["Location",()=>k,"OperationTypeNode",()=>a,"QueryDocumentKeys",0,T,"Token",()=>O,"isNode",()=>x],56478),(r=s||(s={})).QUERY="QUERY",r.MUTATION="MUTATION",r.SUBSCRIPTION="SUBSCRIPTION",r.FIELD="FIELD",r.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",r.FRAGMENT_SPREAD="FRAGMENT_SPREAD",r.INLINE_FRAGMENT="INLINE_FRAGMENT",r.VARIABLE_DEFINITION="VARIABLE_DEFINITION",r.SCHEMA="SCHEMA",r.SCALAR="SCALAR",r.OBJECT="OBJECT",r.FIELD_DEFINITION="FIELD_DEFINITION",r.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",r.INTERFACE="INTERFACE",r.UNION="UNION",r.ENUM="ENUM",r.ENUM_VALUE="ENUM_VALUE",r.INPUT_OBJECT="INPUT_OBJECT",r.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",(n=u||(u={})).NAME="Name",n.DOCUMENT="Document",n.OPERATION_DEFINITION="OperationDefinition",n.VARIABLE_DEFINITION="VariableDefinition",n.SELECTION_SET="SelectionSet",n.FIELD="Field",n.ARGUMENT="Argument",n.FRAGMENT_SPREAD="FragmentSpread",n.INLINE_FRAGMENT="InlineFragment",n.FRAGMENT_DEFINITION="FragmentDefinition",n.VARIABLE="Variable",n.INT="IntValue",n.FLOAT="FloatValue",n.STRING="StringValue",n.BOOLEAN="BooleanValue",n.NULL="NullValue",n.ENUM="EnumValue",n.LIST="ListValue",n.OBJECT="ObjectValue",n.OBJECT_FIELD="ObjectField",n.DIRECTIVE="Directive",n.NAMED_TYPE="NamedType",n.LIST_TYPE="ListType",n.NON_NULL_TYPE="NonNullType",n.SCHEMA_DEFINITION="SchemaDefinition",n.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",n.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",n.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",n.FIELD_DEFINITION="FieldDefinition",n.INPUT_VALUE_DEFINITION="InputValueDefinition",n.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",n.UNION_TYPE_DEFINITION="UnionTypeDefinition",n.ENUM_TYPE_DEFINITION="EnumTypeDefinition",n.ENUM_VALUE_DEFINITION="EnumValueDefinition",n.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",n.DIRECTIVE_DEFINITION="DirectiveDefinition",n.SCHEMA_EXTENSION="SchemaExtension",n.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",n.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",n.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",n.UNION_TYPE_EXTENSION="UnionTypeExtension",n.ENUM_TYPE_EXTENSION="EnumTypeExtension",n.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",n.TYPE_COORDINATE="TypeCoordinate",n.MEMBER_COORDINATE="MemberCoordinate",n.ARGUMENT_COORDINATE="ArgumentCoordinate",n.DIRECTIVE_COORDINATE="DirectiveCoordinate",n.DIRECTIVE_ARGUMENT_COORDINATE="DirectiveArgumentCoordinate",e.s(["Kind",()=>u],41e3),e.s(["dedentBlockStringLines",()=>N,"printBlockString",()=>j],44781),(i=c||(c={})).SOF="<SOF>",i.EOF="<EOF>",i.BANG="!",i.DOLLAR="$",i.AMP="&",i.PAREN_L="(",i.PAREN_R=")",i.DOT=".",i.SPREAD="...",i.COLON=":",i.EQUALS="=",i.AT="@",i.BRACKET_L="[",i.BRACKET_R="]",i.BRACE_L="{",i.PIPE="|",i.BRACE_R="}",i.NAME="Name",i.INT="Int",i.FLOAT="Float",i.STRING="String",i.BLOCK_STRING="BlockString",i.COMMENT="Comment";class D{constructor(e){const t=new O(c.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==c.EOF)do if(e.next)e=e.next;else{let t=function(e,t){let r=e.source.body,n=r.length,i=t;for(;i<n;){let t=r.charCodeAt(i);switch(t){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===r.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return function(e,t){let r=e.source.body,n=r.length,i=t+1;for(;i<n;){let e=r.charCodeAt(i);if(10===e||13===e)break;if(M(e))++i;else if(L(r,i))i+=2;else break}return $(e,c.COMMENT,t,i,r.slice(t+1,i))}(e,i);case 33:return $(e,c.BANG,i,i+1);case 36:return $(e,c.DOLLAR,i,i+1);case 38:return $(e,c.AMP,i,i+1);case 40:return $(e,c.PAREN_L,i,i+1);case 41:return $(e,c.PAREN_R,i,i+1);case 46:if(46===r.charCodeAt(i+1)&&46===r.charCodeAt(i+2))return $(e,c.SPREAD,i,i+3);break;case 58:return $(e,c.COLON,i,i+1);case 61:return $(e,c.EQUALS,i,i+1);case 64:return $(e,c.AT,i,i+1);case 91:return $(e,c.BRACKET_L,i,i+1);case 93:return $(e,c.BRACKET_R,i,i+1);case 123:return $(e,c.BRACE_L,i,i+1);case 124:return $(e,c.PIPE,i,i+1);case 125:return $(e,c.BRACE_R,i,i+1);case 34:if(34===r.charCodeAt(i+1)&&34===r.charCodeAt(i+2))return function(e,t){let r=e.source.body,n=r.length,i=e.lineStart,o=t+3,a=o,s="",u=[];for(;o<n;){let n=r.charCodeAt(o);if(34===n&&34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)){s+=r.slice(a,o),u.push(s);let n=$(e,c.BLOCK_STRING,t,o+3,N(u).join("\n"));return e.line+=u.length-1,e.lineStart=i,n}if(92===n&&34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)&&34===r.charCodeAt(o+3)){s+=r.slice(a,o),a=o+1,o+=4;continue}if(10===n||13===n){s+=r.slice(a,o),u.push(s),13===n&&10===r.charCodeAt(o+1)?o+=2:++o,s="",a=o,i=o;continue}if(M(n))++o;else if(L(r,o))o+=2;else throw S(e.source,o,`Invalid character within String: ${F(e,o)}.`)}throw S(e.source,o,"Unterminated string.")}(e,i);return function(e,t){let r=e.source.body,n=r.length,i=t+1,o=i,a="";for(;i<n;){let n=r.charCodeAt(i);if(34===n)return a+=r.slice(o,i),$(e,c.STRING,t,i+1,a);if(92===n){a+=r.slice(o,i);let t=117===r.charCodeAt(i+1)?123===r.charCodeAt(i+2)?function(e,t){let r=e.source.body,n=0,i=3;for(;i<12;){let e=r.charCodeAt(t+i++);if(125===e){if(i<5||!M(n))break;return{value:String.fromCodePoint(n),size:i}}if((n=n<<4|q(e))<0)break}throw S(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+i)}".`)}(e,i):function(e,t){let r=e.source.body,n=K(r,t+2);if(M(n))return{value:String.fromCodePoint(n),size:6};if(U(n)&&92===r.charCodeAt(t+6)&&117===r.charCodeAt(t+7)){let e=K(r,t+8);if(W(e))return{value:String.fromCodePoint(n,e),size:12}}throw S(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+6)}".`)}(e,i):function(e,t){let r=e.source.body;switch(r.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw S(e.source,t,`Invalid character escape sequence: "${r.slice(t,t+2)}".`)}(e,i);a+=t.value,i+=t.size,o=i;continue}if(10===n||13===n)break;if(M(n))++i;else if(L(r,i))i+=2;else throw S(e.source,i,`Invalid character within String: ${F(e,i)}.`)}throw S(e.source,i,"Unterminated string.")}(e,i)}if(P(t)||45===t)return function(e,t,r){let n=e.source.body,i=t,o=r,a=!1;if(45===o&&(o=n.charCodeAt(++i)),48===o){if(P(o=n.charCodeAt(++i)))throw S(e.source,i,`Invalid number, unexpected digit after 0: ${F(e,i)}.`)}else i=H(e,i,o),o=n.charCodeAt(i);if(46===o&&(a=!0,o=n.charCodeAt(++i),i=H(e,i,o),o=n.charCodeAt(i)),(69===o||101===o)&&(a=!0,(43===(o=n.charCodeAt(++i))||45===o)&&(o=n.charCodeAt(++i)),i=H(e,i,o),o=n.charCodeAt(i)),46===o||I(o))throw S(e.source,i,`Invalid number, expected digit but got: ${F(e,i)}.`);return $(e,a?c.FLOAT:c.INT,t,i,n.slice(t,i))}(e,i,t);if(I(t))return function(e,t){let r=e.source.body,n=r.length,i=t+1;for(;i<n;){var o;if(C(o=r.charCodeAt(i))||P(o)||95===o)++i;else break}return $(e,c.NAME,t,i,r.slice(t,i))}(e,i);throw S(e.source,i,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":M(t)||L(r,i)?`Unexpected character: ${F(e,i)}.`:`Invalid character: ${F(e,i)}.`)}return $(e,c.EOF,n,n)}(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===c.COMMENT)return e}}function M(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function L(e,t){return U(e.charCodeAt(t))&&W(e.charCodeAt(t+1))}function U(e){return e>=55296&&e<=56319}function W(e){return e>=56320&&e<=57343}function F(e,t){let r=e.source.body.codePointAt(t);if(void 0===r)return c.EOF;if(r>=32&&r<=126){let e=String.fromCodePoint(r);return'"'===e?"'\"'":`"${e}"`}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function $(e,t,r,n,i){let o=e.line,a=1+r-e.lineStart;return new O(t,r,n,o,a,i)}function H(e,t,r){if(!P(r))throw S(e.source,t,`Invalid number, expected digit but got: ${F(e,t)}.`);let n=e.source.body,i=t+1;for(;P(n.charCodeAt(i));)++i;return i}function K(e,t){return q(e.charCodeAt(t))<<12|q(e.charCodeAt(t+1))<<8|q(e.charCodeAt(t+2))<<4|q(e.charCodeAt(t+3))}function q(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function J(e,t){if(!e)throw Error(t)}function B(e){return function e(t,r){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return function(t,r){let n;if(null===t)return"null";if(r.includes(t))return"[Circular]";let i=[...r,t];if("function"==typeof t.toJSON){let r=t.toJSON();if(r!==t)return"string"==typeof r?r:e(r,i)}else if(Array.isArray(t)){var o,a,s=t,u=i;if(0===s.length)return"[]";if(u.length>2)return"[Array]";let r=Math.min(10,s.length),n=s.length-r,c=[];for(let t=0;t<r;++t)c.push(e(s[t],u));return 1===n?c.push("... 1 more item"):n>1&&c.push(`... ${n} more items`),"["+c.join(", ")+"]"}return o=t,a=i,0===(n=Object.entries(o)).length?"{}":a.length>2?"["+function(e){let t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){let t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(o)+"]":"{ "+n.map(([t,r])=>t+": "+e(r,a)).join(", ")+" }"}(t,r);default:return String(t)}}(e,[])}e.s(["devAssert",()=>J],1456);e.s(["inspect",()=>B],49362);let V=globalThis.process&&1?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if("object"==typeof e&&null!==e){var r;let n=t.prototype[Symbol.toStringTag];if(n===(Symbol.toStringTag in e?e[Symbol.toStringTag]:null==(r=e.constructor)?void 0:r.name)){let t=B(e);throw Error(`Cannot use ${n} "${t}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class z{constructor(e,t="GraphQL request",r={line:1,column:1}){"string"==typeof e||J(!1,`Body must be a string. Received: ${B(e)}.`),this.body=e,this.name=t,this.locationOffset=r,this.locationOffset.line>0||J(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||J(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}class G{constructor(e,t={}){const{lexer:r,...n}=t;if(r)this._lexer=r;else{const t=V(e,z)?e:new z(e);this._lexer=new D(t)}this._options=n,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){let e=this.expectToken(c.NAME);return this.node(e,{kind:u.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:u.DOCUMENT,definitions:this.many(c.SOF,this.parseDefinition,c.EOF)})}parseDefinition(){if(this.peek(c.BRACE_L))return this.parseOperationDefinition();let e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(e&&t.kind===c.BRACE_L)throw S(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are not supported on shorthand queries.");if(t.kind===c.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition()}if(e)throw S(this._lexer.source,this._lexer.token.start,"Unexpected description, only GraphQL definitions support descriptions.");if("extend"===t.value)return this.parseTypeSystemExtension()}throw this.unexpected(t)}parseOperationDefinition(){let e,t=this._lexer.token;if(this.peek(c.BRACE_L))return this.node(t,{kind:u.OPERATION_DEFINITION,operation:a.QUERY,description:void 0,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let r=this.parseDescription(),n=this.parseOperationType();return this.peek(c.NAME)&&(e=this.parseName()),this.node(t,{kind:u.OPERATION_DEFINITION,operation:n,description:r,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let e=this.expectToken(c.NAME);switch(e.value){case"query":return a.QUERY;case"mutation":return a.MUTATION;case"subscription":return a.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(c.PAREN_L,this.parseVariableDefinition,c.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:u.VARIABLE_DEFINITION,description:this.parseDescription(),variable:this.parseVariable(),type:(this.expectToken(c.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(c.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let e=this._lexer.token;return this.expectToken(c.DOLLAR),this.node(e,{kind:u.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:u.SELECTION_SET,selections:this.many(c.BRACE_L,this.parseSelection,c.BRACE_R)})}parseSelection(){return this.peek(c.SPREAD)?this.parseFragment():this.parseField()}parseField(){let e,t,r=this._lexer.token,n=this.parseName();return this.expectOptionalToken(c.COLON)?(e=n,t=this.parseName()):t=n,this.node(r,{kind:u.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(c.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){let t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(c.PAREN_L,t,c.PAREN_R)}parseArgument(e=!1){let t=this._lexer.token,r=this.parseName();return this.expectToken(c.COLON),this.node(t,{kind:u.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let e=this._lexer.token;this.expectToken(c.SPREAD);let t=this.expectOptionalKeyword("on");return!t&&this.peek(c.NAME)?this.node(e,{kind:u.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:u.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let e=this._lexer.token,t=this.parseDescription();return(this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables)?this.node(e,{kind:u.FRAGMENT_DEFINITION,description:t,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:u.FRAGMENT_DEFINITION,description:t,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){let t=this._lexer.token;switch(t.kind){case c.BRACKET_L:return this.parseList(e);case c.BRACE_L:return this.parseObject(e);case c.INT:return this.advanceLexer(),this.node(t,{kind:u.INT,value:t.value});case c.FLOAT:return this.advanceLexer(),this.node(t,{kind:u.FLOAT,value:t.value});case c.STRING:case c.BLOCK_STRING:return this.parseStringLiteral();case c.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:u.BOOLEAN,value:!0});case"false":return this.node(t,{kind:u.BOOLEAN,value:!1});case"null":return this.node(t,{kind:u.NULL});default:return this.node(t,{kind:u.ENUM,value:t.value})}case c.DOLLAR:if(e){if(this.expectToken(c.DOLLAR),this._lexer.token.kind===c.NAME){let e=this._lexer.token.value;throw S(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:u.STRING,value:e.value,block:e.kind===c.BLOCK_STRING})}parseList(e){let t=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:u.LIST,values:this.any(c.BRACKET_L,t,c.BRACKET_R)})}parseObject(e){let t=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:u.OBJECT,fields:this.any(c.BRACE_L,t,c.BRACE_R)})}parseObjectField(e){let t=this._lexer.token,r=this.parseName();return this.expectToken(c.COLON),this.node(t,{kind:u.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){let t=[];for(;this.peek(c.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){let t=this._lexer.token;return this.expectToken(c.AT),this.node(t,{kind:u.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){let e,t=this._lexer.token;if(this.expectOptionalToken(c.BRACKET_L)){let r=this.parseTypeReference();this.expectToken(c.BRACKET_R),e=this.node(t,{kind:u.LIST_TYPE,type:r})}else e=this.parseNamedType();return this.expectOptionalToken(c.BANG)?this.node(t,{kind:u.NON_NULL_TYPE,type:e}):e}parseNamedType(){return this.node(this._lexer.token,{kind:u.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(c.STRING)||this.peek(c.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");let r=this.parseConstDirectives(),n=this.many(c.BRACE_L,this.parseOperationTypeDefinition,c.BRACE_R);return this.node(e,{kind:u.SCHEMA_DEFINITION,description:t,directives:r,operationTypes:n})}parseOperationTypeDefinition(){let e=this._lexer.token,t=this.parseOperationType();this.expectToken(c.COLON);let r=this.parseNamedType();return this.node(e,{kind:u.OPERATION_TYPE_DEFINITION,operation:t,type:r})}parseScalarTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");let r=this.parseName(),n=this.parseConstDirectives();return this.node(e,{kind:u.SCALAR_TYPE_DEFINITION,description:t,name:r,directives:n})}parseObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");let r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:u.OBJECT_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(c.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(c.BRACE_L,this.parseFieldDefinition,c.BRACE_R)}parseFieldDefinition(){let e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),n=this.parseArgumentDefs();this.expectToken(c.COLON);let i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:u.FIELD_DEFINITION,description:t,name:r,arguments:n,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(c.PAREN_L,this.parseInputValueDef,c.PAREN_R)}parseInputValueDef(){let e,t=this._lexer.token,r=this.parseDescription(),n=this.parseName();this.expectToken(c.COLON);let i=this.parseTypeReference();this.expectOptionalToken(c.EQUALS)&&(e=this.parseConstValueLiteral());let o=this.parseConstDirectives();return this.node(t,{kind:u.INPUT_VALUE_DEFINITION,description:r,name:n,type:i,defaultValue:e,directives:o})}parseInterfaceTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");let r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:u.INTERFACE_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:o})}parseUnionTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");let r=this.parseName(),n=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:u.UNION_TYPE_DEFINITION,description:t,name:r,directives:n,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(c.EQUALS)?this.delimitedMany(c.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");let r=this.parseName(),n=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:u.ENUM_TYPE_DEFINITION,description:t,name:r,directives:n,values:i})}parseEnumValuesDefinition(){return this.optionalMany(c.BRACE_L,this.parseEnumValueDefinition,c.BRACE_R)}parseEnumValueDefinition(){let e=this._lexer.token,t=this.parseDescription(),r=this.parseEnumValueName(),n=this.parseConstDirectives();return this.node(e,{kind:u.ENUM_VALUE_DEFINITION,description:t,name:r,directives:n})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw S(this._lexer.source,this._lexer.token.start,`${Q(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");let r=this.parseName(),n=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:u.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:r,directives:n,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(c.BRACE_L,this.parseInputValueDef,c.BRACE_R)}parseTypeSystemExtension(){let e=this._lexer.lookahead();if(e.kind===c.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let t=this.parseConstDirectives(),r=this.optionalMany(c.BRACE_L,this.parseOperationTypeDefinition,c.BRACE_R);if(0===t.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:u.SCHEMA_EXTENSION,directives:t,operationTypes:r})}parseScalarTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let t=this.parseName(),r=this.parseConstDirectives();if(0===r.length)throw this.unexpected();return this.node(e,{kind:u.SCALAR_TYPE_EXTENSION,name:t,directives:r})}parseObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:u.OBJECT_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i})}parseInterfaceTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:u.INTERFACE_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i})}parseUnionTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let t=this.parseName(),r=this.parseConstDirectives(),n=this.parseUnionMemberTypes();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:u.UNION_TYPE_EXTENSION,name:t,directives:r,types:n})}parseEnumTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let t=this.parseName(),r=this.parseConstDirectives(),n=this.parseEnumValuesDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:u.ENUM_TYPE_EXTENSION,name:t,directives:r,values:n})}parseInputObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let t=this.parseName(),r=this.parseConstDirectives(),n=this.parseInputFieldsDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:u.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:r,fields:n})}parseDirectiveDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(c.AT);let r=this.parseName(),n=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let o=this.parseDirectiveLocations();return this.node(e,{kind:u.DIRECTIVE_DEFINITION,description:t,name:r,arguments:n,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(c.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(s,t.value))return t;throw this.unexpected(e)}parseSchemaCoordinate(){let e,t,r=this._lexer.token,n=this.expectOptionalToken(c.AT),i=this.parseName();return(!n&&this.expectOptionalToken(c.DOT)&&(e=this.parseName()),(n||e)&&this.expectOptionalToken(c.PAREN_L)&&(t=this.parseName(),this.expectToken(c.COLON),this.expectToken(c.PAREN_R)),n)?t?this.node(r,{kind:u.DIRECTIVE_ARGUMENT_COORDINATE,name:i,argumentName:t}):this.node(r,{kind:u.DIRECTIVE_COORDINATE,name:i}):e?t?this.node(r,{kind:u.ARGUMENT_COORDINATE,name:i,fieldName:e,argumentName:t}):this.node(r,{kind:u.MEMBER_COORDINATE,name:i,memberName:e}):this.node(r,{kind:u.TYPE_COORDINATE,name:i})}node(e,t){return!0!==this._options.noLocation&&(t.loc=new k(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){let t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw S(this._lexer.source,t.start,`Expected ${X(e)}, found ${Q(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){let t=this._lexer.token;if(t.kind===c.NAME&&t.value===e)this.advanceLexer();else throw S(this._lexer.source,t.start,`Expected "${e}", found ${Q(t)}.`)}expectOptionalKeyword(e){let t=this._lexer.token;return t.kind===c.NAME&&t.value===e&&(this.advanceLexer(),!0)}unexpected(e){let t=null!=e?e:this._lexer.token;return S(this._lexer.source,t.start,`Unexpected ${Q(t)}.`)}any(e,t,r){this.expectToken(e);let n=[];for(;!this.expectOptionalToken(r);)n.push(t.call(this));return n}optionalMany(e,t,r){if(this.expectOptionalToken(e)){let e=[];do e.push(t.call(this));while(!this.expectOptionalToken(r))return e}return[]}many(e,t,r){this.expectToken(e);let n=[];do n.push(t.call(this));while(!this.expectOptionalToken(r))return n}delimitedMany(e,t){this.expectOptionalToken(e);let r=[];do r.push(t.call(this));while(this.expectOptionalToken(e))return r}advanceLexer(){let{maxTokens:e}=this._options,t=this._lexer.advance();if(t.kind!==c.EOF&&(++this._tokenCounter,void 0!==e&&this._tokenCounter>e))throw S(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function Q(e){let t=e.value;return X(e.kind)+(null!=t?` "${t}"`:"")}function X(e){return e===c.BANG||e===c.DOLLAR||e===c.AMP||e===c.PAREN_L||e===c.PAREN_R||e===c.DOT||e===c.SPREAD||e===c.COLON||e===c.EQUALS||e===c.AT||e===c.BRACKET_L||e===c.BRACKET_R||e===c.BRACE_L||e===c.PIPE||e===c.BRACE_R?`"${e}"`:e}var Y=new Map,Z=new Map,ee=!0,et=!1;function er(e){return e.replace(/[\s,]+/g," ").trim()}function en(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];"string"==typeof e&&(e=[e]);var n=e[0];return t.forEach(function(t,r){t&&"Document"===t.kind?n+=t.loc.source.body:n+=t,n+=e[r+1]}),function(e){var t=er(e);if(!Y.has(t)){let u,c;var r,n,i,o,a,s=(Object.defineProperty(c=(u=new G(e,{experimentalFragmentVariables:et,allowLegacyFragmentVariables:et})).parseDocument(),"tokenCount",{enumerable:!1,value:u.tokenCount}),c);if(!s||"Document"!==s.kind)throw Error("Not a valid GraphQL document.");Y.set(t,((o=new Set((r=new Set,n=[],s.definitions.forEach(function(e){if("FragmentDefinition"===e.kind){var t,i=e.name.value,o=er((t=e.loc).source.body.substring(t.start,t.end)),a=Z.get(i);a&&!a.has(o)?ee&&console.warn("Warning: fragment with name "+i+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):a||Z.set(i,a=new Set),a.add(o),r.has(o)||(r.add(o),n.push(e))}else n.push(e)}),i=p(p({},s),{definitions:n})).definitions)).forEach(function(e){e.loc&&delete e.loc,Object.keys(e).forEach(function(t){var r=e[t];r&&"object"==typeof r&&o.add(r)})}),(a=i.loc)&&(delete a.startToken,delete a.endToken),i))}return Y.get(t)}(n)}var ei=en;(o=en||(en={})).gql=ei,o.resetCaches=function(){Y.clear(),Z.clear()},o.disableFragmentWarnings=function(){ee=!1},o.enableExperimentalFragmentVariables=function(){et=!0},o.disableExperimentalFragmentVariables=function(){et=!1},en.default=en,e.s(["gql",()=>en],65517)},26624,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i,o,a,s,u,c,l,d,p,f,h,y={AppRenderSpan:function(){return S},AppRouteRouteHandlersSpan:function(){return T},BaseServerSpan:function(){return m},LoadComponentsSpan:function(){return v},LogSpanAllowList:function(){return P},MiddlewareSpan:function(){return x},NextNodeServerSpan:function(){return b},NextServerSpan:function(){return _},NextVanillaSpanAllowlist:function(){return R},NodeSpan:function(){return O},RenderSpan:function(){return E},ResolveMetadataSpan:function(){return A},RouterSpan:function(){return k},StartServerSpan:function(){return w}};for(var g in y)Object.defineProperty(r,g,{enumerable:!0,get:y[g]});var m=((n=m||{}).handleRequest="BaseServer.handleRequest",n.run="BaseServer.run",n.pipe="BaseServer.pipe",n.getStaticHTML="BaseServer.getStaticHTML",n.render="BaseServer.render",n.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",n.renderToResponse="BaseServer.renderToResponse",n.renderToHTML="BaseServer.renderToHTML",n.renderError="BaseServer.renderError",n.renderErrorToResponse="BaseServer.renderErrorToResponse",n.renderErrorToHTML="BaseServer.renderErrorToHTML",n.render404="BaseServer.render404",n),v=((i=v||{}).loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",i.loadComponents="LoadComponents.loadComponents",i),_=((o=_||{}).getRequestHandler="NextServer.getRequestHandler",o.getRequestHandlerWithMetadata="NextServer.getRequestHandlerWithMetadata",o.getServer="NextServer.getServer",o.getServerRequestHandler="NextServer.getServerRequestHandler",o.createServer="createServer.createServer",o),b=((a=b||{}).compression="NextNodeServer.compression",a.getBuildId="NextNodeServer.getBuildId",a.createComponentTree="NextNodeServer.createComponentTree",a.clientComponentLoading="NextNodeServer.clientComponentLoading",a.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",a.generateStaticRoutes="NextNodeServer.generateStaticRoutes",a.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",a.generatePublicRoutes="NextNodeServer.generatePublicRoutes",a.generateImageRoutes="NextNodeServer.generateImageRoutes.route",a.sendRenderResult="NextNodeServer.sendRenderResult",a.proxyRequest="NextNodeServer.proxyRequest",a.runApi="NextNodeServer.runApi",a.render="NextNodeServer.render",a.renderHTML="NextNodeServer.renderHTML",a.imageOptimizer="NextNodeServer.imageOptimizer",a.getPagePath="NextNodeServer.getPagePath",a.getRoutesManifest="NextNodeServer.getRoutesManifest",a.findPageComponents="NextNodeServer.findPageComponents",a.getFontManifest="NextNodeServer.getFontManifest",a.getServerComponentManifest="NextNodeServer.getServerComponentManifest",a.getRequestHandler="NextNodeServer.getRequestHandler",a.renderToHTML="NextNodeServer.renderToHTML",a.renderError="NextNodeServer.renderError",a.renderErrorToHTML="NextNodeServer.renderErrorToHTML",a.render404="NextNodeServer.render404",a.startResponse="NextNodeServer.startResponse",a.route="route",a.onProxyReq="onProxyReq",a.apiResolver="apiResolver",a.internalFetch="internalFetch",a),w=((s=w||{}).startServer="startServer.startServer",s),E=((u=E||{}).getServerSideProps="Render.getServerSideProps",u.getStaticProps="Render.getStaticProps",u.renderToString="Render.renderToString",u.renderDocument="Render.renderDocument",u.createBodyResult="Render.createBodyResult",u),S=((c=S||{}).renderToString="AppRender.renderToString",c.renderToReadableStream="AppRender.renderToReadableStream",c.getBodyResult="AppRender.getBodyResult",c.fetch="AppRender.fetch",c),k=((l=k||{}).executeRoute="Router.executeRoute",l),O=((d=O||{}).runHandler="Node.runHandler",d),T=((p=T||{}).runHandler="AppRouteRouteHandlers.runHandler",p),A=((f=A||{}).generateMetadata="ResolveMetadata.generateMetadata",f.generateViewport="ResolveMetadata.generateViewport",f),x=((h=x||{}).execute="Middleware.execute",h);let R=new Set(["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"]),P=new Set(["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"])},70270,(e,t,r)=>{"use strict";function n(e){return null!==e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isThenable",{enumerable:!0,get:function(){return n}})},26949,(e,t,r)=>{"use strict";let n,i;Object.defineProperty(r,"__esModule",{value:!0});var o={BubbledError:function(){return g},SpanKind:function(){return h},SpanStatusCode:function(){return f},getTracer:function(){return S},isBubbledError:function(){return m}};for(var a in o)Object.defineProperty(r,a,{enumerable:!0,get:o[a]});let s=e.r(26624),u=e.r(70270),c=process.env.NEXT_OTEL_PERFORMANCE_PREFIX;try{n=e.r(70406)}catch(t){n=e.r(74983)}let{context:l,propagation:d,trace:p,SpanStatusCode:f,SpanKind:h,ROOT_CONTEXT:y}=n;class g extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}function m(e){return"object"==typeof e&&null!==e&&e instanceof g}let v=(e,t)=>{m(t)&&t.bubble?e.setAttribute("next.bubble",!0):(t&&(e.recordException(t),e.setAttribute("error.type",t.name)),e.setStatus({code:f.ERROR,message:null==t?void 0:t.message})),e.end()},_=new Map,b=n.createContextKey("next.rootSpanId"),w=0,E={set(e,t,r){e.push({key:t,value:r})}},S=(i=new class e{getTracerInstance(){return p.getTracer("next.js","0.0.1")}getContext(){return l}getTracePropagationData(){let e=l.active(),t=[];return d.inject(e,t,E),t}getActiveScopeSpan(){return p.getSpan(null==l?void 0:l.active())}withPropagatedContext(e,t,r){let n=l.active();if(p.getSpanContext(n))return t();let i=d.extract(n,e,r);return l.with(i,t)}trace(...e){let[t,r,n]=e,{fn:i,options:o}="function"==typeof r?{fn:r,options:{}}:{fn:n,options:{...r}},a=o.spanName??t;if(!s.NextVanillaSpanAllowlist.has(t)&&"1"!==process.env.NEXT_OTEL_VERBOSE||o.hideSpan)return i();let d=this.getSpanContext((null==o?void 0:o.parentSpan)??this.getActiveScopeSpan());d||(d=(null==l?void 0:l.active())??y);let p=d.getValue(b),f="number"!=typeof p||!_.has(p),h=w++;return o.attributes={"next.span_name":a,"next.span_type":t,...o.attributes},l.with(d.setValue(b,h),()=>this.getTracerInstance().startActiveSpan(a,o,e=>{let r;c&&t&&s.LogSpanAllowList.has(t)&&(r="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0);let n=!1,a=()=>{!n&&(n=!0,_.delete(h),r&&performance.measure(`${c}:next-${(t.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:r,end:performance.now()}))};if(f&&_.set(h,new Map(Object.entries(o.attributes??{}))),i.length>1)try{return i(e,t=>v(e,t))}catch(t){throw v(e,t),t}finally{a()}try{let t=i(e);if((0,u.isThenable)(t))return t.then(t=>(e.end(),t)).catch(t=>{throw v(e,t),t}).finally(a);return e.end(),a(),t}catch(t){throw v(e,t),a(),t}}))}wrap(...e){let t=this,[r,n,i]=3===e.length?e:[e[0],{},e[1]];return s.NextVanillaSpanAllowlist.has(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof i&&(e=e.apply(this,arguments));let o=arguments.length-1,a=arguments[o];if("function"!=typeof a)return t.trace(r,e,()=>i.apply(this,arguments));{let n=t.getContext().bind(l.active(),a);return t.trace(r,e,(e,t)=>(arguments[o]=function(e){return null==t||t(e),n.apply(this,arguments)},i.apply(this,arguments)))}}:i}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?p.setSpan(l.active(),e):void 0}getRootSpanAttributes(){let e=l.active().getValue(b);return _.get(e)}setRootSpanAttribute(e,t){let r=l.active().getValue(b),n=_.get(r);n&&!n.has(e)&&n.set(e,t)}},()=>i)},11492,(e,t,r)=>{"use strict";let n;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"cloneResponse",{enumerable:!0,get:function(){return o}});let i=()=>{};function o(e){if(!e.body)return[e,e];let[t,r]=e.body.tee(),i=new Response(t,{status:e.status,statusText:e.statusText,headers:e.headers});Object.defineProperty(i,"url",{value:e.url,configurable:!0,enumerable:!0,writable:!1}),n&&i.body&&n.register(i,new WeakRef(i.body));let o=new Response(r,{status:e.status,statusText:e.statusText,headers:e.headers});return Object.defineProperty(o,"url",{value:e.url,configurable:!0,enumerable:!0,writable:!1}),[i,o]}globalThis.FinalizationRegistry&&(n=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&t.cancel("Response object has been garbage collected").then(i)}))},72110,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createDedupeFetch",{enumerable:!0,get:function(){return u}});let n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(e.r(71778)),i=e.r(11492),o=e.r(51468);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}let s=new Set(["traceparent","tracestate"]);function u(e){let t=n.cache(e=>[]);return function(r,n){let a,u;if(n&&n.signal)return e(r,n);if("string"!=typeof r||n){let t,i="string"==typeof r||r instanceof URL?new Request(r,n):r;if("GET"!==i.method&&"HEAD"!==i.method||i.keepalive)return e(r,n);t=Array.from(i.headers.entries()).filter(([e])=>!s.has(e.toLowerCase())),u=JSON.stringify([i.method,t,i.mode,i.redirect,i.credentials,i.referrer,i.referrerPolicy,i.integrity]),a=i.url}else u='["GET",[],null,"follow",null,null,null,null]',a=r;let c=t(a);for(let e=0,t=c.length;e<t;e+=1){let[t,r]=c[e];if(t===u)return r.then(()=>{let t=c[e][2];if(!t)throw Object.defineProperty(new o.InvariantError("No cached response"),"__NEXT_ERROR_CODE",{value:"E579",enumerable:!1,configurable:!0});let[r,n]=(0,i.cloneResponse)(t);return c[e][2]=n,r})}let l=e(r,n),d=[u,l,null];return c.push(d),l.then(e=>{let[t,r]=(0,i.cloneResponse)(e);return d[2]=r,t})}}},6550,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i,o={CachedRouteKind:function(){return s},IncrementalCacheKind:function(){return u}};for(var a in o)Object.defineProperty(r,a,{enumerable:!0,get:o[a]});var s=((n={}).APP_PAGE="APP_PAGE",n.APP_ROUTE="APP_ROUTE",n.PAGES="PAGES",n.FETCH="FETCH",n.REDIRECT="REDIRECT",n.IMAGE="IMAGE",n),u=((i={}).APP_PAGE="APP_PAGE",i.APP_ROUTE="APP_ROUTE",i.PAGES="PAGES",i.FETCH="FETCH",i.IMAGE="IMAGE",i)},63115,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DetachedPromise",{enumerable:!0,get:function(){return n}});class n{constructor(){let e,t;this.promise=new Promise((r,n)=>{e=r,t=n}),this.resolve=e,this.reject=t}}},25578,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Batcher",{enumerable:!0,get:function(){return i}});let n=e.r(63115);class i{constructor(e,t=e=>e()){this.cacheKeyFn=e,this.schedulerFn=t,this.pending=new Map}static create(e){return new i(null==e?void 0:e.cacheKeyFn,null==e?void 0:e.schedulerFn)}async batch(e,t){let r=this.cacheKeyFn?await this.cacheKeyFn(e):e;if(null===r)return t({resolve:e=>Promise.resolve(e),key:e});let i=this.pending.get(r);if(i)return i;let{promise:o,resolve:a,reject:s}=new n.DetachedPromise;return this.pending.set(r,o),this.schedulerFn(async()=>{try{let r=await t({resolve:a,key:e});a(r)}catch(e){s(e)}finally{this.pending.delete(r)}}),o}}},46458,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ENCODED_TAGS",{enumerable:!0,get:function(){return n}});let n={OPENING:{HTML:new Uint8Array([60,104,116,109,108]),BODY:new Uint8Array([60,98,111,100,121])},CLOSED:{HEAD:new Uint8Array([60,47,104,101,97,100,62]),BODY:new Uint8Array([60,47,98,111,100,121,62]),HTML:new Uint8Array([60,47,104,116,109,108,62]),BODY_AND_HTML:new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62])},META:{ICON_MARK:new Uint8Array([60,109,101,116,97,32,110,97,109,101,61,34,194,171,110,120,116,45,105,99,111,110,194,187,34])}}},12892,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={indexOfUint8Array:function(){return o},isEquivalentUint8Arrays:function(){return a},removeFromUint8Array:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});function o(e,t){if(0===t.length)return 0;if(0===e.length||t.length>e.length)return -1;for(let r=0;r<=e.length-t.length;r++){let n=!0;for(let i=0;i<t.length;i++)if(e[r+i]!==t[i]){n=!1;break}if(n)return r}return -1}function a(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function s(e,t){let r=o(e,t);if(0===r)return e.subarray(t.length);if(!(r>-1))return e;{let n=new Uint8Array(e.length-t.length);return n.set(e.slice(0,r)),n.set(e.slice(r+t.length),r),n}}},47029,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"MISSING_ROOT_TAGS_ERROR",{enumerable:!0,get:function(){return n}});let n="NEXT_MISSING_ROOT_TAGS";("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},21678,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DOC_PREFETCH_RANGE_HEADER_VALUE:function(){return a},doesExportedHtmlMatchBuildId:function(){return c},insertBuildIdComment:function(){return u}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o="<!DOCTYPE html>",a="bytes=0-63";function s(e){return e.slice(0,24).replace(/-/g,"_")}function u(e,t){return t.includes("-->")||!e.startsWith(o)?e:e.replace(o,o+"<!--"+s(t)+"-->")}function c(e,t){return e.startsWith(o+"<!--"+s(t)+"-->")}},99189,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={ACTION_HEADER:function(){return a},FLIGHT_HEADERS:function(){return h},NEXT_ACTION_NOT_FOUND_HEADER:function(){return w},NEXT_DID_POSTPONE_HEADER:function(){return m},NEXT_HMR_REFRESH_HASH_COOKIE:function(){return d},NEXT_HMR_REFRESH_HEADER:function(){return l},NEXT_HTML_REQUEST_ID_HEADER:function(){return S},NEXT_IS_PRERENDER_HEADER:function(){return b},NEXT_REQUEST_ID_HEADER:function(){return E},NEXT_REWRITTEN_PATH_HEADER:function(){return v},NEXT_REWRITTEN_QUERY_HEADER:function(){return _},NEXT_ROUTER_PREFETCH_HEADER:function(){return u},NEXT_ROUTER_SEGMENT_PREFETCH_HEADER:function(){return c},NEXT_ROUTER_STALE_TIME_HEADER:function(){return g},NEXT_ROUTER_STATE_TREE_HEADER:function(){return s},NEXT_RSC_UNION_QUERY:function(){return y},NEXT_URL:function(){return p},RSC_CONTENT_TYPE_HEADER:function(){return f},RSC_HEADER:function(){return o}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o="rsc",a="next-action",s="next-router-state-tree",u="next-router-prefetch",c="next-router-segment-prefetch",l="next-hmr-refresh",d="__next_hmr_refresh_hash__",p="next-url",f="text/x-component",h=[o,s,u,l,c],y="_rsc",g="x-nextjs-stale-time",m="x-nextjs-postponed",v="x-nextjs-rewritten-path",_="x-nextjs-rewritten-query",b="x-nextjs-prerender",w="x-nextjs-action-not-found",E="x-nextjs-request-id",S="x-nextjs-html-request-id";("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},24265,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={djb2Hash:function(){return o},hexHash:function(){return a}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});function o(e){let t=5381;for(let r=0;r<e.length;r++)t=(t<<5)+t+e.charCodeAt(r)|0;return t>>>0}function a(e){return o(e).toString(36).slice(0,5)}},44518,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"computeCacheBustingSearchParam",{enumerable:!0,get:function(){return i}});let n=e.r(24265);function i(e,t,r,i){return(void 0===e||"0"===e)&&void 0===t&&void 0===r&&void 0===i?"":(0,n.hexHash)([e||"0",t||"0",r||"0",i||"0"].join(","))}},96680,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={chainStreams:function(){return m},continueDynamicHTMLResume:function(){return D},continueDynamicPrerender:function(){return I},continueFizzStream:function(){return C},continueStaticFallbackPrerender:function(){return j},continueStaticPrerender:function(){return N},createBufferedTransformStream:function(){return E},createDocumentClosingStream:function(){return M},createRootLayoutValidatorStream:function(){return P},renderToInitialFizzStream:function(){return k},streamFromBuffer:function(){return _},streamFromString:function(){return v},streamToBuffer:function(){return b},streamToString:function(){return w}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(26949),a=e.r(26624),s=e.r(63115),u=e.r(38252),c=e.r(46458),l=e.r(12892),d=e.r(47029),p=e.r(21678),f=e.r(99189),h=e.r(44518);function y(){}let g=new TextEncoder;function m(...e){if(0===e.length)return new ReadableStream({start(e){e.close()}});if(1===e.length)return e[0];let{readable:t,writable:r}=new TransformStream,n=e[0].pipeTo(r,{preventClose:!0}),i=1;for(;i<e.length-1;i++){let t=e[i];n=n.then(()=>t.pipeTo(r,{preventClose:!0}))}let o=e[i];return(n=n.then(()=>o.pipeTo(r))).catch(y),t}function v(e){return new ReadableStream({start(t){t.enqueue(g.encode(e)),t.close()}})}function _(e){return new ReadableStream({start(t){t.enqueue(e),t.close()}})}async function b(e){let t=e.getReader(),r=[];for(;;){let{done:e,value:n}=await t.read();if(e)break;r.push(n)}return Buffer.concat(r)}async function w(e,t){let r=new TextDecoder("utf-8",{fatal:!0}),n="";for await(let i of e){if(null==t?void 0:t.aborted)return n;n+=r.decode(i,{stream:!0})}return n+r.decode()}function E(e={}){let t,{maxBufferByteLength:r=1/0}=e,n=[],i=0,o=e=>{try{if(0===n.length)return;let t=new Uint8Array(i),r=0;for(let e=0;e<n.length;e++){let i=n[e];t.set(i,r),r+=i.byteLength}n.length=0,i=0,e.enqueue(t)}catch{}};return new TransformStream({transform(e,a){n.push(e),(i+=e.byteLength)>=r?o(a):(e=>{if(t)return;let r=new s.DetachedPromise;t=r,(0,u.scheduleImmediate)(()=>{try{o(e)}finally{t=void 0,r.resolve()}})})(a)},flush:()=>null==t?void 0:t.promise})}function S(e,t){let r=!1;return new TransformStream({transform(n,i){if(e&&!r){r=!0;let e=new TextDecoder("utf-8",{fatal:!0}).decode(n,{stream:!0}),o=(0,p.insertBuildIdComment)(e,t);i.enqueue(g.encode(o));return}i.enqueue(n)}})}function k({ReactDOMServer:e,element:t,streamOptions:r}){return(0,o.getTracer)().trace(a.AppRenderSpan.renderToReadableStream,async()=>e.renderToReadableStream(t,r))}function O(e){let t=-1,r=!1;return new TransformStream({async transform(n,i){let o=-1,a=-1;if(t++,r)return void i.enqueue(n);let s=0;if(-1===o){if(-1===(o=(0,l.indexOfUint8Array)(n,c.ENCODED_TAGS.META.ICON_MARK)))return void i.enqueue(n);47===n[o+(s=c.ENCODED_TAGS.META.ICON_MARK.length)]?s+=2:s++}if(0===t){if(a=(0,l.indexOfUint8Array)(n,c.ENCODED_TAGS.CLOSED.HEAD),-1!==o){if(o<a){let e=new Uint8Array(n.length-s);e.set(n.subarray(0,o)),e.set(n.subarray(o+s),o),n=e}else{let t=await e(),r=g.encode(t),i=r.length,a=new Uint8Array(n.length-s+i);a.set(n.subarray(0,o)),a.set(r,o),a.set(n.subarray(o+s),o+i),n=a}r=!0}}else{let t=await e(),i=g.encode(t),a=i.length,u=new Uint8Array(n.length-s+a);u.set(n.subarray(0,o)),u.set(i,o),u.set(n.subarray(o+s),o+a),n=u,r=!0}i.enqueue(n)}})}function T(e){let t=!1,r=!1;return new TransformStream({async transform(n,i){r=!0;let o=await e();if(t){if(o){let e=g.encode(o);i.enqueue(e)}i.enqueue(n)}else{let e=(0,l.indexOfUint8Array)(n,c.ENCODED_TAGS.CLOSED.HEAD);if(-1!==e){if(o){let t=g.encode(o),r=new Uint8Array(n.length+t.length);r.set(n.slice(0,e)),r.set(t,e),r.set(n.slice(e),e+t.length),i.enqueue(r)}else i.enqueue(n);t=!0}else o&&i.enqueue(g.encode(o)),i.enqueue(n),t=!0}},async flush(t){if(r){let r=await e();r&&t.enqueue(g.encode(r))}}})}function A(e,t){let r=!1,n=null,i=!1;function o(e){return n||(n=a(e)),n}async function a(n){let o=e.getReader();t&&await (0,u.atLeastOneTask)();try{for(;;){let{done:e,value:a}=await o.read();if(e){i=!0;return}t||r||await (0,u.atLeastOneTask)(),n.enqueue(a)}}catch(e){n.error(e)}}return new TransformStream({start(e){t||o(e)},transform(e,r){r.enqueue(e),t&&o(r)},flush(e){if(r=!0,!i)return o(e)}})}let x="</body></html>";function R(){let e=!1;return new TransformStream({transform(t,r){if(e)return r.enqueue(t);let n=(0,l.indexOfUint8Array)(t,c.ENCODED_TAGS.CLOSED.BODY_AND_HTML);if(n>-1){if(e=!0,t.length===c.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length)return;let i=t.slice(0,n);if(r.enqueue(i),t.length>c.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length+n){let e=t.slice(n+c.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length);r.enqueue(e)}}else r.enqueue(t)},flush(e){e.enqueue(c.ENCODED_TAGS.CLOSED.BODY_AND_HTML)}})}function P(){let e=!1,t=!1;return new TransformStream({async transform(r,n){!e&&(0,l.indexOfUint8Array)(r,c.ENCODED_TAGS.OPENING.HTML)>-1&&(e=!0),!t&&(0,l.indexOfUint8Array)(r,c.ENCODED_TAGS.OPENING.BODY)>-1&&(t=!0),n.enqueue(r)},flush(r){let n=[];e||n.push("html"),t||n.push("body"),n.length&&r.enqueue(g.encode(`<html id="__next_error__">
            <template
              data-next-error-message="Missing ${n.map(e=>`<${e}>`).join(n.length>1?" and ":"")} tags in the root layout.
Read more at https://nextjs.org/docs/messages/missing-root-layout-tags"
              data-next-error-digest="${d.MISSING_ROOT_TAGS_ERROR}"
              data-next-error-stack=""
            ></template>
          `))}})}async function C(e,{suffix:t,inlinedDataStream:r,isStaticGeneration:n,isBuildTimePrerendering:i,buildId:o,getServerInsertedHTML:a,getServerInsertedMetadata:c,validateRootLayout:l}){let d,p,f=t?t.split(x,1)[0]:null;n&&await e.allReady;var h=[E(),S(i,o),O(c),null!=f&&f.length>0?(p=!1,new TransformStream({transform(e,t){if(t.enqueue(e),!p){let e;p=!0,d=e=new s.DetachedPromise,(0,u.scheduleImmediate)(()=>{try{t.enqueue(g.encode(f))}catch{}finally{d=void 0,e.resolve()}})}},flush(e){if(d)return d.promise;p||e.enqueue(g.encode(f))}})):null,r?A(r,!0):null,l?P():null,R(),T(a)];let y=e;for(let e of h)e&&(y=y.pipeThrough(e));return y}async function I(e,{getServerInsertedHTML:t,getServerInsertedMetadata:r}){return e.pipeThrough(E()).pipeThrough(new TransformStream({transform(e,t){(0,l.isEquivalentUint8Arrays)(e,c.ENCODED_TAGS.CLOSED.BODY_AND_HTML)||(0,l.isEquivalentUint8Arrays)(e,c.ENCODED_TAGS.CLOSED.BODY)||(0,l.isEquivalentUint8Arrays)(e,c.ENCODED_TAGS.CLOSED.HTML)||(e=(0,l.removeFromUint8Array)(e,c.ENCODED_TAGS.CLOSED.BODY),e=(0,l.removeFromUint8Array)(e,c.ENCODED_TAGS.CLOSED.HTML),t.enqueue(e))}})).pipeThrough(T(t)).pipeThrough(O(r))}async function N(e,{inlinedDataStream:t,getServerInsertedHTML:r,getServerInsertedMetadata:n,isBuildTimePrerendering:i,buildId:o}){return e.pipeThrough(E()).pipeThrough(S(i,o)).pipeThrough(T(r)).pipeThrough(O(n)).pipeThrough(A(t,!0)).pipeThrough(R())}async function j(e,{inlinedDataStream:t,getServerInsertedHTML:r,getServerInsertedMetadata:n,isBuildTimePrerendering:i,buildId:o}){let a,s,u,d;return e.pipeThrough(E()).pipeThrough(S(i,o)).pipeThrough(T(r)).pipeThrough((a=(0,h.computeCacheBustingSearchParam)("1","/_full",void 0,void 0),s=`${f.NEXT_RSC_UNION_QUERY}=${a}`,u=`<script>__NEXT_CLIENT_RESUME=fetch(location.pathname+'?${s}',{credentials:'same-origin',headers:{'${f.RSC_HEADER}': '1','${f.NEXT_ROUTER_PREFETCH_HEADER}': '1','${f.NEXT_ROUTER_SEGMENT_PREFETCH_HEADER}': '/_full'}})</script>`,d=!1,new TransformStream({transform(e,t){if(d)return void t.enqueue(e);let r=(0,l.indexOfUint8Array)(e,c.ENCODED_TAGS.CLOSED.HEAD);if(-1===r)return void t.enqueue(e);let n=g.encode(u),i=new Uint8Array(e.length+n.length);i.set(e.slice(0,r)),i.set(n,r),i.set(e.slice(r),r+n.length),t.enqueue(i),d=!0}}))).pipeThrough(O(n)).pipeThrough(A(t,!0)).pipeThrough(R())}async function D(e,{delayDataUntilFirstHtmlChunk:t,inlinedDataStream:r,getServerInsertedHTML:n,getServerInsertedMetadata:i}){return e.pipeThrough(E()).pipeThrough(T(n)).pipeThrough(O(i)).pipeThrough(A(r,t)).pipeThrough(R())}function M(){return v(x)}},4315,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={NEXT_REQUEST_META:function(){return o},addRequestMeta:function(){return u},getRequestMeta:function(){return a},removeRequestMeta:function(){return c},setRequestMeta:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=Symbol.for("NextInternalRequestMeta");function a(e,t){let r=e[o]||{};return"string"==typeof t?r[t]:r}function s(e,t){return e[o]=t,t}function u(e,t,r){let n=a(e);return n[t]=r,s(e,n)}function c(e,t){let r=a(e);return delete r[t],s(e,r)}},15978,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={isNodeNextRequest:function(){return s},isNodeNextResponse:function(){return u},isWebNextRequest:function(){return o},isWebNextResponse:function(){return a}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e=>!1,a=e=>!1,s=e=>!0,u=e=>!0},73352,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={NextRequestAdapter:function(){return f},ResponseAborted:function(){return l},ResponseAbortedName:function(){return c},createAbortController:function(){return d},signalFromNodeResponse:function(){return p}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(4315),a=e.r(33867),s=e.r(47635),u=e.r(15978),c="ResponseAborted";class l extends Error{constructor(...e){super(...e),this.name=c}}function d(e){let t=new AbortController;return e.once("close",()=>{e.writableFinished||t.abort(new l)}),t}function p(e){let{errored:t,destroyed:r}=e;if(t||r)return AbortSignal.abort(t??new l);let{signal:n}=d(e);return n}class f{static fromBaseNextRequest(e,t){if((0,u.isNodeNextRequest)(e))return f.fromNodeNextRequest(e,t);throw Object.defineProperty(Error("Invariant: Unsupported NextRequest type"),"__NEXT_ERROR_CODE",{value:"E345",enumerable:!1,configurable:!0})}static fromNodeNextRequest(e,t){let r,n=null;if("GET"!==e.method&&"HEAD"!==e.method&&e.body&&(n=e.body),e.url.startsWith("http"))r=new URL(e.url);else{let t=(0,o.getRequestMeta)(e,"initURL");r=t&&t.startsWith("http")?new URL(e.url,t):new URL(e.url,"http://n")}return new s.NextRequest(r,{method:e.method,headers:(0,a.fromNodeOutgoingHttpHeaders)(e.headers),duplex:"half",signal:t,...t.aborted?{}:{body:n}})}static fromWebNextRequest(e){let t=null;return"GET"!==e.method&&"HEAD"!==e.method&&(t=e.body),new s.NextRequest(e.url,{method:e.method,headers:(0,a.fromNodeOutgoingHttpHeaders)(e.headers),duplex:"half",signal:e.request.signal,...e.request.signal.aborted?{}:{body:t}})}}},18084,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getClientComponentLoaderMetrics:function(){return c},wrapClientComponentLoader:function(){return u}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=0,a=0,s=0;function u(e){return"performance"in globalThis?{require:(...t)=>{let r=performance.now();0===o&&(o=r);try{return s+=1,e.__next_app__.require(...t)}finally{a+=performance.now()-r}},loadChunk:(...t)=>{let r=performance.now(),n=e.__next_app__.loadChunk(...t);return n.finally(()=>{a+=performance.now()-r}),n}}:e.__next_app__}function c(e={}){let t=0===o?void 0:{clientComponentLoadStart:o,clientComponentLoadTimes:a,clientComponentLoadCount:s};return e.reset&&(o=0,a=0,s=0),t}},93521,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={isAbortError:function(){return l},pipeToNodeResponse:function(){return d}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(73352),a=e.r(63115),s=e.r(26949),u=e.r(26624),c=e.r(18084);function l(e){return(null==e?void 0:e.name)==="AbortError"||(null==e?void 0:e.name)===o.ResponseAbortedName}async function d(e,t,r){try{let{errored:n,destroyed:i}=t;if(n||i)return;let l=(0,o.createAbortController)(t),d=function(e,t){let r=!1,n=new a.DetachedPromise;function i(){n.resolve()}e.on("drain",i),e.once("close",()=>{e.off("drain",i),n.resolve()});let o=new a.DetachedPromise;return e.once("finish",()=>{o.resolve()}),new WritableStream({write:async t=>{if(!r){if(r=!0,"performance"in globalThis&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX){let e=(0,c.getClientComponentLoaderMetrics)();e&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-client-component-loading`,{start:e.clientComponentLoadStart,end:e.clientComponentLoadStart+e.clientComponentLoadTimes})}e.flushHeaders(),(0,s.getTracer)().trace(u.NextNodeServerSpan.startResponse,{spanName:"start response"},()=>void 0)}try{let r=e.write(t);"flush"in e&&"function"==typeof e.flush&&e.flush(),r||(await n.promise,n=new a.DetachedPromise)}catch(t){throw e.end(),Object.defineProperty(Error("failed to write chunk to response",{cause:t}),"__NEXT_ERROR_CODE",{value:"E321",enumerable:!1,configurable:!0})}},abort:t=>{e.writableFinished||e.destroy(t)},close:async()=>{if(t&&await t,!e.writableFinished)return e.end(),o.promise}})}(t,r);await e.pipeTo(d,{signal:l.signal})}catch(e){if(l(e))return;throw Object.defineProperty(Error("failed to pipe response",{cause:e}),"__NEXT_ERROR_CODE",{value:"E180",enumerable:!1,configurable:!0})}}},6742,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a}});let n=e.r(96680),i=e.r(93521),o=e.r(51468);class a{static #e=this.EMPTY=new a(null,{metadata:{},contentType:null});static fromStatic(e,t){return new a(e,{metadata:{},contentType:t})}constructor(e,{contentType:t,waitUntil:r,metadata:n}){this.response=e,this.contentType=t,this.metadata=n,this.waitUntil=r}assignMetadata(e){Object.assign(this.metadata,e)}get isNull(){return null===this.response}get isDynamic(){return"string"!=typeof this.response}toUnchunkedString(e=!1){if(null===this.response)return"";if("string"!=typeof this.response){if(!e)throw Object.defineProperty(new o.InvariantError("dynamic responses cannot be unchunked. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E732",enumerable:!1,configurable:!0});return(0,n.streamToString)(this.readable)}return this.response}get readable(){return null===this.response?new ReadableStream({start(e){e.close()}}):"string"==typeof this.response?(0,n.streamFromString)(this.response):Buffer.isBuffer(this.response)?(0,n.streamFromBuffer)(this.response):Array.isArray(this.response)?(0,n.chainStreams)(...this.response):this.response}coerce(){return null===this.response?[]:"string"==typeof this.response?[(0,n.streamFromString)(this.response)]:Array.isArray(this.response)?this.response:Buffer.isBuffer(this.response)?[(0,n.streamFromBuffer)(this.response)]:[this.response]}unshift(e){this.response=this.coerce(),this.response.unshift(e)}push(e){this.response=this.coerce(),this.response.push(e)}async pipeTo(e){try{await this.readable.pipeTo(e,{preventClose:!0}),this.waitUntil&&await this.waitUntil,await e.close()}catch(t){if((0,i.isAbortError)(t))return void await e.abort(t);throw t}}async pipeToNodeResponse(e){await (0,i.pipeToNodeResponse)(this.readable,e,this.waitUntil)}}},9712,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouteKind",{enumerable:!0,get:function(){return i}});var n,i=((n={}).PAGES="PAGES",n.PAGES_API="PAGES_API",n.APP_PAGE="APP_PAGE",n.APP_ROUTE="APP_ROUTE",n.IMAGE="IMAGE",n)},41093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i={fromResponseCacheEntry:function(){return l},routeKindToIncrementalCacheKind:function(){return p},toResponseCacheEntry:function(){return d}};for(var o in i)Object.defineProperty(r,o,{enumerable:!0,get:i[o]});let a=e.r(6550),s=(n=e.r(6742))&&n.__esModule?n:{default:n},u=e.r(9712),c=e.r(75135);async function l(e){var t,r;return{...e,value:(null==(t=e.value)?void 0:t.kind)===a.CachedRouteKind.PAGES?{kind:a.CachedRouteKind.PAGES,html:await e.value.html.toUnchunkedString(!0),pageData:e.value.pageData,headers:e.value.headers,status:e.value.status}:(null==(r=e.value)?void 0:r.kind)===a.CachedRouteKind.APP_PAGE?{kind:a.CachedRouteKind.APP_PAGE,html:await e.value.html.toUnchunkedString(!0),postponed:e.value.postponed,rscData:e.value.rscData,headers:e.value.headers,status:e.value.status,segmentData:e.value.segmentData}:e.value}}async function d(e){var t,r;return e?{isMiss:e.isMiss,isStale:e.isStale,cacheControl:e.cacheControl,value:(null==(t=e.value)?void 0:t.kind)===a.CachedRouteKind.PAGES?{kind:a.CachedRouteKind.PAGES,html:s.default.fromStatic(e.value.html,c.HTML_CONTENT_TYPE_HEADER),pageData:e.value.pageData,headers:e.value.headers,status:e.value.status}:(null==(r=e.value)?void 0:r.kind)===a.CachedRouteKind.APP_PAGE?{kind:a.CachedRouteKind.APP_PAGE,html:s.default.fromStatic(e.value.html,c.HTML_CONTENT_TYPE_HEADER),rscData:e.value.rscData,headers:e.value.headers,status:e.value.status,postponed:e.value.postponed,segmentData:e.value.segmentData}:e.value}:null}function p(e){switch(e){case u.RouteKind.PAGES:return a.IncrementalCacheKind.PAGES;case u.RouteKind.APP_PAGE:return a.IncrementalCacheKind.APP_PAGE;case u.RouteKind.IMAGE:return a.IncrementalCacheKind.IMAGE;case u.RouteKind.APP_ROUTE:return a.IncrementalCacheKind.APP_ROUTE;case u.RouteKind.PAGES_API:throw Object.defineProperty(Error(`Unexpected route kind ${e}`),"__NEXT_ERROR_CODE",{value:"E64",enumerable:!1,configurable:!0});default:return e}}},64474,(e,t,r)=>{"use strict";var n,i;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return u}});let o=e.r(25578),a=e.r(38252),s=e.r(41093);n=e.r(6550),i=r,Object.keys(n).forEach(function(e){"default"===e||Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(i,e,{enumerable:!0,get:function(){return n[e]}})});class u{constructor(e){this.getBatcher=o.Batcher.create({cacheKeyFn:({key:e,isOnDemandRevalidate:t})=>`${e}-${t?"1":"0"}`,schedulerFn:a.scheduleOnNextTick}),this.revalidateBatcher=o.Batcher.create({schedulerFn:a.scheduleOnNextTick}),this.minimal_mode=e}async get(e,t,r){var n;if(!e)return t({hasResolved:!1,previousCacheEntry:null});if(this.minimal_mode&&(null==(n=this.previousCacheItem)?void 0:n.key)===e&&this.previousCacheItem.expiresAt>Date.now())return(0,s.toResponseCacheEntry)(this.previousCacheItem.entry);let{incrementalCache:i,isOnDemandRevalidate:o=!1,isFallback:a=!1,isRoutePPREnabled:u=!1,isPrefetch:c=!1,waitUntil:l,routeKind:d}=r,p=await this.getBatcher.batch({key:e,isOnDemandRevalidate:o},({resolve:r})=>{let n=this.handleGet(e,t,{incrementalCache:i,isOnDemandRevalidate:o,isFallback:a,isRoutePPREnabled:u,isPrefetch:c,routeKind:d},r);return l&&l(n),n});return(0,s.toResponseCacheEntry)(p)}async handleGet(e,t,r,n){let i=null,o=!1;try{if((i=this.minimal_mode?null:await r.incrementalCache.get(e,{kind:(0,s.routeKindToIncrementalCacheKind)(r.routeKind),isRoutePPREnabled:r.isRoutePPREnabled,isFallback:r.isFallback}))&&!r.isOnDemandRevalidate&&(n(i),o=!0,!i.isStale||r.isPrefetch))return i;let a=await this.revalidate(e,r.incrementalCache,r.isRoutePPREnabled,r.isFallback,t,i,null!==i&&!r.isOnDemandRevalidate);if(!a)return this.minimal_mode&&(this.previousCacheItem=void 0),null;return r.isOnDemandRevalidate,a}catch(e){if(o)return console.error(e),null;throw e}}async revalidate(e,t,r,n,i,o,a,s){return this.revalidateBatcher.batch(e,()=>{let u=this.handleRevalidate(e,t,r,n,i,o,a);return s&&s(u),u})}async handleRevalidate(e,t,r,n,i,o,a){try{let u=await i({hasResolved:a,previousCacheEntry:o,isRevalidating:!0});if(!u)return null;let c=await (0,s.fromResponseCacheEntry)({...u,isMiss:!o});return c.cacheControl&&(this.minimal_mode?this.previousCacheItem={key:e,entry:c,expiresAt:Date.now()+1e3}:await t.set(e,c.value,{cacheControl:c.cacheControl,isRoutePPREnabled:r,isFallback:n})),c}catch(i){if(null==o?void 0:o.cacheControl){let i=Math.min(Math.max(o.cacheControl.revalidate||3,3),30),a=void 0===o.cacheControl.expire?void 0:Math.max(i+3,o.cacheControl.expire);await t.set(e,o.value,{cacheControl:{revalidate:i,expire:a},isRoutePPREnabled:r,isFallback:n})}throw i}}}},82823,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={NEXT_PATCH_SYMBOL:function(){return h},createPatchedFetcher:function(){return b},patchFetch:function(){return w},validateRevalidate:function(){return y},validateTags:function(){return g}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(26624),a=e.r(26949),s=e.r(75135),u=e.r(17550),c=e.r(60142),l=e.r(72110),d=e.r(32319),p=e.r(64474),f=e.r(11492);e.r(15926);let h=Symbol.for("next-patch");function y(e,t){try{let r;if(!1===e)r=s.INFINITE_CACHE;else if("number"==typeof e&&!isNaN(e)&&e>-1)r=e;else if(void 0!==e)throw Object.defineProperty(Error(`Invalid revalidate value "${e}" on "${t}", must be a non-negative number or false`),"__NEXT_ERROR_CODE",{value:"E179",enumerable:!1,configurable:!0});return r}catch(e){if(e instanceof Error&&e.message.includes("Invalid revalidate"))throw e;return}}function g(e,t){let r=[],n=[];for(let i=0;i<e.length;i++){let o=e[i];if("string"!=typeof o?n.push({tag:o,reason:"invalid type, must be a string"}):o.length>s.NEXT_CACHE_TAG_MAX_LENGTH?n.push({tag:o,reason:`exceeded max length of ${s.NEXT_CACHE_TAG_MAX_LENGTH}`}):r.push(o),r.length>s.NEXT_CACHE_TAG_MAX_ITEMS){console.warn(`Warning: exceeded max tag count for ${t}, dropped tags:`,e.slice(i).join(", "));break}}if(n.length>0)for(let{tag:e,reason:r}of(console.warn(`Warning: invalid tags passed to ${t}: `),n))console.log(`tag: "${e}" ${r}`);return r}function m(e,t){e.shouldTrackFetchMetrics&&(e.fetchMetrics??=[],e.fetchMetrics.push({...t,end:performance.timeOrigin+performance.now(),idx:e.nextFetchId||0}))}async function v(e,t,r,n,i,o){let a=await e.arrayBuffer(),s={headers:Object.fromEntries(e.headers.entries()),body:Buffer.from(a).toString("base64"),status:e.status,url:e.url};return r&&await n.set(t,{kind:p.CachedRouteKind.FETCH,data:s,revalidate:i},r),await o(),new Response(a,{headers:e.headers,status:e.status,statusText:e.statusText})}async function _(e,t,r,n,i,o,a,s,u){let[c,l]=(0,f.cloneResponse)(t),d=c.arrayBuffer().then(async e=>{let t=Buffer.from(e),s={headers:Object.fromEntries(c.headers.entries()),body:t.toString("base64"),status:c.status,url:c.url};null==o||o.set(r,s),n&&await i.set(r,{kind:p.CachedRouteKind.FETCH,data:s,revalidate:a},n)}).catch(e=>console.warn("Failed to set fetch cache",s,e)).finally(u),h=`cache-set-${r}`;return e.pendingRevalidates??={},h in e.pendingRevalidates&&await e.pendingRevalidates[h],e.pendingRevalidates[h]=d.finally(()=>{var t;(null==(t=e.pendingRevalidates)?void 0:t[h])&&delete e.pendingRevalidates[h]}),l}function b(e,{workAsyncStorage:t,workUnitAsyncStorage:r}){let n=async function(n,i){var l,h;let b;try{(b=new URL(n instanceof Request?n.url:n)).username="",b.password=""}catch{b=void 0}let w=(null==b?void 0:b.href)??"",S=(null==i||null==(l=i.method)?void 0:l.toUpperCase())||"GET",k=(null==i||null==(h=i.next)?void 0:h.internal)===!0,O="1"===process.env.NEXT_OTEL_FETCH_DISABLED,T=k?void 0:performance.timeOrigin+performance.now(),A=t.getStore(),x=r.getStore(),R=x?(0,d.getCacheSignal)(x):null;R&&R.beginRead();let P=(0,a.getTracer)().trace(k?o.NextNodeServerSpan.internalFetch:o.AppRenderSpan.fetch,{hideSpan:O,kind:a.SpanKind.CLIENT,spanName:["fetch",S,w].filter(Boolean).join(" "),attributes:{"http.url":w,"http.method":S,"net.peer.name":null==b?void 0:b.hostname,"net.peer.port":(null==b?void 0:b.port)||void 0}},async()=>{var t;let r,o,a,l,d,h;if(k||!A||A.isDraftMode)return e(n,i);let b=n&&"object"==typeof n&&"string"==typeof n.method,S=e=>(null==i?void 0:i[e])||(b?n[e]:null),O=e=>{var t,r,o;return void 0!==(null==i||null==(t=i.next)?void 0:t[e])?null==i||null==(r=i.next)?void 0:r[e]:b?null==(o=n.next)?void 0:o[e]:void 0},P=O("revalidate"),C=P,I=g(O("tags")||[],`fetch ${n.toString()}`);if(x)switch(x.type){case"prerender":case"prerender-runtime":case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":r=x}if(r&&Array.isArray(I)){let e=r.tags??(r.tags=[]);for(let t of I)e.includes(t)||e.push(t)}let N=null==x?void 0:x.implicitTags,j=A.fetchCache;x&&"unstable-cache"===x.type&&(j="force-no-store");let D=!!A.isUnstableNoStore,M=S("cache"),L="";"string"==typeof M&&void 0!==C&&("force-cache"===M&&0===C||"no-store"===M&&(C>0||!1===C))&&(o=`Specified "cache: ${M}" and "revalidate: ${C}", only one should be specified.`,M=void 0,C=void 0);let U="no-cache"===M||"no-store"===M||"force-no-store"===j||"only-no-store"===j,W=!j&&!M&&!C&&A.forceDynamic;"force-cache"===M&&void 0===C?C=!1:(U||W)&&(C=0),("no-cache"===M||"no-store"===M)&&(L=`cache: ${M}`),h=y(C,A.route);let F=S("headers"),$="function"==typeof(null==F?void 0:F.get)?F:new Headers(F||{}),H=$.get("authorization")||$.get("cookie"),K=!["get","head"].includes((null==(t=S("method"))?void 0:t.toLowerCase())||"get"),q=void 0==j&&(void 0==M||"default"===M)&&void 0==C,J=!!((H||K)&&(null==r?void 0:r.revalidate)===0),B=!1;if(!J&&q&&(A.isBuildTimePrerendering?B=!0:J=!0),q&&void 0!==x)switch(x.type){case"prerender":case"prerender-runtime":case"prerender-client":return R&&(R.endRead(),R=null),(0,c.makeHangingPromise)(x.renderSignal,A.route,"fetch()")}switch(j){case"force-no-store":L="fetchCache = force-no-store";break;case"only-no-store":if("force-cache"===M||void 0!==h&&h>0)throw Object.defineProperty(Error(`cache: 'force-cache' used on fetch for ${w} with 'export const fetchCache = 'only-no-store'`),"__NEXT_ERROR_CODE",{value:"E448",enumerable:!1,configurable:!0});L="fetchCache = only-no-store";break;case"only-cache":if("no-store"===M)throw Object.defineProperty(Error(`cache: 'no-store' used on fetch for ${w} with 'export const fetchCache = 'only-cache'`),"__NEXT_ERROR_CODE",{value:"E521",enumerable:!1,configurable:!0});break;case"force-cache":(void 0===C||0===C)&&(L="fetchCache = force-cache",h=s.INFINITE_CACHE)}if(void 0===h?"default-cache"!==j||D?"default-no-store"===j?(h=0,L="fetchCache = default-no-store"):D?(h=0,L="noStore call"):J?(h=0,L="auto no cache"):(L="auto cache",h=r?r.revalidate:s.INFINITE_CACHE):(h=s.INFINITE_CACHE,L="fetchCache = default-cache"):L||(L=`revalidate: ${h}`),!(A.forceStatic&&0===h)&&!J&&r&&h<r.revalidate){if(0===h){if(x)switch(x.type){case"prerender":case"prerender-client":case"prerender-runtime":return R&&(R.endRead(),R=null),(0,c.makeHangingPromise)(x.renderSignal,A.route,"fetch()")}(0,u.markCurrentScopeAsDynamic)(A,x,`revalidate: 0 fetch ${n} ${A.route}`)}r&&P===h&&(r.revalidate=h)}let V="number"==typeof h&&h>0,{incrementalCache:z}=A,G=!1;if(x)switch(x.type){case"request":case"cache":case"private-cache":G=x.isHmrRefresh??!1,l=x.serverComponentsHmrCache}if(z&&(V||l))try{a=await z.generateCacheKey(w,b?n:i)}catch(e){console.error("Failed to generate cache key for",n)}let Q=A.nextFetchId??1;A.nextFetchId=Q+1;let X=()=>{},Y=async(t,r)=>{let u=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(b){let e=n,t={body:e._ogBody||e.body};for(let r of u)t[r]=e[r];n=new Request(e.url,t)}else if(i){let{_ogBody:e,body:r,signal:n,...o}=i;i={...o,body:e||r,signal:t?void 0:n}}let c={...i,next:{...null==i?void 0:i.next,fetchType:"origin",fetchIdx:Q}};return e(n,c).then(async e=>{if(!t&&T&&m(A,{start:T,url:w,cacheReason:r||L,cacheStatus:0===h||r?"skip":"miss",cacheWarning:o,status:e.status,method:c.method||"GET"}),200===e.status&&z&&a&&(V||l)){let t=h>=s.INFINITE_CACHE?s.CACHE_ONE_YEAR:h,r=V?{fetchCache:!0,fetchUrl:w,fetchIdx:Q,tags:I,isImplicitBuildTimeCache:B}:void 0;switch(null==x?void 0:x.type){case"prerender":case"prerender-client":case"prerender-runtime":return v(e,a,r,z,t,X);case"request":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":case void 0:return _(A,e,a,r,z,l,t,n,X)}}return await X(),e}).catch(e=>{throw X(),e})},Z=!1,ee=!1;if(a&&z){let e;if(G&&l&&(e=l.get(a),ee=!0),V&&!e){X=await z.lock(a);let t=A.isOnDemandRevalidate?null:await z.get(a,{kind:p.IncrementalCacheKind.FETCH,revalidate:h,fetchUrl:w,fetchIdx:Q,tags:I,softTags:null==N?void 0:N.tags});if(q&&x)switch(x.type){case"prerender":case"prerender-client":case"prerender-runtime":await (E||(E=new Promise(e=>{setTimeout(()=>{E=null,e()},0)})),E)}if(t?await X():d="cache-control: no-cache (hard refresh)",(null==t?void 0:t.value)&&t.value.kind===p.CachedRouteKind.FETCH)if(A.isStaticGeneration&&t.isStale)Z=!0;else{if(t.isStale&&(A.pendingRevalidates??={},!A.pendingRevalidates[a])){let e=Y(!0).then(async e=>({body:await e.arrayBuffer(),headers:e.headers,status:e.status,statusText:e.statusText})).finally(()=>{A.pendingRevalidates??={},delete A.pendingRevalidates[a||""]});e.catch(console.error),A.pendingRevalidates[a]=e}e=t.value.data}}if(e){T&&m(A,{start:T,url:w,cacheReason:L,cacheStatus:ee?"hmr":"hit",cacheWarning:o,status:e.status||200,method:(null==i?void 0:i.method)||"GET"});let t=new Response(Buffer.from(e.body,"base64"),{headers:e.headers,status:e.status});return Object.defineProperty(t,"url",{value:e.url}),t}}if(A.isStaticGeneration&&i&&"object"==typeof i){let{cache:e}=i;if("no-store"===e){if(x)switch(x.type){case"prerender":case"prerender-client":case"prerender-runtime":return R&&(R.endRead(),R=null),(0,c.makeHangingPromise)(x.renderSignal,A.route,"fetch()")}(0,u.markCurrentScopeAsDynamic)(A,x,`no-store fetch ${n} ${A.route}`)}let t="next"in i,{next:o={}}=i;if("number"==typeof o.revalidate&&r&&o.revalidate<r.revalidate){if(0===o.revalidate){if(x)switch(x.type){case"prerender":case"prerender-client":case"prerender-runtime":return(0,c.makeHangingPromise)(x.renderSignal,A.route,"fetch()")}(0,u.markCurrentScopeAsDynamic)(A,x,`revalidate: 0 fetch ${n} ${A.route}`)}A.forceStatic&&0===o.revalidate||(r.revalidate=o.revalidate)}t&&delete i.next}if(!a||!Z)return Y(!1,d);{let e=a;A.pendingRevalidates??={};let t=A.pendingRevalidates[e];if(t){let e=await t;return new Response(e.body,{headers:e.headers,status:e.status,statusText:e.statusText})}let r=Y(!0,d).then(f.cloneResponse);return(t=r.then(async e=>{let t=e[0];return{body:await t.arrayBuffer(),headers:t.headers,status:t.status,statusText:t.statusText}}).finally(()=>{var t;(null==(t=A.pendingRevalidates)?void 0:t[e])&&delete A.pendingRevalidates[e]})).catch(()=>{}),A.pendingRevalidates[e]=t,r.then(e=>e[1])}});if(R)try{return await P}finally{R&&R.endRead()}return P};return n.__nextPatched=!0,n.__nextGetStaticStore=()=>t,n._nextOriginalFetch=e,globalThis[h]=!0,Object.defineProperty(n,"name",{value:"fetch",writable:!1}),n}function w(e){if(!0===globalThis[h])return;let t=(0,l.createDedupeFetch)(globalThis.fetch);globalThis.fetch=b(t,e)}let E=null},23073,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_cache",{enumerable:!0,get:function(){return l}});let n=e.r(75135),i=e.r(82823),o=e.r(56704),a=e.r(32319),s=e.r(64474),u=0;async function c(e,t,r,i,o,a,u){await t.set(r,{kind:s.CachedRouteKind.FETCH,data:{headers:{},body:JSON.stringify(e),status:200,url:""},revalidate:"number"!=typeof o?n.CACHE_ONE_YEAR:o},{fetchCache:!0,tags:i,fetchIdx:a,fetchUrl:u})}function l(e,t,r={}){if(0===r.revalidate)throw Object.defineProperty(Error(`Invariant revalidate: 0 can not be passed to unstable_cache(), must be "false" or "> 0" ${e.toString()}`),"__NEXT_ERROR_CODE",{value:"E57",enumerable:!1,configurable:!0});let n=r.tags?(0,i.validateTags)(r.tags,`unstable_cache ${e.toString()}`):[];(0,i.validateRevalidate)(r.revalidate,`unstable_cache ${e.name||e.toString()}`);let d=`${e.toString()}-${Array.isArray(t)&&t.join(",")}`;return async(...t)=>{let i=o.workAsyncStorage.getStore(),l=a.workUnitAsyncStorage.getStore(),p=(null==i?void 0:i.incrementalCache)||globalThis.__incrementalCache;if(!p)throw Object.defineProperty(Error(`Invariant: incrementalCache missing in unstable_cache ${e.toString()}`),"__NEXT_ERROR_CODE",{value:"E469",enumerable:!1,configurable:!0});let f=l?(0,a.getCacheSignal)(l):null;f&&f.beginRead();try{let o=i&&l?function(e,t){switch(t.type){case"request":let r=t.url.pathname,n=new URLSearchParams(t.url.search),i=[...n.keys()].sort((e,t)=>e.localeCompare(t)).map(e=>`${e}=${n.get(e)}`).join("&");return`${r}${i.length?"?":""}${i}`;case"prerender":case"prerender-client":case"prerender-runtime":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":return e.route;default:return t}}(i,l):"",f=`${d}-${JSON.stringify(t)}`,h=await p.generateCacheKey(f),y=`unstable_cache ${o} ${e.name?` ${e.name}`:h}`,g=(i?i.nextFetchId:u)??1,m=null==l?void 0:l.implicitTags,v={type:"unstable-cache",phase:"render",implicitTags:m,draftMode:l&&i&&(0,a.getDraftModeProviderForCacheScope)(i,l)};if(i){i.nextFetchId=g+1;let o=!1;if(l)switch(l.type){case"cache":case"private-cache":case"prerender":case"prerender-runtime":case"prerender-ppr":case"prerender-legacy":"number"==typeof r.revalidate&&(l.revalidate<r.revalidate||(l.revalidate=r.revalidate));let u=l.tags;if(null===u)l.tags=n.slice();else for(let e of n)u.includes(e)||u.push(e);break;case"unstable-cache":o=!0}if(!o&&"force-no-store"!==i.fetchCache&&!i.isOnDemandRevalidate&&!p.isOnDemandRevalidate&&!i.isDraftMode){let o=await p.get(h,{kind:s.IncrementalCacheKind.FETCH,revalidate:r.revalidate,tags:n,softTags:null==m?void 0:m.tags,fetchIdx:g,fetchUrl:y});if(o&&o.value)if(o.value.kind!==s.CachedRouteKind.FETCH)console.error(`Invariant invalid cacheEntry returned for ${f}`);else{let s=void 0!==o.value.data.body?JSON.parse(o.value.data.body):void 0;if(o.isStale){if(i.pendingRevalidates||(i.pendingRevalidates={}),!i.pendingRevalidates[f]){let o=a.workUnitAsyncStorage.run(v,e,...t).then(async e=>(await c(e,p,h,n,r.revalidate,g,y),e)).catch(e=>(console.error(`revalidating cache with key: ${f}`,e),s));i.isStaticGeneration&&o.catch(()=>{}),i.pendingRevalidates[f]=o}if(i.isStaticGeneration)return i.pendingRevalidates[f]}return s}}let d=await a.workUnitAsyncStorage.run(v,e,...t);return i.isDraftMode||(i.pendingRevalidates||(i.pendingRevalidates={}),i.pendingRevalidates[f]=c(d,p,h,n,r.revalidate,g,y)),d}{if(u+=1,!p.isOnDemandRevalidate){let e=await p.get(h,{kind:s.IncrementalCacheKind.FETCH,revalidate:r.revalidate,tags:n,fetchIdx:g,fetchUrl:y,softTags:null==m?void 0:m.tags});if(e&&e.value){if(e.value.kind!==s.CachedRouteKind.FETCH)console.error(`Invariant invalid cacheEntry returned for ${f}`);else if(!e.isStale)return void 0!==e.value.data.body?JSON.parse(e.value.data.body):void 0}}let i=await a.workUnitAsyncStorage.run(v,e,...t);return await c(i,p,h,n,r.revalidate,g,y),i}}finally{f&&f.endRead()}}}},57457,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getSortedRouteObjects:function(){return s},getSortedRoutes:function(){return a}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});class o{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e="/"){let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let r=t.map(t=>this.children.get(t)._smoosh(`${e}${t}/`)).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&r.push(...this.children.get("[]")._smoosh(`${e}[${this.slugName}]/`)),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Object.defineProperty(Error(`You cannot define a route with the same specificity as a optional catch-all route ("${t}" and "${t}[[...${this.optionalRestSlugName}]]").`),"__NEXT_ERROR_CODE",{value:"E458",enumerable:!1,configurable:!0});r.unshift(t)}return null!==this.restSlugName&&r.push(...this.children.get("[...]")._smoosh(`${e}[...${this.restSlugName}]/`)),null!==this.optionalRestSlugName&&r.push(...this.children.get("[[...]]")._smoosh(`${e}[[...${this.optionalRestSlugName}]]/`)),r}_insert(e,t,r){if(0===e.length){this.placeholder=!1;return}if(r)throw Object.defineProperty(Error("Catch-all must be the last part of the URL."),"__NEXT_ERROR_CODE",{value:"E392",enumerable:!1,configurable:!0});let n=e[0];if(n.startsWith("[")&&n.endsWith("]")){let o=n.slice(1,-1),a=!1;if(o.startsWith("[")&&o.endsWith("]")&&(o=o.slice(1,-1),a=!0),o.startsWith(""))throw Object.defineProperty(Error(`Detected a three-dot character ('') at ('${o}'). Did you mean ('...')?`),"__NEXT_ERROR_CODE",{value:"E147",enumerable:!1,configurable:!0});if(o.startsWith("...")&&(o=o.substring(3),r=!0),o.startsWith("[")||o.endsWith("]"))throw Object.defineProperty(Error(`Segment names may not start or end with extra brackets ('${o}').`),"__NEXT_ERROR_CODE",{value:"E421",enumerable:!1,configurable:!0});if(o.startsWith("."))throw Object.defineProperty(Error(`Segment names may not start with erroneous periods ('${o}').`),"__NEXT_ERROR_CODE",{value:"E288",enumerable:!1,configurable:!0});function i(e,r){if(null!==e&&e!==r)throw Object.defineProperty(Error(`You cannot use different slug names for the same dynamic path ('${e}' !== '${r}').`),"__NEXT_ERROR_CODE",{value:"E337",enumerable:!1,configurable:!0});t.forEach(e=>{if(e===r)throw Object.defineProperty(Error(`You cannot have the same slug name "${r}" repeat within a single dynamic path`),"__NEXT_ERROR_CODE",{value:"E247",enumerable:!1,configurable:!0});if(e.replace(/\W/g,"")===n.replace(/\W/g,""))throw Object.defineProperty(Error(`You cannot have the slug names "${e}" and "${r}" differ only by non-word symbols within a single dynamic path`),"__NEXT_ERROR_CODE",{value:"E499",enumerable:!1,configurable:!0})}),t.push(r)}if(r)if(a){if(null!=this.restSlugName)throw Object.defineProperty(Error(`You cannot use both an required and optional catch-all route at the same level ("[...${this.restSlugName}]" and "${e[0]}" ).`),"__NEXT_ERROR_CODE",{value:"E299",enumerable:!1,configurable:!0});i(this.optionalRestSlugName,o),this.optionalRestSlugName=o,n="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Object.defineProperty(Error(`You cannot use both an optional and required catch-all route at the same level ("[[...${this.optionalRestSlugName}]]" and "${e[0]}").`),"__NEXT_ERROR_CODE",{value:"E300",enumerable:!1,configurable:!0});i(this.restSlugName,o),this.restSlugName=o,n="[...]"}else{if(a)throw Object.defineProperty(Error(`Optional route parameters are not yet supported ("${e[0]}").`),"__NEXT_ERROR_CODE",{value:"E435",enumerable:!1,configurable:!0});i(this.slugName,o),this.slugName=o,n="[]"}}this.children.has(n)||this.children.set(n,new o),this.children.get(n)._insert(e.slice(1),t,r)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function a(e){let t=new o;return e.forEach(e=>t.insert(e)),t.smoosh()}function s(e,t){let r={},n=[];for(let i=0;i<e.length;i++){let o=t(e[i]);r[o]=i,n[i]=o}return a(n).map(t=>e[r[t]])}},55434,(e,t,r)=>{"use strict";function n(e){return e.startsWith("/")?e:`/${e}`}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ensureLeadingSlash",{enumerable:!0,get:function(){return n}})},94592,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DEFAULT_SEGMENT_KEY:function(){return d},PAGE_SEGMENT_KEY:function(){return l},addSearchParamsIfPageSegment:function(){return u},computeSelectedLayoutSegment:function(){return c},getSegmentValue:function(){return o},getSelectedLayoutSegmentPath:function(){return function e(t,r,n=!0,i=[]){let a;if(n)a=t[1][r];else{let e=t[1];a=e.children??Object.values(e)[0]}if(!a)return i;let s=o(a[0]);return!s||s.startsWith(l)?i:(i.push(s),e(a,r,!1,i))}},isGroupSegment:function(){return a},isParallelRouteSegment:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});function o(e){return Array.isArray(e)?e[1]:e}function a(e){return"("===e[0]&&e.endsWith(")")}function s(e){return e.startsWith("@")&&"@children"!==e}function u(e,t){if(e.includes(l)){let e=JSON.stringify(t);return"{}"!==e?l+"?"+e:l}return e}function c(e,t){if(!e||0===e.length)return null;let r="children"===t?e[0]:e[e.length-1];return r===d?null:r}let l="__PAGE__",d="__DEFAULT__"},91444,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={normalizeAppPath:function(){return s},normalizeRscURL:function(){return u}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(55434),a=e.r(94592);function s(e){return(0,o.ensureLeadingSlash)(e.split("/").reduce((e,t,r,n)=>!t||(0,a.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:`${e}/${t}`,""))}function u(e){return e.replace(/\.rsc($|\?)/,"$1")}},91735,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={INTERCEPTION_ROUTE_MARKERS:function(){return a},extractInterceptionRouteInformation:function(){return u},isInterceptionRouteAppPath:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(91444),a=["(..)(..)","(.)","(..)","(...)"];function s(e){return void 0!==e.split("/").find(e=>a.find(t=>e.startsWith(t)))}function u(e){let t,r,n;for(let i of e.split("/"))if(r=a.find(e=>i.startsWith(e))){[t,n]=e.split(r,2);break}if(!t||!r||!n)throw Object.defineProperty(Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`),"__NEXT_ERROR_CODE",{value:"E269",enumerable:!1,configurable:!0});switch(t=(0,o.normalizeAppPath)(t),r){case"(.)":n="/"===t?`/${n}`:t+"/"+n;break;case"(..)":if("/"===t)throw Object.defineProperty(Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`),"__NEXT_ERROR_CODE",{value:"E207",enumerable:!1,configurable:!0});n=t.split("/").slice(0,-1).concat(n).join("/");break;case"(...)":n="/"+n;break;case"(..)(..)":let i=t.split("/");if(i.length<=2)throw Object.defineProperty(Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`),"__NEXT_ERROR_CODE",{value:"E486",enumerable:!1,configurable:!0});n=i.slice(0,-2).concat(n).join("/");break;default:throw Object.defineProperty(Error("Invariant: unexpected marker"),"__NEXT_ERROR_CODE",{value:"E112",enumerable:!1,configurable:!0})}return{interceptingRoute:t,interceptedRoute:n}}},24554,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isDynamicRoute",{enumerable:!0,get:function(){return a}});let n=e.r(91735),i=/\/[^/]*\[[^/]+\][^/]*(?=\/|$)/,o=/\/\[[^/]+\](?=\/|$)/;function a(e,t=!0){return((0,n.isInterceptionRouteAppPath)(e)&&(e=(0,n.extractInterceptionRouteInformation)(e).interceptedRoute),t)?o.test(e):i.test(e)}},72490,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getSortedRouteObjects:function(){return o.getSortedRouteObjects},getSortedRoutes:function(){return o.getSortedRoutes},isDynamicRoute:function(){return a.isDynamicRoute}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(57457),a=e.r(24554)},51118,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={refresh:function(){return h},revalidatePath:function(){return y},revalidateTag:function(){return p},updateTag:function(){return f}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(17550),a=e.r(72490),s=e.r(75135),u=e.r(56704),c=e.r(32319),l=e.r(27853),d=e.r(51468);function p(e,t){return t||console.warn('"revalidateTag" without the second argument is now deprecated, add second argument of "max" or use "updateTag". See more info here: https://nextjs.org/docs/messages/revalidate-tag-single-arg'),g([e],`revalidateTag ${e}`,t)}function f(e){let t=u.workAsyncStorage.getStore();if(!t||t.page.endsWith("/route"))throw Object.defineProperty(Error("updateTag can only be called from within a Server Action. To invalidate cache tags in Route Handlers or other contexts, use revalidateTag instead. See more info here: https://nextjs.org/docs/app/api-reference/functions/updateTag"),"__NEXT_ERROR_CODE",{value:"E872",enumerable:!1,configurable:!0});return g([e],`updateTag ${e}`,void 0)}function h(){let e=u.workAsyncStorage.getStore(),t=c.workUnitAsyncStorage.getStore();if(!e||e.page.endsWith("/route")||(null==t?void 0:t.phase)!=="action")throw Object.defineProperty(Error("refresh can only be called from within a Server Action. See more info here: https://nextjs.org/docs/app/api-reference/functions/refresh"),"__NEXT_ERROR_CODE",{value:"E870",enumerable:!1,configurable:!0});e&&(e.pathWasRevalidated=!0)}function y(e,t){if(e.length>s.NEXT_CACHE_SOFT_TAG_MAX_LENGTH)return void console.warn(`Warning: revalidatePath received "${e}" which exceeded max length of ${s.NEXT_CACHE_SOFT_TAG_MAX_LENGTH}. See more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`);let r=`${s.NEXT_CACHE_IMPLICIT_TAG_ID}${e||"/"}`;t?r+=`${r.endsWith("/")?"":"/"}${t}`:(0,a.isDynamicRoute)(e)&&console.warn(`Warning: a dynamic page path "${e}" was passed to "revalidatePath", but the "type" parameter is missing. This has no effect by default, see more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`);let n=[r];return r===`${s.NEXT_CACHE_IMPLICIT_TAG_ID}/`?n.push(`${s.NEXT_CACHE_IMPLICIT_TAG_ID}/index`):r===`${s.NEXT_CACHE_IMPLICIT_TAG_ID}/index`&&n.push(`${s.NEXT_CACHE_IMPLICIT_TAG_ID}/`),g(n,`revalidatePath ${e}`)}function g(e,t,r){var n;let i=u.workAsyncStorage.getStore();if(!i||!i.incrementalCache)throw Object.defineProperty(Error(`Invariant: static generation store missing in ${t}`),"__NEXT_ERROR_CODE",{value:"E263",enumerable:!1,configurable:!0});let a=c.workUnitAsyncStorage.getStore();if(a){if("render"===a.phase)throw Object.defineProperty(Error(`Route ${i.route} used "${t}" during render which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E7",enumerable:!1,configurable:!0});switch(a.type){case"cache":case"private-cache":throw Object.defineProperty(Error(`Route ${i.route} used "${t}" inside a "use cache" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E181",enumerable:!1,configurable:!0});case"unstable-cache":throw Object.defineProperty(Error(`Route ${i.route} used "${t}" inside a function cached with "unstable_cache(...)" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E306",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":let e=Object.defineProperty(Error(`Route ${i.route} used ${t} without first calling \`await connection()\`.`),"__NEXT_ERROR_CODE",{value:"E406",enumerable:!1,configurable:!0});return(0,o.abortAndThrowOnSynchronousRequestDataAccess)(i.route,t,e,a);case"prerender-client":throw Object.defineProperty(new d.InvariantError(`${t} must not be used within a client component. Next.js should be preventing ${t} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,o.postponeWithTracking)(i.route,t,a.dynamicTracking);case"prerender-legacy":a.revalidate=0;let r=Object.defineProperty(new l.DynamicServerError(`Route ${i.route} couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw i.dynamicUsageDescription=t,i.dynamicUsageStack=r.stack,r}}for(let t of(i.pendingRevalidatedTags||(i.pendingRevalidatedTags=[]),e))-1===i.pendingRevalidatedTags.findIndex(e=>e.tag===t&&("string"==typeof e.profile&&"string"==typeof r?e.profile===r:"object"==typeof e.profile&&"object"==typeof r?JSON.stringify(e.profile)===JSON.stringify(r):e.profile===r))&&i.pendingRevalidatedTags.push({tag:t,profile:r});let s=r&&"object"==typeof r?r:r&&"string"==typeof r&&(null==i||null==(n=i.cacheLifeProfiles)?void 0:n[r])?i.cacheLifeProfiles[r]:void 0;r&&(null==s?void 0:s.expire)!==0||(i.pathWasRevalidated=!0)}},18199,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_noStore",{enumerable:!0,get:function(){return a}});let n=e.r(56704),i=e.r(32319),o=e.r(17550);function a(){let e=n.workAsyncStorage.getStore(),t=i.workUnitAsyncStorage.getStore();if(e){if(!e.forceStatic){if(e.isUnstableNoStore=!0,t)switch(t.type){case"prerender":case"prerender-client":case"prerender-runtime":return}(0,o.markCurrentScopeAsDynamic)(e,t,"unstable_noStore()")}}}},9418,(e,t,r)=>{"use strict";function n(e){throw Object.defineProperty(Error("`cacheLife()` is only available with the `cacheComponents` config."),"__NEXT_ERROR_CODE",{value:"E887",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"cacheLife",{enumerable:!0,get:function(){return n}}),e.r(51468),e.r(56704),e.r(32319)},97418,(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`cacheTag()` is only available with the `cacheComponents` config."),"__NEXT_ERROR_CODE",{value:"E886",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"cacheTag",{enumerable:!0,get:function(){return n}}),e.r(32319),e.r(82823)},62739,(e,t,r)=>{let n={unstable_cache:e.r(23073).unstable_cache,updateTag:e.r(51118).updateTag,revalidateTag:e.r(51118).revalidateTag,revalidatePath:e.r(51118).revalidatePath,refresh:e.r(51118).refresh,unstable_noStore:e.r(18199).unstable_noStore,cacheLife:e.r(9418).cacheLife,cacheTag:e.r(97418).cacheTag},i=!1,o=!1;n.unstable_cacheLife=function(){return i||(i=!0,console.error(Error("`unstable_cacheLife` was recently stabilized and should be imported as `cacheLife`. The `unstable` prefixed form will be removed in a future version of Next.js."))),n.cacheLife.apply(this,arguments)},n.unstable_cacheTag=function(){return o||(o=!0,console.error(Error("`unstable_cacheTag` was recently stabilized and should be imported as `cacheTag`. The `unstable` prefixed form will be removed in a future version of Next.js."))),n.cacheTag.apply(this,arguments)},t.exports=n,r.unstable_cache=n.unstable_cache,r.revalidatePath=n.revalidatePath,r.revalidateTag=n.revalidateTag,r.updateTag=n.updateTag,r.unstable_noStore=n.unstable_noStore,r.cacheLife=n.cacheLife,r.unstable_cacheLife=n.unstable_cacheLife,r.cacheTag=n.cacheTag,r.unstable_cacheTag=n.unstable_cacheTag,r.refresh=n.refresh},71386,71663,68814,87575,91339,48065,74789,42670,5541,96179,73023,19538,82926,62488,47314,8275,78914,9037,87486,59155,22182,34373,91422,5646,49183,18881,71315,e=>{"use strict";var t=e.i(65517);let r=t.gql`
  fragment ProductCore on Product {
    id
    sku
    type
    name
    price
    urlKey
    baseImageUrl
    minimumPrice
    specialPrice
    isSaleable
  }
`,n=t.gql`
  fragment ProductDetailed on Product {
    id
    sku
    type
    name
    urlKey
    description
    shortDescription
    price
    baseImageUrl
    minimumPrice
     specialPrice
     isSaleable
    variants {
      edges {
        node {
          id
          sku
          baseImageUrl
        }
      }
    }
    reviews {
        edges {
          node {
            rating
            id
            name
            title
            comment
            createdAt
          }
        }
      }
  }
`;t.gql`
  fragment ProductReview on Review {
    rating
    id
    _id
    name
    title
    comment
  }
`;let i=t.gql`
  fragment ProductSection on Product {
    id
    sku
    name
    urlKey
    type
    baseImageUrl
    price
    minimumPrice
    isSaleable
  }
`;e.s([],71663),t.gql`
  ${r}

  query GetProducts(
    $query: String
    $sortKey: String
    $reverse: Boolean
    $first: Int
    $last: Int
    $after: String
    $before: String
    $channel: String
    $locale: String
    $filter: String
  ) {
    products(
      query: $query
      sortKey: $sortKey
      reverse: $reverse
      first: $first
      last: $last
      after: $after
      before: $before
      channel: $channel
      locale: $locale
      filter: $filter
    ) {
      totalCount
      pageInfo {
        startCursor
        endCursor
        hasNextPage
        hasPreviousPage
      }

      edges {
        node {
          ...ProductCore
        }
      }
    }
  }
`,t.gql`
  ${n}

  query GetProductById($urlKey: String!) {
    product(urlKey: $urlKey) {
      ...ProductDetailed
    }
  }
`,t.gql`
  query ProductSwatchReview($urlKey: String!) {
    product(urlKey: $urlKey) {
      id
      name
      sku
      type
      urlKey
      price
      isSaleable
      combinations
      superAttributeOptions
      attributeValues {
        edges {
          cursor
          node {
            value
            attribute {
              adminName
              code
              isFilterable
              isVisibleOnFront
            }
          }
        }
      }
      superAttributes {
        edges {
          node {
            id
            code
            adminName
            options {
              edges {
                node {
                  id
                  adminName
                }
              }
            }
          }
        }
      }
    }
  }
`,t.gql`
  query GetProductsPagination(
    $query: String
    $sortKey: String
    $reverse: Boolean
    $first: Int
    $last: Int
    $channel: String
    $locale: String
    $after: String
    $before: String
  ) {
    products(
      query: $query
      sortKey: $sortKey
      reverse: $reverse
      first: $first
      last: $last
      channel: $channel
      locale: $locale
      after: $after
      before: $before
    ) {
      totalCount
      pageInfo {
        startCursor
        endCursor
        hasNextPage
        hasPreviousPage
      }
      edges {
        node {
          id
        }
      }
    }
  }
`,t.gql`
  ${i}

  query GetRelatedProducts($urlKey: String, $first: Int) {
    product(urlKey: $urlKey) {
      id
      sku
      relatedProducts(first: $first) {
        edges {
          node {
            ...ProductSection
          }
        }
      }
    }
  }
`,t.gql`
query Categories {
    categories {
        edges {
            node {
             id
             logoUrl
             position
                translation {
                   name
                    slug
                    id
                    _id
                }
            }
        }
    }
}`,t.gql`
  query FetchAttribute($id: ID!) {
    attribute(id: $id) {
      id
      code
      options {
        edges {
          node {
            id
            adminName
            translations {
              edges {
                node {
                  id
                  label
                  locale
                }
              }
            }
          }
        }
      }
    }
  }
`,t.gql`
  ${i}
  query getProducts(
    $filter: String
    $sortKey: String
    $reverse: Boolean
    $first: Int
    $last: Int
    $after: String
    $before: String
  ) {
    products(
      filter: $filter
      sortKey: $sortKey
      reverse: $reverse
      first: $first
      last: $last
      after: $after
      before: $before
    ) {
      totalCount

      pageInfo {
        endCursor
        startCursor
        hasNextPage
        hasPreviousPage
      }
      edges {
        node {
          ...ProductSection
        }
      }
    }
  }
`,t.gql`
  query treeCategories($parentId: Int) {
    treeCategories(parentId: $parentId) {
      id
      position
      logoPath
      status
      translation{
        id
        name
        slug
        description
        urlPath
        metaTitle
      }
    }
  }
`,e.s([],71386);let o=t.gql`
mutation CreateProductReview($input: createProductReviewInput!) {
  createProductReview(input: $input) {
    productReview {
      id
      title
      comment
      rating
      name
      status
      attachments
    }
    clientMutationId
  }
}`;e.s(["CREATE_PRODUCT_REVIEW",0,o],68814),e.s([],87575);let a=`
  query footerQuery($type: String) {
    themeCustomizations(type: $type) {
      edges {
        node {
          id
          type
          name
          status
          translations {
            edges {
              node {
                id
                locale
                options
              }
            }
          }
        }
      }
    }
  }
`;e.s(["GET_FOOTER",0,a],91339);let s=t.gql`
  query themeCustomization($first: Int) {
    themeCustomizations(first: $first) {
      edges {
        node {
          id
          type
          name
          status
          sortOrder
          translations {
            edges {
              node {
                id
                locale
                options
              }
            }
          }
        }
      }
    }
  }
`;e.s(["GET_THEME_CUSTOMIZATION",0,s],48065);let u=t.gql`
  query PageByUrlKey($pageByUrlKey: String!) {
    pageByUrlKeypages(urlKey: $pageByUrlKey) {
      id
      updatedAt
      translation {
        id
        metaTitle
        pageTitle
        urlKey
        htmlContent
        cmsPageId
      }
    }
  }
`;e.s(["PAGE_BY_URL_KEY",0,u],74789),e.s([],42670);let c=t.gql`
  mutation CreateAddProductInCart(
    $cartId: Int
    $productId: Int!
    $quantity: Int!
  ) {
    createAddProductInCart(
      input: {
        cartId: $cartId
        productId: $productId
        quantity: $quantity
      }
    ) {
      addProductInCart {
        id
        cartToken
        subtotal
        itemsCount
        taxAmount
        subtotal
        shippingAmount
        grandTotal
        items {
          edges {
            node {
              id
              cartId
              productId
              name
               price
               baseImage
              sku
              quantity
              type
              productUrlKey
              canChangeQty
            }
          }
        }
        success
        message
        sessionToken
        isGuest
        itemsQty
        itemsCount
      }
    }
  }
`;e.s(["CREATE_ADD_PRODUCT_IN_CART",0,c],5541);let l=t.gql`
  mutation RemoveCartItem(
    $cartItemId: Int!
  ) {
    createRemoveCartItem(
      input: {
        cartItemId: $cartItemId
      }
    ) {
      removeCartItem {
      id
      cartToken
       taxAmount
        shippingAmount
        subtotal
        grandTotal
      items {
        totalCount
        edges {
          node {
            id
              cartId
              productId
              name
               price
               baseImage
              sku
              quantity
              type
              productUrlKey
              canChangeQty
          }
        }
      }
        itemsQty
    }
    }
  }
`;e.s(["REMOVE_CART_ITEM",0,l],96179);let d=t.gql`
  mutation UpdateCartItem(
    $cartItemId: Int!
    $quantity: Int!
  ) {
    createUpdateCartItem(
      input: {
        cartItemId: $cartItemId
        quantity: $quantity
      }
    ) {
      updateCartItem {
        id
         taxAmount
        shippingAmount
        subtotal
        grandTotal
        items {
          edges {
            node {
              id
              cartId
              productId
              name
               price
               baseImage
              sku
              quantity
              type
              productUrlKey
              canChangeQty
            }
          }
        }
          itemsQty
        grandTotal
      }
    }
  }
`;e.s(["UPDATE_CART_ITEM",0,d],73023);let p=t.gql`
  mutation GetCartItem {
    createReadCart(input: {}) {
      readCart {
        id
        itemsCount
        taxAmount
        grandTotal
        shippingAmount
        selectedShippingRate
        selectedShippingRateTitle
        subtotal
        itemsQty
        isGuest
        items {
          edges {
            node {
              id
              cartId
              productId
              name
              price
              baseImage
              sku
              quantity
              type
              productUrlKey
              canChangeQty
            }
          }
        }
        paymentMethod
        paymentMethodTitle
      }
    }
  }
`;e.s(["GET_CART_ITEM",0,p],19538);let f=t.gql`
  mutation CreateCart {
    createCartToken(input: {}) {
      cartToken {
         id
      cartToken
      customerId
      success
      message
      sessionToken
      isGuest
      }
    }
  }
`;e.s(["CREATE_CART_TOKEN",0,f],82926);let h=t.gql`
  mutation createMergeCart(
    $cartId: Int!
  ) {
    createMergeCart(
      input: {
        cartId: $cartId
      }
    ) {
      mergeCart {
        id
         taxAmount
         subtotal
        shippingAmount
        grandTotal
        items {
          edges {
            node {
              id
              cartId
              productId
              name
               price
               baseImage
              sku
              quantity
              type
              productUrlKey
              canChangeQty
            }
          }
        }
      }
    }
  }
`;e.s(["CREATE_MERGE_CART",0,h],62488),e.s([],47314);let y=t.gql`
  query CheckoutPaymentMethods($token: String!) {
    collectionPaymentMethods(token: $token) {
      id
      method
      title
      description
      icon
      isAllowed
    }
  }
`;e.s(["GET_CHECKOUT_PAYMENT_METHODS",0,y],8275);let g=t.gql`
  query CheckoutShippingRates($token: String!) {
    collectionShippingRates(token: $token) {
      id
      code
      description
      method
      price
      label
    }
  }
`;e.s(["GET_CHECKOUT_SHIPPING_RATES",0,g],78914);let m=t.gql`
 query collectionGetCheckoutAddresses {
collectionGetCheckoutAddresses {
      edges {
        node {
          id
          addressType
          firstName
          lastName
          companyName
          address
          city
          state
          country
          postcode
          email
          phone
          defaultAddress
          useForShipping
        }
      }
    }
  }
`;e.s(["GET_CHECKOUT_ADDRESSES",0,m],9037),e.s([],87486);let v=t.gql`
 mutation createCheckoutAddress(
    $billingFirstName: String!
    $billingLastName: String!
    $billingEmail: String!
    $billingAddress: String!
    $billingCity: String!
    $billingCountry: String!
    $billingState: String!
    $billingPostcode: String!
    $billingPhoneNumber: String!
    $billingCompanyName : String!
    $useForShipping: Boolean
    $shippingFirstName : String
    $shippingLastName : String
    $shippingAddress : String
    $shippingCity : String
    $shippingCountry : String
    $shippingState : String
    $shippingPostcode : String
    $shippingPhoneNumber :String
    $shippingCompanyName : String
    $shippingEmail : String
) {
  createCheckoutAddress(
    input: {
      billingFirstName: $billingFirstName
      billingLastName: $billingLastName
      billingEmail: $billingEmail
      billingAddress: $billingAddress
      billingCity: $billingCity
      billingCountry: $billingCountry
      billingState: $billingState
      billingPostcode: $billingPostcode
      billingPhoneNumber: $billingPhoneNumber
      billingCompanyName : $billingCompanyName
      useForShipping: $useForShipping
      shippingFirstName : $shippingFirstName
      shippingLastName : $shippingLastName
      shippingAddress : $shippingAddress
      shippingCity : $shippingCity
      shippingEmail : $shippingEmail
      shippingCountry : $shippingCountry
      shippingState : $shippingState
      shippingPostcode : $shippingPostcode
      shippingPhoneNumber : $shippingPhoneNumber
      shippingCompanyName : $shippingCompanyName
    }
  ) {
    checkoutAddress {
      success
      message
      id
      cartToken
    }
  }
}
`;e.s(["CREATE_CHECKOUT_ADDRESS",0,v],59155);let _=t.gql`
  mutation CreateCheckoutOrder {
    createCheckoutOrder(
      input: {}
    ) {
      checkoutOrder {
        id
        orderId
      }
    }
  }
`;e.s(["CREATE_CHECKOUT_ORDER",0,_],22182);let b=t.gql`
  mutation CreateCheckoutPaymentMethod(
    $paymentMethod: String!
    $successUrl: String
    $failureUrl: String
    $cancelUrl: String
  ) {
    createCheckoutPaymentMethod(
      input: {
        paymentMethod: $paymentMethod
        paymentSuccessUrl: $successUrl
        paymentFailureUrl: $failureUrl
        paymentCancelUrl: $cancelUrl
      }
    ) {
      checkoutPaymentMethod {
        success
        message
        paymentGatewayUrl
        paymentData
      }
    }
  }
`;e.s(["CREATE_CHECKOUT_PAYMENT_METHODS",0,b],34373);let w=t.gql`
  mutation CreateCheckoutShippingMethod(
    $shippingMethod: String!
  ) {
    createCheckoutShippingMethod(
      input: {
        shippingMethod: $shippingMethod
      }
    ) {
      checkoutShippingMethod {
        success
        id
        message
      }
    }
  }
`;e.s(["CREATE_CHECKOUT_SHIPPING_METHODS",0,w],91422),e.s([],5646),e.s([],49183);var E=e.i(44781);let S=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function k(e){return O[e.charCodeAt(0)]}let O=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var T=e.i(1456),A=e.i(49362),x=e.i(56478),R=e.i(41e3);let P=Object.freeze({});function C(e,t,r=x.QueryDocumentKeys){let n,i,o,a=new Map;for(let e of Object.values(R.Kind))a.set(e,function(e,t){let r=e[t];return"object"==typeof r?r:"function"==typeof r?{enter:r,leave:void 0}:{enter:e.enter,leave:e.leave}}(t,e));let s=Array.isArray(e),u=[e],c=-1,l=[],d=e,p=[],f=[];do{var h,y,g;let e,m=++c===u.length,v=m&&0!==l.length;if(m){if(i=0===f.length?void 0:p[p.length-1],d=o,o=f.pop(),v)if(s){d=d.slice();let e=0;for(let[t,r]of l){let n=t-e;null===r?(d.splice(n,1),e++):d[n]=r}}else for(let[e,t]of(d={...d},l))d[e]=t;c=n.index,u=n.keys,l=n.edits,s=n.inArray,n=n.prev}else if(o){if(null==(d=o[i=s?c:u[c]]))continue;p.push(i)}if(!Array.isArray(d)){(0,x.isNode)(d)||(0,T.devAssert)(!1,`Invalid AST Node: ${(0,A.inspect)(d)}.`);let r=m?null==(h=a.get(d.kind))?void 0:h.leave:null==(y=a.get(d.kind))?void 0:y.enter;if((e=null==r?void 0:r.call(t,d,i,o,p,f))===P)break;if(!1===e){if(!m){p.pop();continue}}else if(void 0!==e&&(l.push([i,e]),!m))if((0,x.isNode)(e))d=e;else{p.pop();continue}}void 0===e&&v&&l.push([i,d]),m?p.pop():(n={inArray:s,index:c,keys:u,edits:l,prev:n},u=(s=Array.isArray(d))?d:null!=(g=r[d.kind])?g:[],c=-1,l=[],o&&f.push(o),o=d)}while(void 0!==n)return 0!==l.length?l[l.length-1][1]:e}function I(e){return C(e,N)}e.s(["BREAK",0,P,"visit",()=>C],18881);let N={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>j(e.definitions,"\n\n")},OperationDefinition:{leave(e){let t=U(e.variableDefinitions)?M("(\n",j(e.variableDefinitions,"\n"),"\n)"):M("(",j(e.variableDefinitions,", "),")"),r=M("",e.description,"\n")+j([e.operation,j([e.name,t]),j(e.directives," ")]," ");return("query"===r?"":r+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:n,description:i})=>M("",i,"\n")+e+": "+t+M(" = ",r)+M(" ",j(n," "))},SelectionSet:{leave:({selections:e})=>D(e)},Field:{leave({alias:e,name:t,arguments:r,directives:n,selectionSet:i}){let o=M("",e,": ")+t,a=o+M("(",j(r,", "),")");return a.length>80&&(a=o+M("(\n",L(j(r,"\n")),"\n)")),j([a,j(n," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+M(" ",j(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>j(["...",M("on ",e),j(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:n,selectionSet:i,description:o})=>M("",o,"\n")+`fragment ${e}${M("(",j(r,", "),")")} `+`on ${t} ${M("",j(n," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?(0,E.printBlockString)(e):`"${e.replace(S,k)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+j(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+j(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+M("(",j(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:r})=>M("",e,"\n")+j(["schema",j(t," "),D(r)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:r})=>M("",e,"\n")+j(["scalar",t,j(r," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>M("",e,"\n")+j(["type",t,M("implements ",j(r," & ")),j(n," "),D(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:r,type:n,directives:i})=>M("",e,"\n")+t+(U(r)?M("(\n",L(j(r,"\n")),"\n)"):M("(",j(r,", "),")"))+": "+n+M(" ",j(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:r,defaultValue:n,directives:i})=>M("",e,"\n")+j([t+": "+r,M("= ",n),j(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>M("",e,"\n")+j(["interface",t,M("implements ",j(r," & ")),j(n," "),D(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:r,types:n})=>M("",e,"\n")+j(["union",t,j(r," "),M("= ",j(n," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:r,values:n})=>M("",e,"\n")+j(["enum",t,j(r," "),D(n)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:r})=>M("",e,"\n")+j([t,j(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:r,fields:n})=>M("",e,"\n")+j(["input",t,j(r," "),D(n)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:r,repeatable:n,locations:i})=>M("",e,"\n")+"directive @"+t+(U(r)?M("(\n",L(j(r,"\n")),"\n)"):M("(",j(r,", "),")"))+(n?" repeatable":"")+" on "+j(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>j(["extend schema",j(e," "),D(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>j(["extend scalar",e,j(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>j(["extend type",e,M("implements ",j(t," & ")),j(r," "),D(n)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>j(["extend interface",e,M("implements ",j(t," & ")),j(r," "),D(n)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>j(["extend union",e,j(t," "),M("= ",j(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>j(["extend enum",e,j(t," "),D(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>j(["extend input",e,j(t," "),D(r)]," ")},TypeCoordinate:{leave:({name:e})=>e},MemberCoordinate:{leave:({name:e,memberName:t})=>j([e,M(".",t)])},ArgumentCoordinate:{leave:({name:e,fieldName:t,argumentName:r})=>j([e,M(".",t),M("(",r,":)")])},DirectiveCoordinate:{leave:({name:e})=>j(["@",e])},DirectiveArgumentCoordinate:{leave:({name:e,argumentName:t})=>j(["@",e,M("(",t,":)")])}};function j(e,t=""){var r;return null!=(r=null==e?void 0:e.filter(e=>e).join(t))?r:""}function D(e){return M("{\n",L(j(e,"\n")),"\n}")}function M(e,t,r=""){return null!=t&&""!==t?e+t+r:""}function L(e){return M("  ",e.replace(/\n/g,"\n  "))}function U(e){var t;return null!=(t=null==e?void 0:e.some(e=>e.includes("\n")))&&t}e.s(["print",()=>I],71315)},45812,e=>{"use strict";let t=process.env.BAGISTO_SESSION??"bagisto_session";process.env.NEXT_SERVER_MAGENTO_PROTOCOL,e.s(["BAGISTO_SESSION",0,t,"BASE_URL",0,"http://localhost:3000/","GRAPHQL_URL",0,"https://iwahdeals.alisonstech-dev.com/Cdn/public/api/graphql","HIDDEN_PRODUCT_TAG",0,"nextjs-frontend-hidden","STOREFRONT_KEY",0,"pk_storefront_967bdivQvhit6uchcew4Qehbp8dffiPr","baseUrl",0,"https://iwahdeals.alisonstech-dev.com/Cdn/public"])},46733,(e,t,r)=>{t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.__esModule=!0,t.exports.default=t.exports},20210,(e,t,r)=>{function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},98175,(e,t,r)=>{t.exports=function(e,t){this.v=e,this.k=t},t.exports.__esModule=!0,t.exports.default=t.exports},83280,(e,t,r)=>{function n(e,r,i,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}t.exports=n=function(e,t,r,i){function o(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!i,configurable:!i,writable:!i}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,r,i,o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},6354,(e,t,r)=>{var n=e.r(83280);function i(){var e,r,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.toStringTag||"@@toStringTag";function u(t,i,o,a){var s=Object.create((i&&i.prototype instanceof l?i:l).prototype);return n(s,"_invoke",function(t,n,i){var o,a,s,u=0,l=i||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,a=0,s=e,p.n=r,c}};function f(t,n){for(a=t,s=n,r=0;!d&&u&&!i&&r<l.length;r++){var i,o=l[r],f=p.p,h=o[2];t>3?(i=h===n)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=t<2&&f<o[1])?(a=0,p.v=n,p.n=o[1]):f<h&&(i=t<3||o[0]>n||n>h)&&(o[4]=t,o[5]=n,p.n=h,a=0))}if(i||t>1)return c;throw d=!0,n}return function(i,l,h){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,h),a=l,s=h;(r=a<2?e:s)||!d;){o||(a?a<3?(a>1&&(p.n=-1),f(a,s)):p.n=s:p.v=s);try{if(u=2,o){if(a||(i="next"),r=o[i]){if(!(r=r.call(o,s)))throw TypeError("iterator result is not an object");if(!r.done)return r;s=r.value,a<2&&(a=0)}else 1===a&&(r=o.return)&&r.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((r=(d=p.n<0)?s:t.call(n,p))!==c)break}catch(t){o=e,a=1,s=t}finally{u=1}}return{value:r,done:d}}}(t,o,a),!0),s}var c={};function l(){}function d(){}function p(){}r=Object.getPrototypeOf;var f=p.prototype=l.prototype=Object.create([][a]?r(r([][a]())):(n(r={},a,function(){return this}),r));function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,s,"GeneratorFunction")),e.prototype=Object.create(f),e}return d.prototype=p,n(f,"constructor",p),n(p,"constructor",d),d.displayName="GeneratorFunction",n(p,s,"GeneratorFunction"),n(f),n(f,s,"Generator"),n(f,a,function(){return this}),n(f,"toString",function(){return"[object Generator]"}),(t.exports=i=function(){return{w:u,m:h}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},12447,(e,t,r)=>{var n=e.r(98175),i=e.r(83280);t.exports=function e(t,r){var o;this.next||(i(e.prototype),i(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),i(this,"_invoke",function(e,i,a){function s(){return new r(function(i,o){!function e(i,o,a,s){try{var u=t[i](o),c=u.value;return c instanceof n?r.resolve(c.v).then(function(t){e("next",t,a,s)},function(t){e("throw",t,a,s)}):r.resolve(c).then(function(e){u.value=e,a(u)},function(t){return e("throw",t,a,s)})}catch(e){s(e)}}(e,a,i,o)})}return o=o?o.then(s,s):s()},!0)},t.exports.__esModule=!0,t.exports.default=t.exports},24466,(e,t,r)=>{var n=e.r(6354),i=e.r(12447);t.exports=function(e,t,r,o,a){return new i(n().w(e,t,r,o),a||Promise)},t.exports.__esModule=!0,t.exports.default=t.exports},56792,(e,t,r)=>{var n=e.r(24466);t.exports=function(e,t,r,i,o){var a=n(e,t,r,i,o);return a.next().then(function(e){return e.done?e.value:a.next()})},t.exports.__esModule=!0,t.exports.default=t.exports},89711,(e,t,r)=>{t.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.exports.__esModule=!0,t.exports.default=t.exports},62812,(e,t,r)=>{var n=e.r(20210).default;t.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw TypeError(n(e)+" is not iterable")},t.exports.__esModule=!0,t.exports.default=t.exports},55212,(e,t,r)=>{var n=e.r(98175),i=e.r(6354),o=e.r(56792),a=e.r(24466),s=e.r(12447),u=e.r(89711),c=e.r(62812);function l(){"use strict";var e=i(),r=e.m(l),d=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))}var f={throw:1,return:2,break:3,continue:3};function h(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,f[e],t)},delegateYield:function(e,i,o){return t.resultName=i,r(n.d,c(e),o)},finish:function(e){return r(n.f,e)}},r=function(e,r,i){n.p=t.prev,n.n=t.next;try{return e(r,i)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(t.exports=l=function(){return{wrap:function(t,r,n,i){return e.w(h(t),r,n,i&&i.reverse())},isGeneratorFunction:p,mark:e.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:s,async:function(e,t,r,n,i){return(p(t)?a:o)(h(e),t,r,n,i)},keys:u,values:c}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},57949,(e,t,r)=>{var n=e.r(55212)();t.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},77110,(e,t,r)=>{var n=e.r(20210).default;t.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},t.exports.__esModule=!0,t.exports.default=t.exports},80051,(e,t,r)=>{var n=e.r(20210).default,i=e.r(77110);t.exports=function(e){var t=i(e,"string");return"symbol"==n(t)?t:t+""},t.exports.__esModule=!0,t.exports.default=t.exports},28694,(e,t,r)=>{var n=e.r(80051);t.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},t.exports.__esModule=!0,t.exports.default=t.exports},2791,(e,t,r)=>{function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}t.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},70332,(e,t,r)=>{t.exports=function(e){if(Array.isArray(e))return e},t.exports.__esModule=!0,t.exports.default=t.exports},52398,(e,t,r)=>{t.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports},96247,(e,t,r)=>{t.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports},33926,(e,t,r)=>{var n=e.r(96247);t.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},81782,(e,t,r)=>{t.exports=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},74392,(e,t,r)=>{var n=e.r(70332),i=e.r(52398),o=e.r(33926),a=e.r(81782);t.exports=function(e,t){return n(e)||i(e,t)||o(e,t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},45936,(e,t,r)=>{t.exports=function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},10304,(e,t,r)=>{var n=e.r(80051);function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}t.exports=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},t.exports.__esModule=!0,t.exports.default=t.exports},65125,(e,t,r)=>{t.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},t.exports.__esModule=!0,t.exports.default=t.exports},75055,(e,t,r)=>{var n=e.r(20210).default,i=e.r(65125);t.exports=function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return i(e)},t.exports.__esModule=!0,t.exports.default=t.exports},76421,(e,t,r)=>{function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},582,(e,t,r)=>{function n(e,r){return t.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},81102,(e,t,r)=>{var n=e.r(582);t.exports=function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports},14299,(e,t,r)=>{t.exports=function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}},t.exports.__esModule=!0,t.exports.default=t.exports},71167,(e,t,r)=>{function n(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t.exports=n=function(){return!!e},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},68276,(e,t,r)=>{var n=e.r(71167),i=e.r(582);t.exports=function(e,t,r){if(n())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var a=new(e.bind.apply(e,o));return r&&i(a,r.prototype),a},t.exports.__esModule=!0,t.exports.default=t.exports},33878,(e,t,r)=>{var n=e.r(76421),i=e.r(582),o=e.r(14299),a=e.r(68276);function s(e){var r="function"==typeof Map?new Map:void 0;return t.exports=s=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return a(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports,s(e)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},25145,(e,t,r)=>{"use strict";var n=e.r(46733);Object.defineProperty(r,"__esModule",{value:!0}),r.UnsupportedStrategy=r.UnknownError=r.OAuthCallbackError=r.MissingSecret=r.MissingAuthorize=r.MissingAdapterMethods=r.MissingAdapter=r.MissingAPIRoute=r.InvalidCallbackUrl=r.AccountNotLinkedError=void 0,r.adapterErrorHandler=function(e,t){if(e)return Object.keys(e).reduce(function(r,n){return r[n]=(0,o.default)(i.default.mark(function r(){var o,a,s,u,c,l=arguments;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(r.prev=0,a=Array(o=l.length),s=0;s<o;s++)a[s]=l[s];return t.debug("adapter_".concat(n),{args:a}),u=e[n],r.next=6,u.apply(void 0,a);case 6:return r.abrupt("return",r.sent);case 9:throw r.prev=9,r.t0=r.catch(0),t.error("adapter_error_".concat(n),r.t0),(c=new h(r.t0)).name="".concat(g(n),"Error"),c;case 15:case"end":return r.stop()}},r,null,[[0,9]])})),r},{})},r.capitalize=g,r.eventsErrorHandler=function(e,t){return Object.keys(e).reduce(function(r,n){return r[n]=(0,o.default)(i.default.mark(function r(){var o,a=arguments;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=e[n],r.next=4,o.apply(void 0,a);case 4:return r.abrupt("return",r.sent);case 7:r.prev=7,r.t0=r.catch(0),t.error("".concat(y(n),"_EVENT_ERROR"),r.t0);case 10:case"end":return r.stop()}},r,null,[[0,7]])})),r},{})},r.upperSnake=y;var i=n(e.r(57949)),o=n(e.r(2791)),a=n(e.r(28694)),s=n(e.r(45936)),u=n(e.r(10304)),c=n(e.r(75055)),l=n(e.r(76421)),d=n(e.r(81102));function p(e,t,r){return t=(0,l.default)(t),(0,c.default)(e,f()?Reflect.construct(t,r||[],(0,l.default)(e).constructor):t.apply(e,r))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}var h=r.UnknownError=function(e){function t(e){var r,n;return(0,s.default)(this,t),(n=p(this,t,[null!=(r=null==e?void 0:e.message)?r:e])).name="UnknownError",n.code=e.code,e instanceof Error&&(n.stack=e.stack),n}return(0,d.default)(t,e),(0,u.default)(t,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,stack:this.stack}}}])}((0,n(e.r(33878)).default)(Error));function y(e){return e.replace(/([A-Z])/g,"_$1").toUpperCase()}function g(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))}r.OAuthCallbackError=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=p(this,t,[].concat(n)),(0,a.default)(e,"name","OAuthCallbackError"),e}return(0,d.default)(t,e),(0,u.default)(t)}(h),r.AccountNotLinkedError=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=p(this,t,[].concat(n)),(0,a.default)(e,"name","AccountNotLinkedError"),e}return(0,d.default)(t,e),(0,u.default)(t)}(h),r.MissingAPIRoute=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=p(this,t,[].concat(n)),(0,a.default)(e,"name","MissingAPIRouteError"),(0,a.default)(e,"code","MISSING_NEXTAUTH_API_ROUTE_ERROR"),e}return(0,d.default)(t,e),(0,u.default)(t)}(h),r.MissingSecret=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=p(this,t,[].concat(n)),(0,a.default)(e,"name","MissingSecretError"),(0,a.default)(e,"code","NO_SECRET"),e}return(0,d.default)(t,e),(0,u.default)(t)}(h),r.MissingAuthorize=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=p(this,t,[].concat(n)),(0,a.default)(e,"name","MissingAuthorizeError"),(0,a.default)(e,"code","CALLBACK_CREDENTIALS_HANDLER_ERROR"),e}return(0,d.default)(t,e),(0,u.default)(t)}(h),r.MissingAdapter=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=p(this,t,[].concat(n)),(0,a.default)(e,"name","MissingAdapterError"),(0,a.default)(e,"code","EMAIL_REQUIRES_ADAPTER_ERROR"),e}return(0,d.default)(t,e),(0,u.default)(t)}(h),r.MissingAdapterMethods=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=p(this,t,[].concat(n)),(0,a.default)(e,"name","MissingAdapterMethodsError"),(0,a.default)(e,"code","MISSING_ADAPTER_METHODS_ERROR"),e}return(0,d.default)(t,e),(0,u.default)(t)}(h),r.UnsupportedStrategy=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=p(this,t,[].concat(n)),(0,a.default)(e,"name","UnsupportedStrategyError"),(0,a.default)(e,"code","CALLBACK_CREDENTIALS_JWT_ERROR"),e}return(0,d.default)(t,e),(0,u.default)(t)}(h),r.InvalidCallbackUrl=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=p(this,t,[].concat(n)),(0,a.default)(e,"name","InvalidCallbackUrl"),(0,a.default)(e,"code","INVALID_CALLBACK_URL_ERROR"),e}return(0,d.default)(t,e),(0,u.default)(t)}(h)},68503,(e,t,r)=>{"use strict";var n=e.r(46733);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.proxyLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;arguments.length>1&&arguments[1];try{return e}catch(e){return o}},r.setLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;t||(o.debug=function(){}),e.error&&(o.error=e.error),e.warn&&(o.warn=e.warn),e.debug&&(o.debug=e.debug)},n(e.r(57949)),n(e.r(28694)),n(e.r(2791));var i=e.r(25145),o={error:function(e,t){t=function e(t){var r,n;if(t instanceof Error&&!(t instanceof i.UnknownError))return{message:t.message,stack:t.stack,name:t.name};if(null!=(r=t)&&r.error){t.error=e(t.error),t.message=null!=(n=t.message)?n:t.error.message}return t}(t),console.error("[next-auth][error][".concat(e,"]"),"\nhttps://next-auth.js.org/errors#".concat(e.toLowerCase()),t.message,t)},warn:function(e){console.warn("[next-auth][warn][".concat(e,"]"),"\nhttps://next-auth.js.org/warnings#".concat(e.toLowerCase()))},debug:function(e,t){console.log("[next-auth][debug][".concat(e,"]"),t)}};r.default=o},8804,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t;let r=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e=`https://${e}`);let n=new URL(null!=(t=e)?t:r),i=("/"===n.pathname?r.pathname:n.pathname).replace(/\/$/,""),o=`${n.origin}${i}`;return{origin:n.origin,host:n.host,path:i,base:o,toString:()=>o}}},97548,(e,t,r)=>{"use strict";var n=e.r(46733);Object.defineProperty(r,"__esModule",{value:!0}),r.BroadcastChannel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nextauth.message";return{receive:function(t){var r=function(r){if(r.key===e){var n,i=JSON.parse(null!=(n=r.newValue)?n:"{}");(null==i?void 0:i.event)==="session"&&null!=i&&i.data&&t(i)}};return window.addEventListener("storage",r),function(){return window.removeEventListener("storage",r)}},post:function(e){}}},r.apiBaseUrl=c,r.fetchData=function(e,t,r){return u.apply(this,arguments)},r.now=function(){return Math.floor(Date.now()/1e3)};var i=n(e.r(57949)),o=n(e.r(28694)),a=n(e.r(2791));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(){return(u=(0,a.default)(i.default.mark(function e(t,r,n){var a,u,l,d,p,f,h,y,g,m=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=(a=m.length>3&&void 0!==m[3]?m[3]:{}).ctx,d=void 0===(l=a.req)?null==u?void 0:u.req:l,p="".concat(c(r),"/").concat(t),e.prev=2,h={headers:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({"Content-Type":"application/json"},null!=d&&null!=(f=d.headers)&&f.cookie?{cookie:d.headers.cookie}:{})},null!=d&&d.body&&(h.body=JSON.stringify(d.body),h.method="POST"),e.next=7,fetch(p,h);case 7:return y=e.sent,e.next=10,y.json();case 10:if(g=e.sent,y.ok){e.next=13;break}throw g;case 13:return e.abrupt("return",Object.keys(g).length>0?g:null);case 16:return e.prev=16,e.t0=e.catch(2),n.error("CLIENT_FETCH_ERROR",{error:e.t0,url:p}),e.abrupt("return",null);case 20:case"end":return e.stop()}},e,null,[[2,16]])}))).apply(this,arguments)}function c(e){return"".concat(e.baseUrlServer).concat(e.basePathServer)}},75885,(e,t,r)=>{"use strict";t.exports=e.r(13267).vendored["react-rsc"].ReactJsxRuntime},66269,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},6767,(e,t,r)=>{"use strict";var n,i,o,a,s,u=e.r(46733),c=e.r(20210);Object.defineProperty(r,"__esModule",{value:!0});var l={SessionContext:!0,useSession:!0,getSession:!0,getCsrfToken:!0,getProviders:!0,signIn:!0,signOut:!0,SessionProvider:!0};r.SessionContext=void 0,r.SessionProvider=function(e){if(!x)throw Error("React Context is unavailable in Server Components");var t,r,n,i,o,a,s=e.children,u=e.basePath,c=e.refetchInterval,l=e.refetchWhenOffline;u&&(O.basePath=u);var p=void 0!==e.session;O._lastSync=p?(0,v.now)():0;var g=y.useState(function(){return p&&(O._session=e.session),e.session}),m=(0,h.default)(g,2),b=m[0],w=m[1],E=y.useState(!p),S=(0,h.default)(E,2),k=S[0],P=S[1];y.useEffect(function(){return O._getSession=(0,f.default)(d.default.mark(function e(){var t,r,n=arguments;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(n.length>0&&void 0!==n[0]?n[0]:{}).event,e.prev=1,!((r="storage"===t)||void 0===O._session)){e.next=10;break}return O._lastSync=(0,v.now)(),e.next=7,R({broadcast:!r});case 7:return O._session=e.sent,w(O._session),e.abrupt("return");case 10:if(!(!t||null===O._session||(0,v.now)()<O._lastSync)){e.next=12;break}return e.abrupt("return");case 12:return O._lastSync=(0,v.now)(),e.next=15,R();case 15:O._session=e.sent,w(O._session),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),A.error("CLIENT_SESSION_ERROR",e.t0);case 22:return e.prev=22,P(!1),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[1,19,22,25]])})),O._getSession(),function(){O._lastSync=0,O._session=void 0,O._getSession=function(){}}},[]),y.useEffect(function(){var e=T.receive(function(){return O._getSession({event:"storage"})});return function(){return e()}},[]),y.useEffect(function(){var t=e.refetchOnWindowFocus,r=void 0===t||t,n=function(){r&&"visible"===document.visibilityState&&O._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",n,!1),function(){return document.removeEventListener("visibilitychange",n,!1)}},[e.refetchOnWindowFocus]);var I=(t=y.useState("undefined"!=typeof navigator&&navigator.onLine),n=(r=(0,h.default)(t,2))[0],i=r[1],o=function(){return i(!0)},a=function(){return i(!1)},y.useEffect(function(){return window.addEventListener("online",o),window.addEventListener("offline",a),function(){window.removeEventListener("online",o),window.removeEventListener("offline",a)}},[]),n),N=!1!==l||I;y.useEffect(function(){if(c&&N){var e=setInterval(function(){O._session&&O._getSession({event:"poll"})},1e3*c);return function(){return clearInterval(e)}}},[c,N]);var j=y.useMemo(function(){return{data:b,status:k?"loading":b?"authenticated":"unauthenticated",update:function(e){return(0,f.default)(d.default.mark(function t(){var r;return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(k||!b)){t.next=2;break}return t.abrupt("return");case 2:return P(!0),t.t0=v.fetchData,t.t1=O,t.t2=A,t.next=8,C();case 8:return t.t3=t.sent,t.t4=e,t.t5={csrfToken:t.t3,data:t.t4},t.t6={body:t.t5},t.t7={req:t.t6},t.next=15,(0,t.t0)("session",t.t1,t.t2,t.t7);case 15:return r=t.sent,P(!1),r&&(w(r),T.post({event:"session",data:{trigger:"getSession"}})),t.abrupt("return",r);case 19:case"end":return t.stop()}},t)}))()}}},[b,k]);return(0,_.jsx)(x.Provider,{value:j,children:s})},r.getCsrfToken=C,r.getProviders=N,r.getSession=R,r.signIn=function(e,t,r){return D.apply(this,arguments)},r.signOut=function(e){return M.apply(this,arguments)},r.useSession=function(e){if(!x)throw Error("React Context is unavailable in Server Components");var t=y.useContext(x),r=null!=e?e:{},n=r.required,i=r.onUnauthenticated,o=n&&"unauthenticated"===t.status;return(y.useEffect(function(){if(o){var e="/api/auth/signin?".concat(new URLSearchParams({error:"SessionRequired",callbackUrl:window.location.href}));i?i():window.location.href=e}},[o,i]),o)?{data:t.data,update:t.update,status:"loading"}:t};var d=u(e.r(57949)),p=u(e.r(28694)),f=u(e.r(2791)),h=u(e.r(74392)),y=E(e.r(71778)),g=E(e.r(68503)),m=u(e.r(8804)),v=e.r(97548),_=e.r(75885),b=e.r(66269);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=c(e)&&"function"!=typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){(0,p.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}Object.keys(b).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(l,e)||e in r&&r[e]===b[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return b[e]}})});var O={baseUrl:(0,m.default)(null!=(n=process.env.NEXTAUTH_URL)?n:process.env.VERCEL_URL).origin,basePath:(0,m.default)(process.env.NEXTAUTH_URL).path,baseUrlServer:(0,m.default)(null!=(i=null!=(o=process.env.NEXTAUTH_URL_INTERNAL)?o:process.env.NEXTAUTH_URL)?i:process.env.VERCEL_URL).origin,basePathServer:(0,m.default)(null!=(a=process.env.NEXTAUTH_URL_INTERNAL)?a:process.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:function(){}},T=(0,v.BroadcastChannel)(),A=(0,g.proxyLogger)(g.default,O.basePath),x=r.SessionContext=null==(s=y.createContext)?void 0:s.call(y,void 0);function R(e){return P.apply(this,arguments)}function P(){return(P=(0,f.default)(d.default.mark(function e(t){var r,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.fetchData)("session",O,A,t);case 2:return n=e.sent,(null==(r=null==t?void 0:t.broadcast)||r)&&T.post({event:"session",data:{trigger:"getSession"}}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function C(e){return I.apply(this,arguments)}function I(){return(I=(0,f.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.fetchData)("csrf",O,A,t);case 2:return r=e.sent,e.abrupt("return",null==r?void 0:r.csrfToken);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(){return j.apply(this,arguments)}function j(){return(j=(0,f.default)(d.default.mark(function e(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.fetchData)("providers",O,A);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(){return(D=(0,f.default)(d.default.mark(function e(t,r,n){var i,o,a,s,u,c,l,p,f,h,y,g,m,_,b,w,E;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(o=(i=null!=r?r:{}).callbackUrl)?window.location.href:o,u=void 0===(s=i.redirect)||s,c=(0,v.apiBaseUrl)(O),e.next=4,N();case 4:if(l=e.sent){e.next=8;break}return window.location.href="".concat(c,"/error"),e.abrupt("return");case 8:if(!(!t||!(t in l))){e.next=11;break}return window.location.href="".concat(c,"/signin?").concat(new URLSearchParams({callbackUrl:a})),e.abrupt("return");case 11:return p="credentials"===l[t].type,f="email"===l[t].type,h=p||f,y="".concat(c,"/").concat(p?"callback":"signin","/").concat(t),g="".concat(y).concat(n?"?".concat(new URLSearchParams(n)):""),e.t0=fetch,e.t1=g,e.t2={"Content-Type":"application/x-www-form-urlencoded"},e.t3=URLSearchParams,e.t4=k,e.t5=k({},r),e.t6={},e.next=25,C();case 25:return e.t7=e.sent,e.t8=a,e.t9={csrfToken:e.t7,callbackUrl:e.t8,json:!0},e.t10=(0,e.t4)(e.t5,e.t6,e.t9),e.t11=new e.t3(e.t10),e.t12={method:"post",headers:e.t2,body:e.t11},e.next=33,(0,e.t0)(e.t1,e.t12);case 33:return m=e.sent,e.next=36,m.json();case 36:if(_=e.sent,!(u||!h)){e.next=42;break}return w=null!=(b=_.url)?b:a,window.location.href=w,w.includes("#")&&window.location.reload(),e.abrupt("return");case 42:if(E=new URL(_.url).searchParams.get("error"),!m.ok){e.next=46;break}return e.next=46,O._getSession({event:"storage"});case 46:return e.abrupt("return",{error:E,status:m.status,ok:m.ok,url:E?null:_.url});case 47:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(){return(M=(0,f.default)(d.default.mark(function e(t){var r,n,i,o,a,s,u,c,l;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0===(n=(null!=t?t:{}).callbackUrl)?window.location.href:n,o=(0,v.apiBaseUrl)(O),e.t0={"Content-Type":"application/x-www-form-urlencoded"},e.t1=URLSearchParams,e.next=6,C();case 6:return e.t2=e.sent,e.t3=i,e.t4={csrfToken:e.t2,callbackUrl:e.t3,json:!0},e.t5=new e.t1(e.t4),a={method:"post",headers:e.t0,body:e.t5},e.next=13,fetch("".concat(o,"/signout"),a);case 13:return s=e.sent,e.next=16,s.json();case 16:if(u=e.sent,T.post({event:"session",data:{trigger:"signout"}}),!(null==(r=null==t?void 0:t.redirect)||r)){e.next=23;break}return l=null!=(c=u.url)?c:i,window.location.href=l,l.includes("#")&&window.location.reload(),e.abrupt("return");case 23:return e.next=25,O._getSession({event:"storage"});case 25:return e.abrupt("return",u);case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}},7717,e=>{"use strict";let t;e.i(71386),e.i(71663),e.i(87575),e.i(42670),e.i(47314),e.i(87486),e.i(5646),e.i(49183),e.i(62739);var r,n,i,o,a,s,u,c=e.i(71315);e.i(45812);var l=e.i(97552),d="Invariant Violation",p=Object.setPrototypeOf,f=void 0===p?function(e,t){return e.__proto__=t,e}:p,h=function(e){function t(r){void 0===r&&(r=d);var n=e.call(this,"number"==typeof r?d+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=d,f(n,t.prototype),n}return(0,l.__extends)(t,e),t}(Error);function y(e,t){if(!e)throw new h(t)}var g=["debug","log","warn","error","silent"],m=g.indexOf("log");function v(e){return function(){if(g.indexOf(e)>=m)return(console[e]||console.log).apply(console,arguments)}}(r=y||(y={})).debug=v("debug"),r.log=v("log"),r.warn=v("warn"),r.error=v("error");var _="3.14.0";function b(e){try{return e()}catch(e){}}let w=b(function(){return globalThis})||b(function(){return window})||b(function(){return self})||b(function(){return e.g})||b(function(){return b.constructor("return this")()});var E=new Map;function S(e){var t=E.get(e)||1;return E.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function k(e,t){void 0===t&&(t=0);var r=S("stringifyForDisplay");return JSON.stringify(e,function(e,t){return void 0===t?r:t},t).split(JSON.stringify(r)).join("<undefined>")}function O(e){return function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if("number"==typeof t){var i=t;(t=P(i))||(t=C(i,r),r=[])}e.apply(void 0,[t].concat(r))}}var T=Object.assign(function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];e||y(e,P(t,r)||C(t,r))},{debug:O(y.debug),log:O(y.log),warn:O(y.warn),error:O(y.error)});function A(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new h(P(e,t)||C(e,t))}var x=Symbol.for("ApolloErrorMessageHandler_"+_);function R(e){if("string"==typeof e)return e;try{return k(e,2).slice(0,1e3)}catch(e){return"<non-serializable>"}}function P(e,t){if(void 0===t&&(t=[]),e)return w[x]&&w[x](e,t.map(R))}function C(e,t){if(void 0===t&&(t=[]),e)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:_,message:e,args:t.map(R)})))}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t,r){return t&&N(e.prototype,t),r&&N(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var D=function(){return"function"==typeof Symbol},M=function(e){return D()&&!!Symbol[e]},L=function(e){return M(e)?Symbol[e]:"@@"+e};D()&&!M("observable")&&(Symbol.observable=Symbol("observable"));var U=L("iterator"),W=L("observable"),F=L("species");function $(e,t){var r=e[t];if(null!=r){if("function"!=typeof r)throw TypeError(r+" is not a function");return r}}function H(e){var t=e.constructor;return void 0!==t&&null===(t=t[F])&&(t=void 0),void 0!==t?t:X}function K(e){K.log?K.log(e):setTimeout(function(){throw e})}function q(e){Promise.resolve().then(function(){try{e()}catch(e){K(e)}})}function J(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var r=$(t,"unsubscribe");r&&r.call(t)}}catch(e){K(e)}}function B(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function V(e,t,r){e._state="running";var n=e._observer;try{var i=$(n,t);switch(t){case"next":i&&i.call(n,r);break;case"error":if(B(e),i)i.call(n,r);else throw r;break;case"complete":B(e),i&&i.call(n)}}catch(e){K(e)}"closed"===e._state?J(e):"running"===e._state&&(e._state="ready")}function z(e,t,r){if("closed"!==e._state){if("buffering"===e._state)return void e._queue.push({type:t,value:r});if("ready"!==e._state){e._state="buffering",e._queue=[{type:t,value:r}],q(function(){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var r=0;r<t.length&&(V(e,t[r].type,t[r].value),"closed"!==e._state);++r);}});return}V(e,t,r)}}var G=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var r=new Q(this);try{this._cleanup=t.call(void 0,r)}catch(e){r.error(e)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(B(this),J(this))},j(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),Q=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){z(this._subscription,"next",e)},t.error=function(e){z(this._subscription,"error",e)},t.complete=function(){z(this._subscription,"complete")},j(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),X=function(){function e(t){if(!(this instanceof e))throw TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return("object"!=typeof e||null===e)&&(e={next:e,error:arguments[1],complete:arguments[2]}),new G(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise(function(r,n){if("function"!=typeof e)return void n(TypeError(e+" is not a function"));function i(){o.unsubscribe(),r()}var o=t.subscribe({next:function(t){try{e(t,i)}catch(e){n(e),o.unsubscribe()}},error:n,complete:r})})},t.map=function(e){var t=this;if("function"!=typeof e)throw TypeError(e+" is not a function");return new(H(this))(function(r){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return r.error(e)}r.next(t)},error:function(e){r.error(e)},complete:function(){r.complete()}})})},t.filter=function(e){var t=this;if("function"!=typeof e)throw TypeError(e+" is not a function");return new(H(this))(function(r){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return r.error(e)}r.next(t)},error:function(e){r.error(e)},complete:function(){r.complete()}})})},t.reduce=function(e){var t=this;if("function"!=typeof e)throw TypeError(e+" is not a function");var r=H(this),n=arguments.length>1,i=!1,o=arguments[1],a=o;return new r(function(r){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||n)try{a=e(a,t)}catch(e){return r.error(e)}else a=t},error:function(e){r.error(e)},complete:function(){if(!i&&!n)return r.error(TypeError("Cannot reduce an empty sequence"));r.next(a),r.complete()}})})},t.concat=function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=H(this);return new i(function(t){var n,o=0;return!function e(a){n=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===r.length?(n=void 0,t.complete()):e(i.from(r[o++]))}})}(e),function(){n&&(n.unsubscribe(),n=void 0)}})},t.flatMap=function(e){var t=this;if("function"!=typeof e)throw TypeError(e+" is not a function");var r=H(this);return new r(function(n){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return n.error(e)}var o=r.from(t).subscribe({next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){n.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&n.complete()}return function(){i.forEach(function(e){return e.unsubscribe()}),o.unsubscribe()}})},t[W]=function(){return this},e.from=function(t){var r="function"==typeof this?this:e;if(null==t)throw TypeError(t+" is not an object");var n=$(t,W);if(n){var i=n.call(t);if(Object(i)!==i)throw TypeError(i+" is not an object");return i instanceof X&&i.constructor===r?i:new r(function(e){return i.subscribe(e)})}if(M("iterator")&&(n=$(t,U)))return new r(function(e){q(function(){if(!e.closed){for(var r,i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return I(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,void 0)}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n.call(t));!(r=i()).done;){var o=r.value;if(e.next(o),e.closed)return}e.complete()}})});if(Array.isArray(t))return new r(function(e){q(function(){if(!e.closed){for(var r=0;r<t.length;++r)if(e.next(t[r]),e.closed)return;e.complete()}})});throw TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return new("function"==typeof this?this:e)(function(e){q(function(){if(!e.closed){for(var t=0;t<r.length;++t)if(e.next(r[t]),e.closed)return;e.complete()}})})},j(e,null,[{key:F,get:function(){return this}}]),e}();function Y(e){return null!==e&&"object"==typeof e}D()&&Object.defineProperty(X,Symbol("extensions"),{value:{symbol:W,hostReportError:K},configurable:!0});var Z=e.i(18881);function ee(e,t){var r=t,n=[];return e.definitions.forEach(function(e){if("OperationDefinition"===e.kind)throw A(113,e.operation,e.name?" named '".concat(e.name.value,"'"):"");"FragmentDefinition"===e.kind&&n.push(e)}),void 0===r&&(T(1===n.length,114,n.length),r=n[0].name.value),(0,l.__assign)((0,l.__assign)({},e),{definitions:(0,l.__spreadArray)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],e.definitions,!0)})}function et(e){void 0===e&&(e=[]);var t={};return e.forEach(function(e){t[e.name.value]=e}),t}function er(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var r=e.name.value;if("function"==typeof t)return t(r);var n=t&&t[r];return T(n,115,r),n||null;default:return null}}function en(){}let ei="undefined"!=typeof WeakRef?WeakRef:function(e){return{deref:()=>e}},eo="undefined"!=typeof WeakMap?WeakMap:Map,ea="undefined"!=typeof FinalizationRegistry?FinalizationRegistry:function(){return{register:en,unregister:en}};class es{constructor(e=1/0,t=en){this.max=e,this.dispose=t,this.map=new eo,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{let e=this.unfinalizedNodes.values();for(let t=0;t<10024;t++){let t=e.next().value;if(!t)break;this.unfinalizedNodes.delete(t);let r=t.key;delete t.key,t.keyRef=new ei(r),this.registry.register(r,t,t)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new ea(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){let t=this.getNode(e);return t&&t.value}getNode(e){let t=this.map.get(e);if(t&&t!==this.newest){let{older:e,newer:r}=t;r&&(r.older=e),e&&(e.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.scheduleFinalization(r),this.map.set(e,r),this.size++,r.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;let t=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,t),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),t&&this.map.delete(t)}delete(e){let t=this.map.get(e);return!!t&&(this.deleteNode(t),!0)}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}function eu(){}class ec{constructor(e=1/0,t=eu){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){let t=this.getNode(e);return t&&t.value}get size(){return this.map.size}getNode(e){let t=this.map.get(e);if(t&&t!==this.newest){let{older:e,newer:r}=t;r&&(r.older=e),e&&(e.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){let t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)}}var el=new WeakSet;function ed(e){!(e.size<=(e.max||-1))&&(el.has(e)||(el.add(e),setTimeout(function(){e.clean(),el.delete(e)},100)))}var ep=function(e,t){var r=new es(e,t);return r.set=function(e,t){var r=es.prototype.set.call(this,e,t);return ed(this),r},r},ef=function(e,t){var r=new ec(e,t);return r.set=function(e,t){var r=ec.prototype.set.call(this,e,t);return ed(this),r},r},eh=Symbol.for("apollo.cacheSize"),ey=(0,l.__assign)({},w[eh]),eg={},em=!1!==globalThis.__DEV__?function(){var e,t,r,n,i;if(!1===globalThis.__DEV__)throw Error("only supported in development mode");return{limits:Object.fromEntries(Object.entries({parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4}).map(function(e){var t=e[0],r=e[1];return[t,ey[t]||r]})),sizes:(0,l.__assign)({print:null==(e=eg.print)?void 0:e.call(eg),parser:null==(t=eg.parser)?void 0:t.call(eg),canonicalStringify:null==(r=eg.canonicalStringify)?void 0:r.call(eg),links:function e(t){var r;return t?(0,l.__spreadArray)((0,l.__spreadArray)([null==(r=null==t?void 0:t.getMemoryInternals)?void 0:r.call(t)],e(null==t?void 0:t.left),!0),e(null==t?void 0:t.right),!0).filter(eE):[]}(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:eS(this.queryManager.documentTransform)}},null==(i=(n=this.cache).getMemoryInternals)?void 0:i.call(n))}}:void 0,ev=!1!==globalThis.__DEV__?function(){var e=this.config.fragments;return(0,l.__assign)((0,l.__assign)({},eb.apply(this)),{addTypenameDocumentTransform:eS(this.addTypenameTransform),inMemoryCache:{executeSelectionSet:ew(this.storeReader.executeSelectionSet),executeSubSelectedArray:ew(this.storeReader.executeSubSelectedArray),maybeBroadcastWatch:ew(this.maybeBroadcastWatch)},fragmentRegistry:{findFragmentSpreads:ew(null==e?void 0:e.findFragmentSpreads),lookup:ew(null==e?void 0:e.lookup),transform:ew(null==e?void 0:e.transform)}})}:void 0,e_=!1!==globalThis.__DEV__?eb:void 0;function eb(){return{cache:{fragmentQueryDocuments:ew(this.getFragmentDoc)}}}function ew(e){return e&&"dirtyKey"in e?e.size:void 0}function eE(e){return null!=e}function eS(e){return(function e(t){return t?(0,l.__spreadArray)((0,l.__spreadArray)([ew(null==t?void 0:t.performWork)],e(null==t?void 0:t.left),!0),e(null==t?void 0:t.right),!0).filter(eE):[]})(e).map(function(e){return{cache:e}})}var ek=Object.assign(function(e){return JSON.stringify(e,eO)},{reset:function(){a=new ef(ey.canonicalStringify||1e3)}});function eO(e,t){if(t&&"object"==typeof t){var r=Object.getPrototypeOf(t);if(r===Object.prototype||null===r){var n=Object.keys(t);if(n.every(eT))return t;var i=JSON.stringify(n),o=a.get(i);if(!o){n.sort();var s=JSON.stringify(n);o=a.get(s)||n,a.set(i,o),a.set(s,o)}var u=Object.create(r);return o.forEach(function(e){u[e]=t[e]}),u}}return t}function eT(e,t,r){return 0===t||r[t-1]<=e}function eA(e){return{__ref:String(e)}}function ex(e){return!!(e&&"object"==typeof e&&"string"==typeof e.__ref)}function eR(e,t,r,n){if("IntValue"===r.kind||"FloatValue"===r.kind)e[t.value]=Number(r.value);else if("BooleanValue"===r.kind||"StringValue"===r.kind)e[t.value]=r.value;else if("ObjectValue"===r.kind){var i={};r.fields.map(function(e){return eR(i,e.name,e.value,n)}),e[t.value]=i}else if("Variable"===r.kind){var o=(n||{})[r.name.value];e[t.value]=o}else if("ListValue"===r.kind)e[t.value]=r.values.map(function(e){var r={};return eR(r,t,e,n),r[t.value]});else if("EnumValue"===r.kind)e[t.value]=r.value;else if("NullValue"===r.kind)e[t.value]=null;else throw A(124,t.value,r.kind)}!1!==globalThis.__DEV__&&(eg.canonicalStringify=function(){return a.size}),ek.reset();var eP=["connection","include","skip","client","rest","export","nonreactive"],eC=ek,eI=Object.assign(function(e,t,r){if(t&&r&&r.connection&&r.connection.key)if(!r.connection.filter||!(r.connection.filter.length>0))return r.connection.key;else{var n=r.connection.filter?r.connection.filter:[];n.sort();var i={};return n.forEach(function(e){i[e]=t[e]}),"".concat(r.connection.key,"(").concat(eC(i),")")}var o=e;if(t){var a=eC(t);o+="(".concat(a,")")}return r&&Object.keys(r).forEach(function(e){-1===eP.indexOf(e)&&(r[e]&&Object.keys(r[e]).length?o+="@".concat(e,"(").concat(eC(r[e]),")"):o+="@".concat(e))}),o},{setStringify:function(e){var t=eC;return eC=e,t}});function eN(e,t){if(e.arguments&&e.arguments.length){var r={};return e.arguments.forEach(function(e){return eR(r,e.name,e.value,t)}),r}return null}function ej(e){return e.alias?e.alias.value:e.name.value}function eD(e,t,r){for(var n,i=0,o=t.selections;i<o.length;i++){var a=o[i];if(eM(a)){if("__typename"===a.name.value)return e[ej(a)]}else n?n.push(a):n=[a]}if("string"==typeof e.__typename)return e.__typename;if(n)for(var s=0,u=n;s<u.length;s++){var a=u[s],c=eD(e,er(a,r).selectionSet,r);if("string"==typeof c)return c}}function eM(e){return"Field"===e.kind}function eL(e){T(e&&"Document"===e.kind,116);var t=e.definitions.filter(function(e){return"FragmentDefinition"!==e.kind}).map(function(e){if("OperationDefinition"!==e.kind)throw A(117,e.kind);return e});return T(t.length<=1,118,t.length),e}function eU(e){return eL(e),e.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function eW(e){return e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&!!e.name}).map(function(e){return e.name.value})[0]||null}function eF(e){return e.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function e$(e){var t=eU(e);return T(t&&"query"===t.operation,119),t}function eH(e){T("Document"===e.kind,120),T(e.definitions.length<=1,121);var t=e.definitions[0];return T("FragmentDefinition"===t.kind,122),t}function eK(e){eL(e);for(var t,r=0,n=e.definitions;r<n.length;r++){var i=n[r];if("OperationDefinition"===i.kind){var o=i.operation;if("query"===o||"mutation"===o||"subscription"===o)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw A(123)}function eq(e){var t=Object.create(null),r=e&&e.variableDefinitions;return r&&r.length&&r.forEach(function(e){e.defaultValue&&eR(t,e.variable.name,e.defaultValue)}),t}let eJ=()=>Object.create(null),{forEach:eB,slice:eV}=Array.prototype,{hasOwnProperty:ez}=Object.prototype;class eG{constructor(e=!0,t=eJ){this.weakness=e,this.makeData=t}lookup(){return this.lookupArray(arguments)}lookupArray(e){let t=this;return eB.call(e,e=>t=t.getChildTrie(e)),ez.call(t,"data")?t.data:t.data=this.makeData(eV.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let t=this;for(let r=0,n=e.length;t&&r<n;++r){let n=t.mapFor(e[r],!1);t=n&&n.get(e[r])}return t&&t.data}remove(){return this.removeArray(arguments)}removeArray(e){let t;if(e.length){let r=e[0],n=this.mapFor(r,!1),i=n&&n.get(r);i&&(t=i.removeArray(eV.call(e,1)),i.data||i.weak||i.strong&&i.strong.size||n.delete(r))}else t=this.data,delete this.data;return t}getChildTrie(e){let t=this.mapFor(e,!0),r=t.get(e);return r||t.set(e,r=new eG(this.weakness,this.makeData)),r}mapFor(e,t){return this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(e)?this.weak||(t?this.weak=new WeakMap:void 0):this.strong||(t?this.strong=new Map:void 0)}}let eQ=null,eX={},eY=1;function eZ(e){try{return e()}catch(e){}}let e0="@wry/context:Slot",e1=eZ(()=>globalThis)||eZ(()=>e.g)||Object.create(null),e2=e1[e0]||Array[e0]||function(e){try{Object.defineProperty(e1,e0,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(class{constructor(){this.id=["slot",eY++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=eQ;e;e=e.parent)if(this.id in e.slots){let t=e.slots[this.id];if(t===eX)break;return e!==eQ&&(eQ.slots[this.id]=t),!0}return eQ&&(eQ.slots[this.id]=eX),!1}getValue(){if(this.hasValue())return eQ.slots[this.id]}withValue(e,t,r,n){let i={__proto__:null,[this.id]:e},o=eQ;eQ={parent:o,slots:i};try{return t.apply(n,r)}finally{eQ=o}}static bind(e){let t=eQ;return function(){let r=eQ;try{return eQ=t,e.apply(this,arguments)}finally{eQ=r}}}static noContext(e,t,r){if(!eQ)return e.apply(r,t);{let n=eQ;try{return eQ=null,e.apply(r,t)}finally{eQ=n}}}}),{bind:e5,noContext:e4}=e2,e6=new e2,{hasOwnProperty:e8}=Object.prototype,e3=Array.from||function(e){let t=[];return e.forEach(e=>t.push(e)),t};function e9(e){let{unsubscribe:t}=e;"function"==typeof t&&(e.unsubscribe=void 0,t())}let e7=[];function te(e,t){if(!e)throw Error(t||"assertion failure")}function tt(e,t){let r=e.length;return r>0&&r===t.length&&e[r-1]===t[r-1]}function tr(e){switch(e.length){case 0:throw Error("unknown value");case 1:return e[0];case 2:throw e[1]}}class tn{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++tn.count}peek(){if(1===this.value.length&&!ta(this))return ti(this),this.value[0]}recompute(e){var t,r,n;return te(!this.recomputing,"already recomputing"),ti(this),ta(this)?(t=this,r=e,td(t),e6.withValue(t,to,[t,r]),function(e,t){if("function"==typeof e.subscribe)try{e9(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(t,r)&&((n=t).dirty=!1,ta(n)||function(e){ts(e,tc)}(n)),tr(t.value)):tr(this.value)}setDirty(){var e;this.dirty||(this.dirty=!0,e=this,ts(e,tu),e9(this))}dispose(){this.setDirty(),td(this),ts(this,(e,t)=>{e.setDirty(),tp(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=e7.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(e3(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),e7.push(this.deps),this.deps=null)}}function ti(e){let t=e6.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),ta(e)?tu(t,e):tc(t,e),t}function to(e,t){let r;e.recomputing=!0;let{normalizeResult:n}=e;n&&1===e.value.length&&(r=e.value.slice(0)),e.value.length=0;try{if(e.value[0]=e.fn.apply(null,t),n&&r&&!tt(r,e.value))try{e.value[0]=n(e.value[0],r[0])}catch(e){}}catch(t){e.value[1]=t}e.recomputing=!1}function ta(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}tn.count=0;function ts(e,t){let r=e.parents.size;if(r){let n=e3(e.parents);for(let i=0;i<r;++i)t(n[i],e)}}function tu(e,t){te(e.childValues.has(t)),te(ta(t));let r=!ta(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=e7.pop()||new Set;e.dirtyChildren.add(t),r&&ts(e,tu)}function tc(e,t){te(e.childValues.has(t)),te(!ta(t));let r=e.childValues.get(t);0===r.length?e.childValues.set(t,t.value.slice(0)):tt(r,t.value)||e.setDirty(),tl(e,t),ta(e)||ts(e,tc)}function tl(e,t){let r=e.dirtyChildren;r&&(r.delete(t),0===r.size&&(e7.length<100&&e7.push(r),e.dirtyChildren=null))}function td(e){e.childValues.size>0&&e.childValues.forEach((t,r)=>{tp(e,r)}),e.forgetDeps(),te(null===e.dirtyChildren)}function tp(e,t){t.parents.delete(e),e.childValues.delete(t),tl(e,t)}let tf={setDirty:!0,dispose:!0,forget:!0};function th(e){let t=new Map,r=e&&e.subscribe;function n(e){let n=e6.getValue();if(n){let i=t.get(e);i||t.set(e,i=new Set),n.dependOn(i),"function"==typeof r&&(e9(i),i.unsubscribe=r(e))}}return n.dirty=function(e,r){let n=t.get(e);if(n){let i=r&&e8.call(tf,r)?r:"setDirty";e3(n).forEach(e=>e[i]()),t.delete(e),e9(n)}},n}function ty(...e){return(t||(t=new eG("function"==typeof WeakMap))).lookupArray(e)}let tg=new Set;function tm(e,{max:t=65536,keyArgs:r,makeCacheKey:n=ty,normalizeResult:i,subscribe:o,cache:a=ec}=Object.create(null)){let s="function"==typeof a?new a(t,e=>e.dispose()):a,u=function(){let t=n.apply(null,r?r.apply(null,arguments):arguments);if(void 0===t)return e.apply(null,arguments);let a=s.get(t);a||(s.set(t,a=new tn(e)),a.normalizeResult=i,a.subscribe=o,a.forget=()=>s.delete(t));let u=a.recompute(Array.prototype.slice.call(arguments));return s.set(t,a),tg.add(s),e6.hasValue()||(tg.forEach(e=>e.clean()),tg.clear()),u};function c(e){let t=e&&s.get(e);t&&t.setDirty()}function l(e){let t=e&&s.get(e);if(t)return t.peek()}function d(e){return!!e&&s.delete(e)}return Object.defineProperty(u,"size",{get:()=>s.size,configurable:!1,enumerable:!1}),Object.freeze(u.options={max:t,keyArgs:r,makeCacheKey:n,normalizeResult:i,subscribe:o,cache:s}),u.dirtyKey=c,u.dirty=function(){c(n.apply(null,arguments))},u.peekKey=l,u.peek=function(){return l(n.apply(null,arguments))},u.forgetKey=d,u.forget=function(){return d(n.apply(null,arguments))},u.makeCacheKey=n,u.getKey=r?function(){return n.apply(null,r.apply(null,arguments))}:n,Object.freeze(u)}var tv=Symbol.for("apollo.deprecations"),t_=new e2;function tb(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t_.withValue.apply(t_,(0,l.__spreadArray)([Array.isArray(e)?e:[e]],t,!1))}function tw(e,t,r,n){void 0===n&&(n="Please remove this option."),tE(t,function(){t in e&&!1!==globalThis.__DEV__&&T.warn(104,r,t,n)})}function tE(e,t){w[tv]||(t_.getValue()||[]).includes(e)||t()}function tS(e,t){return t?t(e):X.of()}function tk(e){return"function"==typeof e?new tT(e):e}function tO(e){return e.request.length<=1}var tT=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e(function(){return X.of()})},e.from=function(t){return 0===t.length?e.empty():t.map(tk).reduce(function(e,t){return e.concat(t)})},e.split=function(t,r,n){var i=tk(r),o=tk(n||new e(tS));return Object.assign(new e(tO(i)&&tO(o)?function(e){return t(e)?i.request(e)||X.of():o.request(e)||X.of()}:function(e,r){return t(e)?i.request(e,r)||X.of():o.request(e,r)||X.of()}),{left:i,right:o})},e.execute=function(e,t){var r,n,i,o,a;return e.request((i=t.context,(n={variables:(r=function(e){for(var t=["query","operationName","variables","extensions","context"],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(0>t.indexOf(i))throw A(58,i)}return e}(t)).variables||{},extensions:r.extensions||{},operationName:r.operationName,query:r.query}).operationName||(n.operationName="string"!=typeof n.query?eW(n.query)||void 0:""),o=n,a=(0,l.__assign)({},i),Object.defineProperty(o,"setContext",{enumerable:!1,value:function(e){a="function"==typeof e?(0,l.__assign)((0,l.__assign)({},a),e(a)):(0,l.__assign)((0,l.__assign)({},a),e)}}),Object.defineProperty(o,"getContext",{enumerable:!1,value:function(){return(0,l.__assign)({},a)}}),o))||X.of()},e.concat=function(t,r){var n=tk(t);if(tO(n))return!1!==globalThis.__DEV__&&T.warn(47,n),n;var i=tk(r);return Object.assign(new e(tO(i)?function(e){return n.request(e,function(e){return i.request(e)||X.of()})||X.of()}:function(e,t){return n.request(e,function(e){return i.request(e,t)||X.of()})||X.of()}),{left:n,right:i})},e.prototype.split=function(t,r,n){return this.concat(e.split(t,r,n||new e(tS)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw A(48)},e.prototype.onError=function(e,t){if(!1!==globalThis.__DEV__&&tE("onError",function(){!1!==globalThis.__DEV__&&T.warn(49)}),t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return!1!==globalThis.__DEV__&&!1!==globalThis.__DEV__&&T.warn(50),this.onError=e,this},e}(),tA=tT.execute,tx=e.i(41e3);function tR(e,t){var r,n,i=e.directives;return!i||!i.length||(n=[],(r=i)&&r.length&&r.forEach(function(e){if("skip"===(t=e.name.value)||"include"===t){var t,r=e.arguments,i=e.name.value;T(r&&1===r.length,107,i);var o=r[0];T(o.name&&"if"===o.name.value,108,i);var a=o.value;T(a&&("Variable"===a.kind||"BooleanValue"===a.kind),109,i),n.push({directive:e,ifArgument:o})}}),n).every(function(e){var r=e.directive,n=e.ifArgument,i=!1;return"Variable"===n.value.kind?T(void 0!==(i=t&&t[n.value.name.value]),106,r.name.value):i=n.value.value,"skip"===r.name.value?!i:i})}function tP(e,t,r){var n=new Set(e),i=n.size;return(0,Z.visit)(t,{Directive:function(e){if(n.delete(e.name.value)&&(!r||!n.size))return Z.BREAK}}),r?!n.size:n.size<i}var tC=function(e,t){var r;try{r=JSON.stringify(e)}catch(e){var n=A(54,t,e.message);throw n.parseError=e,n}return r},tI=function(e,t){var r=e.getContext().uri;return r||("function"==typeof t?t(e):t||"/graphql")},tN="ReactNative"==b(function(){return navigator.product}),tj="function"==typeof WeakMap&&!(tN&&!e.g.HermesInternal),tD="function"==typeof WeakSet,tM="function"==typeof Symbol&&"function"==typeof Symbol.for,tL=tM&&Symbol.asyncIterator;function tU(e){var t={next:function(){return e.read()}};return tL&&(t[Symbol.asyncIterator]=function(){return this}),t}b(function(){return window.document.createElement}),b(function(){return navigator.userAgent.indexOf("jsdom")>=0});var tW=function(e,t,r){var n=Error(r);throw n.name="ServerError",n.response=e,n.statusCode=e.status,n.result=t,n},tF=Symbol();function t$(e){return e.hasOwnProperty("graphQLErrors")}var tH=function(e){var t=(0,l.__spreadArray)((0,l.__spreadArray)((0,l.__spreadArray)([],e.graphQLErrors,!0),e.clientErrors,!0),e.protocolErrors,!0);return e.networkError&&t.push(e.networkError),t.map(function(e){return Y(e)&&e.message||"Error message not found."}).join("\n")},tK=function(e){function t(r){var n=r.graphQLErrors,i=r.protocolErrors,o=r.clientErrors,a=r.networkError,s=r.errorMessage,u=r.extraInfo,c=e.call(this,s)||this;return c.name="ApolloError",c.graphQLErrors=n||[],c.protocolErrors=i||[],c.clientErrors=o||[],c.networkError=a||null,c.message=s||tH(c),c.extraInfo=u,c.cause=(0,l.__spreadArray)((0,l.__spreadArray)((0,l.__spreadArray)([a],n||[],!0),i||[],!0),o||[],!0).find(function(e){return!!e})||null,c.__proto__=t.prototype,c}return(0,l.__extends)(t,e),t}(Error),tq=Array.isArray;function tJ(e){return Array.isArray(e)&&e.length>0}var tB=Object.prototype.hasOwnProperty;function tV(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return tz(e)}function tz(e){var t=e[0]||{},r=e.length;if(r>1)for(var n=new tQ,i=1;i<r;++i)t=n.merge(t,e[i]);return t}var tG=function(e,t,r){return this.merge(e[r],t[r])},tQ=function(){function e(e){void 0===e&&(e=tG),this.reconciler=e,this.isObject=Y,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var r=this,n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return Y(t)&&Y(e)?(Object.keys(t).forEach(function(i){if(tB.call(e,i)){var o=e[i];if(t[i]!==o){var a=r.reconciler.apply(r,(0,l.__spreadArray)([e,t,i],n,!1));a!==o&&((e=r.shallowCopyForMerge(e))[i]=a)}}else(e=r.shallowCopyForMerge(e))[i]=t[i]}),e):t},e.prototype.shallowCopyForMerge=function(e){return Y(e)&&!this.pastCopies.has(e)&&(e=Array.isArray(e)?e.slice(0):(0,l.__assign)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)),e},e}();function tX(e){return"incremental"in e}function tY(e,t){var r=e,n=new tQ;return tX(t)&&tJ(t.incremental)&&t.incremental.forEach(function(e){for(var t=e.data,i=e.path,o=i.length-1;o>=0;--o){var a=i[o],s=isNaN(+a)?{}:[];s[a]=t,t=s}r=n.merge(r,t)}),r}var tZ=Object.prototype.hasOwnProperty;function t0(e,t){e.status>=300&&tW(e,function(){try{return JSON.parse(t)}catch(e){return t}}(),"Response not successful: Received status code ".concat(e.status));try{return JSON.parse(t)}catch(r){throw r.name="ServerParseError",r.response=e,r.statusCode=e.status,r.bodyText=t,r}}var t1=function(e){if(!e&&"undefined"==typeof fetch)throw A(51)},t2=Object.assign(function(e){var t=s.get(e);return t||(t=(0,c.print)(e),s.set(e,t)),t},{reset:function(){s=new ep(ey.print||2e3)}});t2.reset(),!1!==globalThis.__DEV__&&(eg.print=function(){return s?s.size:0});var t5={http:{includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},t4=function(e,t){return t(e)};function t6(e){return new X(function(t){t.error(e)})}var t8={kind:tx.Kind.FIELD,name:{kind:tx.Kind.NAME,value:"__typename"}};function t3(e){var t=new Map;return function(r){void 0===r&&(r=e);var n=t.get(r);return n||t.set(r,n={variables:new Set,fragmentSpreads:new Set}),n}}function t9(e,t){eL(t);for(var r,n,i,o=t3(""),a=t3(""),s=function(e){for(var t=0,r=void 0;t<e.length&&(r=e[t]);++t)if(!tq(r)){if(r.kind===tx.Kind.OPERATION_DEFINITION)return o(r.name&&r.name.value);if(r.kind===tx.Kind.FRAGMENT_DEFINITION)return a(r.name.value)}return!1!==globalThis.__DEV__&&T.error(125),null},u=0,c=t.definitions.length-1;c>=0;--c)t.definitions[c].kind===tx.Kind.OPERATION_DEFINITION&&++u;var d=(r=new Map,n=new Map,e.forEach(function(e){e&&(e.name?r.set(e.name,e):e.test&&n.set(e.test,e))}),function(e){var t=r.get(e.name.value);return!t&&n.size&&n.forEach(function(r,n){n(e)&&(t=r)}),t}),p=function(e){return tJ(e)&&e.map(d).some(function(e){return e&&e.remove})},f=new Map,h=!1,y={enter:function(e){if(p(e.directives))return h=!0,null}},g=(0,Z.visit)(t,{Field:y,InlineFragment:y,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(e,t,r,n,i){var o=s(i);o&&o.variables.add(e.name.value)}},FragmentSpread:{enter:function(e,t,r,n,i){if(p(e.directives))return h=!0,null;var o=s(i);o&&o.fragmentSpreads.add(e.name.value)}},FragmentDefinition:{enter:function(e,t,r,n){f.set(JSON.stringify(n),e)},leave:function(e,t,r,n){return e===f.get(JSON.stringify(n))?e:u>0&&e.selectionSet.selections.every(function(e){return e.kind===tx.Kind.FIELD&&"__typename"===e.name.value})?(a(e.name.value).removed=!0,h=!0,null):void 0}},Directive:{leave:function(e){if(d(e))return h=!0,null}}});if(!h)return t;var m=function(e){return!e.transitiveVars&&(e.transitiveVars=new Set(e.variables),e.removed||e.fragmentSpreads.forEach(function(t){m(a(t)).transitiveVars.forEach(function(t){e.transitiveVars.add(t)})})),e},v=new Set;g.definitions.forEach(function(e){e.kind===tx.Kind.OPERATION_DEFINITION?m(o(e.name&&e.name.value)).fragmentSpreads.forEach(function(e){v.add(e)}):e.kind!==tx.Kind.FRAGMENT_DEFINITION||0!==u||a(e.name.value).removed||v.add(e.name.value)}),v.forEach(function(e){m(a(e)).fragmentSpreads.forEach(function(e){v.add(e)})});var _={enter:function(e){var t;if(t=e.name.value,!v.has(t)||a(t).removed)return null}};return!function e(t,r){return!t||t.selectionSet.selections.every(function(t){return t.kind===tx.Kind.FRAGMENT_SPREAD&&e(r[t.name.value],r)})}(eU(i=(0,Z.visit)(g,{FragmentSpread:_,FragmentDefinition:_,OperationDefinition:{leave:function(e){if(e.variableDefinitions){var t=m(o(e.name&&e.name.value)).transitiveVars;if(t.size<e.variableDefinitions.length)return(0,l.__assign)((0,l.__assign)({},e),{variableDefinitions:e.variableDefinitions.filter(function(e){return t.has(e.variable.name.value)})})}}}}))||eH(i),et(eF(i)))?i:null}var t7=Object.assign(function(e){return(0,Z.visit)(e,{SelectionSet:{enter:function(e,t,r){if(!r||r.kind!==tx.Kind.OPERATION_DEFINITION){var n=e.selections;if(!(!n||n.some(function(e){return eM(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))&&!(eM(r)&&r.directives&&r.directives.some(function(e){return"export"===e.name.value})))return(0,l.__assign)((0,l.__assign)({},e),{selections:(0,l.__spreadArray)((0,l.__spreadArray)([],n,!0),[t8],!1)})}}}})},{added:function(e){return e===t8}});function re(e){return eL(e),t9([{test:function(e){return"client"===e.name.value},remove:!0}],e)}var rt=b(function(){return fetch}),rr=function(e){void 0===e&&(e={});var t=e.uri,r=void 0===t?"/graphql":t,n=e.fetch,i=e.print,o=void 0===i?t4:i,a=e.includeExtensions,s=e.preserveHeaderCase,u=e.useGETForQueries,c=e.includeUnusedVariables,d=void 0!==c&&c,p=(0,l.__rest)(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);!1!==globalThis.__DEV__&&t1(n||rt);var f={http:{includeExtensions:a,preserveHeaderCase:s},options:p.fetchOptions,credentials:p.credentials,headers:p.headers};return new tT(function(e){var t,i,a,s,c,p,h=tI(e,r),y=e.getContext(),g={};if(y.clientAwareness){var m=y.clientAwareness,v=m.name,_=m.version;v&&(g["apollographql-client-name"]=v),_&&(g["apollographql-client-version"]=_)}var w=(0,l.__assign)((0,l.__assign)({},g),y.headers),E={http:y.http,options:y.fetchOptions,credentials:y.credentials,headers:w};if(tP(["client"],e.query)){!1!==globalThis.__DEV__&&!1!==globalThis.__DEV__&&T.warn(52);var S=re(e.query);if(!S)return t6(Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));e.query=S}var k=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={},o={};r.forEach(function(e){i=(0,l.__assign)((0,l.__assign)((0,l.__assign)({},i),e.options),{headers:(0,l.__assign)((0,l.__assign)({},i.headers),e.headers)}),e.credentials&&(i.credentials=e.credentials),o=(0,l.__assign)((0,l.__assign)({},o),e.http)}),i.headers&&(i.headers=function(e,t){if(!t){var r={};return Object.keys(Object(e)).forEach(function(t){r[t.toLowerCase()]=e[t]}),r}var n={};Object.keys(Object(e)).forEach(function(t){n[t.toLowerCase()]={originalName:t,value:e[t]}});var i={};return Object.keys(n).forEach(function(e){i[n[e].originalName]=n[e].value}),i}(i.headers,o.preserveHeaderCase));var a=e.operationName,s=e.extensions,u=e.variables,c=e.query,d={operationName:a,variables:u};return o.includeExtensions&&(d.extensions=s),o.includeQuery&&(d.query=t(c,t2)),{options:i,body:d}}(e,o,t5,f,E),O=k.options,A=k.body;A.variables&&!d&&(t=A.variables,i=e.query,a=(0,l.__assign)({},t),s=new Set(Object.keys(t)),(0,Z.visit)(i,{Variable:function(e,t,r){r&&"VariableDefinition"!==r.kind&&s.delete(e.name.value)}}),s.forEach(function(e){delete a[e]}),A.variables=a),O.signal||"undefined"==typeof AbortController||(O.signal=(p=new AbortController).signal);var x="OperationDefinition"===(c=eK(e.query)).kind&&"subscription"===c.operation,R=tP(["defer"],e.query);if(u&&!e.query.definitions.some(function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})&&(O.method="GET"),R||x){O.headers=O.headers||{};var P="multipart/mixed;";x&&R&&!1!==globalThis.__DEV__&&T.warn(53),x?P+="boundary=graphql;subscriptionSpec=1.0,application/json":R&&(P+="deferSpec=20220824,application/json"),O.headers.accept=P}if("GET"===O.method){var C=function(e,t){var r=[],n=function(e,t){r.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&n("query",t.query),t.operationName&&n("operationName",t.operationName),t.variables){var i=void 0;try{i=tC(t.variables,"Variables map")}catch(e){return{parseError:e}}n("variables",i)}if(t.extensions){var o=void 0;try{o=tC(t.extensions,"Extensions map")}catch(e){return{parseError:e}}n("extensions",o)}var a="",s=e,u=e.indexOf("#");-1!==u&&(a=e.substr(u),s=e.substr(0,u));var c=-1===s.indexOf("?")?"?":"&";return{newURI:s+c+r.join("&")+a}}(h,A),I=C.newURI,N=C.parseError;if(N)return t6(N);h=I}else try{O.body=tC(A,"Payload")}catch(e){return t6(e)}return new X(function(t){var r=n||b(function(){return fetch})||rt,i=t.next.bind(t);return r(h,O).then(function(t){e.setContext({response:t});var r,n=null==(r=t.headers)?void 0:r.get("content-type");return null!==n&&/^multipart\/mixed/i.test(n)?function(e,t){return(0,l.__awaiter)(this,void 0,void 0,function(){var r,n,i,o,a,s,u,c,d,p,f,h,y,g,m,v,_,b,w,E,S,k,O;return(0,l.__generator)(this,function(T){switch(T.label){case 0:if(void 0===TextDecoder)throw Error("TextDecoder must be defined in the environment: please import a polyfill.");r=new TextDecoder("utf-8"),n=null==(O=e.headers)?void 0:O.get("content-type"),i="boundary=",o=(null==n?void 0:n.includes(i))?null==n?void 0:n.substring((null==n?void 0:n.indexOf(i))+i.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",a="\r\n--".concat(o),s="",u=function(e){var t,r,n,i,o,a,s=e;if(e.body&&(s=e.body),t=s,tL&&t[Symbol.asyncIterator])return n=s[Symbol.asyncIterator](),(r={next:function(){return n.next()}})[Symbol.asyncIterator]=function(){return this},r;if(s.getReader)return tU(s.getReader());if(s.stream)return tU(s.stream().getReader());if(s.arrayBuffer)return i=s.arrayBuffer(),o=!1,a={next:function(){return o?Promise.resolve({value:void 0,done:!0}):(o=!0,new Promise(function(e,t){i.then(function(t){e({value:t,done:!1})}).catch(t)}))}},tL&&(a[Symbol.asyncIterator]=function(){return this}),a;if(s.pipe)return function(e){var t=null,r=null,n=!1,i=[],o=[];function a(e){if(!r){if(o.length){var t=o.shift();if(Array.isArray(t)&&t[0])return t[0]({value:e,done:!1})}i.push(e)}}function s(e){r=e,o.slice().forEach(function(t){t[1](e)}),t&&t()}function u(){n=!0,o.slice().forEach(function(e){e[0]({value:void 0,done:!0})}),t&&t()}t=function(){t=null,e.removeListener("data",a),e.removeListener("error",s),e.removeListener("end",u),e.removeListener("finish",u),e.removeListener("close",u)},e.on("data",a),e.on("error",s),e.on("end",u),e.on("finish",u),e.on("close",u);var c={next:function(){return new Promise(function(e,t){return r?t(r):i.length?e({value:i.shift(),done:!1}):n?e({value:void 0,done:!0}):void o.push([e,t])})}};return tL&&(c[Symbol.asyncIterator]=function(){return this}),c}(s);throw Error("Unknown body type for responseIterator. Please pass a streamable response.")}(e),c=!0,T.label=1;case 1:if(!c)return[3,3];return[4,u.next()];case 2:for(p=(d=T.sent()).value,f=d.done,h="string"==typeof p?p:r.decode(p),y=s.length-a.length+1,c=!f,s+=h,g=s.indexOf(a,y);g>-1;){if(m=void 0,m=(S=[s.slice(0,g),s.slice(g+a.length)])[0],s=S[1],v=m.indexOf("\r\n\r\n"),(_=function(e){var t={};return e.split("\n").forEach(function(e){var r=e.indexOf(":");if(r>-1){var n=e.slice(0,r).trim().toLowerCase(),i=e.slice(r+1).trim();t[n]=i}}),t}(m.slice(0,v))["content-type"])&&-1===_.toLowerCase().indexOf("application/json"))throw Error("Unsupported patch content type: application/json is required.");if(b=m.slice(v)){if(Object.keys(w=t0(e,b)).length>1||"data"in w||"incremental"in w||"errors"in w||"payload"in w)if(Y(w)&&"payload"in w){if(E={},"payload"in w){if(1===Object.keys(w).length&&null===w.payload)return[2];E=(0,l.__assign)({},w.payload)}"errors"in w&&(E=(0,l.__assign)((0,l.__assign)({},E),{extensions:(0,l.__assign)((0,l.__assign)({},"extensions"in E?E.extensions:null),((k={})[tF]=w.errors,k))})),t(E)}else t(w);else if(1===Object.keys(w).length&&"hasNext"in w&&!w.hasNext)return[2]}g=s.indexOf(a)}return[3,1];case 3:return[2]}})})}(t,i):(function(t){return t.text().then(function(e){return t0(t,e)}).then(function(r){return Array.isArray(r)||tZ.call(r,"data")||tZ.call(r,"errors")||tW(t,r,"Server response was missing for query '".concat(Array.isArray(e)?e.map(function(e){return e.operationName}):e.operationName,"'.")),r})})(t).then(i)}).then(function(){p=void 0,t.complete()}).catch(function(e){p=void 0,e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e)}),function(){p&&p.abort()}})})},rn=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,rr(t).request)||this;return r.options=t,r}return(0,l.__extends)(t,e),t}(tT);let{toString:ri,hasOwnProperty:ro}=Object.prototype,ra=Function.prototype.toString,rs=new Map;function ru(e,t){try{return function e(t,r){if(t===r)return!0;let n=ri.call(t);if(n!==ri.call(r))return!1;switch(n){case"[object Array]":if(t.length!==r.length)break;case"[object Object]":{if(rp(t,r))return!0;let n=rc(t),i=rc(r),o=n.length;if(o!==i.length)return!1;for(let e=0;e<o;++e)if(!ro.call(r,n[e]))return!1;for(let i=0;i<o;++i){let o=n[i];if(!e(t[o],r[o]))return!1}return!0}case"[object Error]":return t.name===r.name&&t.message===r.message;case"[object Number]":if(t!=t)return r!=r;case"[object Boolean]":case"[object Date]":return+t==+r;case"[object RegExp]":case"[object String]":return t==`${r}`;case"[object Map]":case"[object Set]":{if(t.size!==r.size)return!1;if(rp(t,r))return!0;let i=t.entries(),o="[object Map]"===n;for(;;){let t=i.next();if(t.done)break;let[n,a]=t.value;if(!r.has(n)||o&&!e(a,r.get(n)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),r=new Uint8Array(r);case"[object DataView]":{let e=t.byteLength;if(e===r.byteLength)for(;e--&&t[e]===r[e];);return -1===e}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var i,o;let e,n=ra.call(t);if(n!==ra.call(r))return!1;return i=n,o=rd,!((e=i.length-o.length)>=0)||i.indexOf(o,e)!==e}}return!1}(e,t)}finally{rs.clear()}}function rc(e){return Object.keys(e).filter(rl,e)}function rl(e){return void 0!==this[e]}let rd="{ [native code] }";function rp(e,t){let r=rs.get(e);if(r){if(r.has(t))return!0}else rs.set(e,r=new Set);return r.add(t),!1}function rf(e){var t=tJ(e.errors)?e.errors.slice(0):[];return tX(e)&&tJ(e.incremental)&&e.incremental.forEach(function(e){e.errors&&t.push.apply(t,e.errors)}),t}function rh(e,t,r){return new X(function(n){var i={then:function(e){return new Promise(function(t){return t(e())})}};function o(e,t){return function(r){if(e){var o=function(){return n.closed?0:e(r)};i=i.then(o,o).then(function(e){return n.next(e)},function(e){return n.error(e)})}else n[t](r)}}var a={next:o(t,"next"),error:o(r,"error"),complete:function(){i.then(function(){return n.complete()})}},s=e.subscribe(a);return function(){return s.unsubscribe()}})}function ry(e,t,r){var n=[];e.forEach(function(e){return e[t]&&n.push(e)}),n.forEach(function(e){return e[t](r)})}function rg(e){function t(t){Object.defineProperty(e,t,{value:X})}return tM&&Symbol.species&&t(Symbol.species),t("@@species"),e}function rm(e){return e&&"function"==typeof e.then}var rv=function(e){function t(t){var r=e.call(this,function(e){return r.addObserver(e),function(){return r.removeObserver(e)}})||this;return r.observers=new Set,r.promise=new Promise(function(e,t){r.resolve=e,r.reject=t}),r.handlers={next:function(e){null!==r.sub&&(r.latest=["next",e],r.notify("next",e),ry(r.observers,"next",e))},error:function(e){var t=r.sub;null!==t&&(t&&setTimeout(function(){return t.unsubscribe()}),r.sub=null,r.latest=["error",e],r.reject(e),r.notify("error",e),ry(r.observers,"error",e))},complete:function(){var e=r.sub,t=r.sources;if(null!==e){var n=(void 0===t?[]:t).shift();n?rm(n)?n.then(function(e){return r.sub=e.subscribe(r.handlers)},r.handlers.error):r.sub=n.subscribe(r.handlers):(e&&setTimeout(function(){return e.unsubscribe()}),r.sub=null,r.latest&&"next"===r.latest[0]?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),ry(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(e){r.reject(e),r.sources=[],r.handlers.error(e)},r.promise.catch(function(e){}),"function"==typeof t&&(t=[new X(t)]),rm(t)?t.then(function(e){return r.start(e)},r.handlers.error):r.start(t),r}return(0,l.__extends)(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],r=e[t];r&&r.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e))},t.prototype.removeObserver=function(e){this.observers.delete(e)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(e,t){var r=this.nextResultListeners;r.size&&(this.nextResultListeners=new Set,r.forEach(function(r){return r(e,t)}))},t.prototype.beforeNext=function(e){var t=!1;this.nextResultListeners.add(function(r,n){t||(t=!0,e(r,n))})},t}(X);function r_(e){return e}rg(rv);var rb=function(){function e(e,t){void 0===t&&(t=Object.create(null)),this.resultCache=tD?new WeakSet:new Set,this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),this.cached=!1!==t.cache,this.resetCache()}return e.prototype.getCacheKey=function(e){return[e]},e.identity=function(){return new e(r_,{cache:!1})},e.split=function(t,r,n){return void 0===n&&(n=e.identity()),Object.assign(new e(function(e){return(t(e)?r:n).transformDocument(e)},{cache:!1}),{left:r,right:n})},e.prototype.resetCache=function(){var t=this;if(this.cached){var r=new eG(tj);this.performWork=tm(e.prototype.performWork.bind(this),{makeCacheKey:function(e){var n=t.getCacheKey(e);if(n)return T(Array.isArray(n),105),r.lookupArray(n)},max:ey["documentTransform.cache"],cache:es})}},e.prototype.performWork=function(e){return eL(e),this.transform(e)},e.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var t=this.performWork(e);return this.resultCache.add(t),t},e.prototype.concat=function(t){var r=this;return Object.assign(new e(function(e){return t.transformDocument(r.transformDocument(e))},{cache:!1}),{left:this,right:t})},e}();function rw(e){return!!e&&e<7}(n=u||(u={}))[n.loading=1]="loading",n[n.setVariables=2]="setVariables",n[n.fetchMore=3]="fetchMore",n[n.refetch=4]="refetch",n[n.poll=6]="poll",n[n.ready=7]="ready",n[n.error=8]="error";var rE=Object.prototype.toString;function rS(e,t){switch(rE.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var r=e.slice(0);return t.set(e,r),r.forEach(function(e,n){r[n]=rS(e,t)}),r;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var n=Object.create(Object.getPrototypeOf(e));return t.set(e,n),Object.keys(e).forEach(function(r){n[r]=rS(e[r],t)}),n;default:return e}}function rk(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object.create(null);return e.forEach(function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];void 0!==n&&(r[t]=n)})}),r}function rO(e,t,r,n){var i=t.data,o=(0,l.__rest)(t,["data"]),a=r.data;return ru(o,(0,l.__rest)(r,["data"]))&&function e(t,r,n,i){if(r===n)return!0;var o=new Set;return t.selections.every(function(t){if(o.has(t)||(o.add(t),!tR(t,i.variables)||rT(t)))return!0;if(eM(t)){var a=ej(t),s=r&&r[a],u=n&&n[a],c=t.selectionSet;if(!c)return ru(s,u);var l=Array.isArray(s),d=Array.isArray(u);if(l!==d)return!1;if(l&&d){var p=s.length;if(u.length!==p)return!1;for(var f=0;f<p;++f)if(!e(c,s[f],u[f],i))return!1;return!0}return e(c,s,u,i)}var h=er(t,i.fragmentMap);if(h)return!!rT(h)||e(h.selectionSet,r,n,i)})}(eK(e).selectionSet,i,a,{fragmentMap:et(eF(e)),variables:n})}function rT(e){return!!e.directives&&e.directives.some(rA)}function rA(e){return"nonreactive"===e.name.value}var rx=Object.assign,rR=Object.hasOwnProperty,rP=function(e){function t(r){var n=r.queryManager,i=r.queryInfo,o=r.options,a=this,s=t.inactiveOnCreation.getValue();(a=e.call(this,function(e){a._getOrCreateQuery();try{var t=e._subscription._observer;t&&!t.error&&(t.error=rC)}catch(e){}var r=!a.observers.size;a.observers.add(e);var n=a.last;return n&&n.error?e.error&&e.error(n.error):n&&n.result&&e.next&&e.next(a.maskResult(n.result)),r&&a.reobserve().catch(function(){}),function(){a.observers.delete(e)&&!a.observers.size&&a.tearDownQuery()}})||this).observers=new Set,a.subscriptions=new Set,a.dirty=!1,a._getOrCreateQuery=function(){return s&&(n.queries.set(a.queryId,i),s=!1),a.queryManager.getOrCreateQuery(a.queryId)},a.queryInfo=i,a.queryManager=n,a.waitForOwnResult=rN(o.fetchPolicy),a.isTornDown=!1,a.subscribeToMore=a.subscribeToMore.bind(a),a.maskResult=a.maskResult.bind(a);var u=n.defaultOptions.watchQuery,c=(void 0===u?{}:u).fetchPolicy,d=void 0===c?"cache-first":c,p=o.fetchPolicy,f=void 0===p?d:p,h=o.initialFetchPolicy,y=void 0===h?"standby"===f?d:f:h;a.options=(0,l.__assign)((0,l.__assign)({},o),{initialFetchPolicy:y,fetchPolicy:f}),a.queryId=i.queryId||n.generateQueryId();var g=eU(a.query);return a.queryName=g&&g.name&&g.name.value,a}return(0,l.__extends)(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return!1!==globalThis.__DEV__&&tE("observableQuery.result",function(){!1!==globalThis.__DEV__&&T.warn(23)}),new Promise(function(t,r){var n={next:function(r){t(r),e.observers.delete(n),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout(function(){i.unsubscribe()},0)},error:r},i=e.subscribe(n)})},t.prototype.resetDiff=function(){this.queryInfo.resetDiff()},t.prototype.getCurrentFullResult=function(e){var t=this;void 0===e&&(e=!0);var r=tb("getLastResult",function(){return t.getLastResult(!0)}),n=this.queryInfo.networkStatus||r&&r.networkStatus||u.ready,i=(0,l.__assign)((0,l.__assign)({},r),{loading:rw(n),networkStatus:n}),o=this.options.fetchPolicy,a=void 0===o?"cache-first":o;if(rN(a)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers);else if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var s=this.queryInfo.getDiff();(s.complete||this.options.returnPartialData)&&(i.data=s.result),ru(i.data,{})&&(i.data=void 0),s.complete?(delete i.partial,s.complete&&i.networkStatus===u.loading&&("cache-first"===a||"cache-only"===a)&&(i.networkStatus=u.ready,i.loading=!1)):i.partial=!0,i.networkStatus===u.ready&&(i.error||i.errors)&&(i.networkStatus=u.error),!1===globalThis.__DEV__||s.complete||this.options.partialRefetch||i.loading||i.data||i.error||rI(s.missing)}return e&&this.updateLastResult(i),i},t.prototype.getCurrentResult=function(e){return void 0===e&&(e=!0),this.maskResult(this.getCurrentFullResult(e))},t.prototype.isDifferentFromLastResult=function(e,t){if(!this.last)return!0;var r=this.queryManager.getDocumentInfo(this.query),n=this.queryManager.dataMasking,i=n?r.nonReactiveQuery:this.query;return(n||r.hasNonreactiveDirective?!rO(i,this.last.result,e,this.variables):!ru(this.last.result,e))||t&&!ru(this.last.variables,t)},t.prototype.getLast=function(e,t){var r=this.last;if(r&&r[e]&&(!t||ru(r.variables,this.variables)))return r[e]},t.prototype.getLastResult=function(e){return!1!==globalThis.__DEV__&&tE("getLastResult",function(){!1!==globalThis.__DEV__&&T.warn(24)}),this.getLast("result",e)},t.prototype.getLastError=function(e){return!1!==globalThis.__DEV__&&tE("getLastError",function(){!1!==globalThis.__DEV__&&T.warn(25)}),this.getLast("error",e)},t.prototype.resetLastResults=function(){!1!==globalThis.__DEV__&&tE("resetLastResults",function(){!1!==globalThis.__DEV__&&T.warn(26)}),delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){!1!==globalThis.__DEV__&&!1!==globalThis.__DEV__&&T.warn(27),this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,r={pollInterval:0};if("no-cache"===this.options.fetchPolicy?r.fetchPolicy="no-cache":r.fetchPolicy="network-only",!1!==globalThis.__DEV__&&e&&rR.call(e,"variables")){var n=e$(this.query),i=n.variableDefinitions;i&&i.some(function(e){return"variables"===e.variable.name.value})||!1===globalThis.__DEV__||T.warn(28,e,(null==(t=n.name)?void 0:t.value)||n)}return e&&!ru(this.options.variables,e)&&(r.variables=this.options.variables=(0,l.__assign)((0,l.__assign)({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(r,u.refetch)},t.prototype.fetchMore=function(e){var t=this,r=(0,l.__assign)((0,l.__assign)({},e.query?e:(0,l.__assign)((0,l.__assign)((0,l.__assign)((0,l.__assign)({},this.options),{query:this.options.query}),e),{variables:(0,l.__assign)((0,l.__assign)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"});r.query=this.transformDocument(r.query);var n=this.queryManager.generateQueryId();this.lastQuery=e.query?this.transformDocument(this.options.query):r.query;var i=this.queryInfo,o=i.networkStatus;i.networkStatus=u.fetchMore,r.notifyOnNetworkStatusChange&&this.observe();var a=new Set,s=null==e?void 0:e.updateQuery,c="no-cache"!==this.options.fetchPolicy;return c||T(s,29),this.queryManager.fetchQuery(n,r,u.fetchMore).then(function(d){if(t.queryManager.removeQuery(n),i.networkStatus===u.fetchMore&&(i.networkStatus=o),c)t.queryManager.cache.batch({update:function(n){var i=e.updateQuery;i?n.updateQuery({query:t.query,variables:t.variables,returnPartialData:!0,optimistic:!1},function(e){return i(e,{fetchMoreResult:d.data,variables:r.variables})}):n.writeQuery({query:r.query,variables:r.variables,data:d.data})},onWatchUpdated:function(e){a.add(e.query)}});else{var p=t.getLast("result"),f=s(p.data,{fetchMoreResult:d.data,variables:r.variables});t.reportResult((0,l.__assign)((0,l.__assign)({},p),{networkStatus:o,loading:rw(o),data:f}),t.variables)}return t.maskResult(d)}).finally(function(){c&&!a.has(t.query)&&t.reobserveCacheFirst()})},t.prototype.subscribeToMore=function(e){var t=this,r=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(r){var n=e.updateQuery;n&&t.updateQuery(function(e,t){return n(e,(0,l.__assign)({subscriptionData:r},t))})},error:function(t){e.onError?e.onError(t):!1!==globalThis.__DEV__&&T.error(30,t)}});return this.subscriptions.add(r),function(){t.subscriptions.delete(r)&&r.unsubscribe()}},t.prototype.setOptions=function(e){return!1!==globalThis.__DEV__&&(tw(e,"canonizeResults","setOptions"),tE("setOptions",function(){!1!==globalThis.__DEV__&&T.warn(31)})),this.reobserve(e)},t.prototype.silentSetOptions=function(e){var t=rk(this.options,e||{});rx(this.options,t)},t.prototype.setVariables=function(e){var t=this;return ru(this.variables,e)?this.observers.size?tb("observableQuery.result",function(){return t.result()}):Promise.resolve():(this.options.variables=e,this.observers.size)?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},u.setVariables):Promise.resolve()},t.prototype.updateQuery=function(e){var t=this.queryManager,r=t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}),n=r.result,i=r.complete,o=e(n,{variables:this.variables,complete:!!i,previousData:n});o&&(t.cache.writeQuery({query:this.options.query,data:o,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(e,t){if(t.nextFetchPolicy){var r=t.fetchPolicy,n=void 0===r?"cache-first":r,i=t.initialFetchPolicy,o=void 0===i?n:i;"standby"===n||("function"==typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy(n,{reason:e,options:t,observable:this,initialFetchPolicy:o}):"variables-changed"===e?t.fetchPolicy=o:t.fetchPolicy=t.nextFetchPolicy)}return t.fetchPolicy},t.prototype.fetch=function(e,t,r){var n=this._getOrCreateQuery();return n.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(n,e,t,r)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,r=this.options.pollInterval;if(!r||!this.hasObservers()){t&&(clearTimeout(t.timeout),delete this.pollingInfo);return}if(!t||t.interval!==r){T(r,32),(t||(this.pollingInfo={})).interval=r;var n=function(){var t,r;e.pollingInfo&&(rw(e.queryInfo.networkStatus)||(null==(r=(t=e.options).skipPollAttempt)?void 0:r.call(t))?i():e.reobserve({fetchPolicy:"no-cache"===e.options.initialFetchPolicy?"no-cache":"network-only"},u.poll).then(i,i))},i=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(n,t.interval))};i()}}},t.prototype.updateLastResult=function(e,t){var r=this;void 0===t&&(t=this.variables);var n=tb("getLastError",function(){return r.getLastError()});return n&&this.last&&!ru(t,this.last.variables)&&(n=void 0),this.last=(0,l.__assign)({result:this.queryManager.assumeImmutableResults?e:rS(e),variables:t},n?{error:n}:null)},t.prototype.reobserveAsConcast=function(e,t){var r=this;this.isTornDown=!1;var n=t===u.refetch||t===u.fetchMore||t===u.poll,i=this.options.variables,o=this.options.fetchPolicy,a=rk(this.options,e||{}),s=n?a:rx(this.options,a),c=this.transformDocument(s.query);this.lastQuery=c,!n&&(this.updatePolling(),e&&e.variables&&!ru(e.variables,i)&&"standby"!==s.fetchPolicy&&(s.fetchPolicy===o||"function"==typeof s.nextFetchPolicy)&&(this.applyNextFetchPolicy("variables-changed",s),void 0===t&&(t=u.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=rN(s.fetchPolicy));var d=function(){r.concast===h&&(r.waitForOwnResult=!1)},p=s.variables&&(0,l.__assign)({},s.variables),f=this.fetch(s,t,c),h=f.concast,y=f.fromLink,g={next:function(e){ru(r.variables,p)&&(d(),r.reportResult(e,p))},error:function(e){ru(r.variables,p)&&(t$(e)||(e=new tK({networkError:e})),d(),r.reportError(e,p))}};return n||!y&&this.concast||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=h,this.observer=g),h.addObserver(g),h},t.prototype.reobserve=function(e,t){var r;return(r=this.reobserveAsConcast(e,t).promise.then(this.maskResult)).catch(function(){}),r},t.prototype.resubscribeAfterError=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.last;tb("resetLastResults",function(){return e.resetLastResults()});var i=this.subscribe.apply(this,t);return this.last=n,i},t.prototype.observe=function(){this.reportResult(this.getCurrentFullResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var r=this,n=tb("getLastError",function(){return r.getLastError()}),i=this.isDifferentFromLastResult(e,t);(n||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),(n||i)&&ry(this.observers,"next",this.maskResult(e))},t.prototype.reportError=function(e,t){var r=this,n=(0,l.__assign)((0,l.__assign)({},tb("getLastResult",function(){return r.getLastResult()})),{error:e,errors:e.graphQLErrors,networkStatus:u.error,loading:!1});this.updateLastResult(n,t),ry(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t.prototype.transformDocument=function(e){return this.queryManager.transform(e)},t.prototype.maskResult=function(e){return e&&"data"in e?(0,l.__assign)((0,l.__assign)({},e),{data:this.queryManager.maskOperation({document:this.query,data:e.data,fetchPolicy:this.options.fetchPolicy,id:this.queryId})}):e},t.prototype.resetNotifications=function(){this.cancelNotifyTimeout(),this.dirty=!1},t.prototype.cancelNotifyTimeout=function(){this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0)},t.prototype.scheduleNotify=function(){var e=this;!this.dirty&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return e.notify()},0)))},t.prototype.notify=function(){this.cancelNotifyTimeout(),this.dirty&&("cache-only"==this.options.fetchPolicy||"cache-and-network"==this.options.fetchPolicy||!rw(this.queryInfo.networkStatus))&&(this.queryInfo.getDiff().fromOptimisticTransaction?this.observe():this.reobserveCacheFirst()),this.dirty=!1},t.prototype.reobserveCacheFirst=function(){var e=this.options,t=e.fetchPolicy,r=e.nextFetchPolicy;return"cache-and-network"===t||"network-only"===t?this.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(e,n){return(this.nextFetchPolicy=r,"function"==typeof this.nextFetchPolicy)?this.nextFetchPolicy(e,n):t}}):this.reobserve()},t.inactiveOnCreation=new e2,t}(X);function rC(e){!1!==globalThis.__DEV__&&T.error(33,e.message,e.stack)}function rI(e){!1!==globalThis.__DEV__&&e&&!1!==globalThis.__DEV__&&T.debug(34,e)}function rN(e){return"network-only"===e||"no-cache"===e||"standby"===e}rg(rP);var rj=new(tj?WeakMap:Map);function rD(e,t){var r=e[t];"function"==typeof r&&(e[t]=function(){return rj.set(e,(rj.get(e)+1)%1e15),r.apply(this,arguments)})}var rM=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.document=null,this.lastRequestId=1,this.stopped=!1,this.observableQuery=null;var r=this.cache=e.cache;rj.has(r)||(rj.set(r,0),rD(r,"evict"),rD(r,"modify"),rD(r,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||u.loading;return this.variables&&this.networkStatus!==u.loading&&!ru(this.variables,e.variables)&&(t=u.setVariables),ru(e.variables,this.variables)||(this.lastDiff=void 0,this.cancel()),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.resetDiff=function(){this.lastDiff=void 0},e.prototype.getDiff=function(){var e=this,t=this.getDiffOptions();if(this.lastDiff&&ru(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var r=this.observableQuery;if(r&&"no-cache"===r.options.fetchPolicy)return{complete:!1};var n=tb("canonizeResults",function(){return e.cache.diff(t)});return this.updateLastDiff(n,t),n},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null==(t=this.observableQuery)?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t,r=this,n=this.lastDiff&&this.lastDiff.diff;!(e&&!e.complete&&tb("getLastError",function(){var e;return null==(e=r.observableQuery)?void 0:e.getLastError()}))&&(this.updateLastDiff(e),ru(n&&n.result,e&&e.result)||null==(t=this.observableQuery)||t.scheduleNotify())},e.prototype.setObservableQuery=function(e){e!==this.observableQuery&&(this.observableQuery=e,e&&(e.queryInfo=this))},e.prototype.stop=function(){var e;if(!this.stopped){this.stopped=!0,null==(e=this.observableQuery)||e.resetNotifications(),this.cancel();var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){var e;null==(e=this.cancelWatch)||e.call(this),this.cancelWatch=void 0},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var r=this.observableQuery;if(!r||"no-cache"!==r.options.fetchPolicy){var n=(0,l.__assign)((0,l.__assign)({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&ru(n,this.lastWatch)||(this.cancel(),this.cancelWatch=this.cache.watch(this.lastWatch=n))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var r=this.lastWrite;return!(r&&r.dmCount===rj.get(this.cache)&&ru(t,r.variables)&&ru(e.data,r.result.data))},e.prototype.markResult=function(e,t,r,n){var i,o=this,a=new tQ,s=tJ(e.errors)?e.errors.slice(0):[];if(null==(i=this.observableQuery)||i.resetNotifications(),"incremental"in e&&tJ(e.incremental)){var u=tY(this.getDiff().result,e);e.data=u}else if("hasNext"in e&&e.hasNext){var c=this.getDiff();e.data=a.merge(c.result,e.data)}this.graphQLErrors=s,"no-cache"===r.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):0!==n&&(rL(e,r.errorPolicy)?this.cache.performTransaction(function(i){if(o.shouldWrite(e,r.variables))i.writeQuery({query:t,data:e.data,variables:r.variables,overwrite:1===n}),o.lastWrite={result:e,variables:r.variables,dmCount:rj.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete){e.data=o.lastDiff.diff.result;return}var a=o.getDiffOptions(r.variables),s=tb("canonizeResults",function(){return i.diff(a)});!o.stopped&&ru(o.variables,r.variables)&&o.updateWatch(r.variables),o.updateLastDiff(s,a),s.complete&&(e.data=s.result)}):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=u.ready},e.prototype.markError=function(e){var t;return this.networkStatus=u.error,this.lastWrite=void 0,null==(t=this.observableQuery)||t.resetNotifications(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function rL(e,t){void 0===t&&(t="none");var r="ignore"===t||"all"===t,n=!tJ(rf(e));return!n&&r&&e.data&&(n=!0),n}var rU=tj?WeakMap:Map,rW=tD?WeakSet:Set,rF=new e2,r$=!1;function rH(){r$||(r$=!0,!1!==globalThis.__DEV__&&T.warn(64))}function rK(e){var t;return!1!==globalThis.__DEV__&&(t=new Set([e])).forEach(function(e){Y(e)&&function(e){if(!1!==globalThis.__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(e){if(e instanceof TypeError)return null;throw e}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach(function(r){Y(e[r])&&t.add(e[r])})}),e}function rq(e,t,r){return rF.withValue(!0,function(){var n=function e(t,r,n,i,o){var a,s=n.knownChanged,u=function(e,t){if(t.has(e))return t.get(e);var r=Array.isArray(e)?[]:Object.create(null);return t.set(e,r),r}(t,n.mutableTargets);if(Array.isArray(t)){for(var c=0,l=Array.from(t.entries());c<l.length;c++){var d=l[c],p=d[0],f=d[1];if(null===f){u[p]=null;continue}var h=e(f,r,n,i,!1!==globalThis.__DEV__?"".concat(o||"","[").concat(p,"]"):void 0);s.has(h)&&s.add(u),u[p]=h}return s.has(u)?u:t}for(var y=0,g=r.selections;y<g.length;y++){var m=g[y],v=void 0;if(i&&s.add(u),m.kind===tx.Kind.FIELD){var _=ej(m),b=m.selectionSet;if(void 0===(v=u[_]||t[_]))continue;if(b&&null!==v){var h=e(t[_],b,n,i,!1!==globalThis.__DEV__?"".concat(o||"",".").concat(_):void 0);s.has(h)&&(v=h)}!1===globalThis.__DEV__&&(u[_]=v),!1!==globalThis.__DEV__&&(!i||"__typename"===_||(null==(a=Object.getOwnPropertyDescriptor(u,_))?void 0:a.value)?(delete u[_],u[_]=v):Object.defineProperty(u,_,function(e,t,r,n,i){var o=function(){return rF.getValue()||(!1!==globalThis.__DEV__&&T.warn(60,n?"".concat(i," '").concat(n,"'"):"anonymous ".concat(i),"".concat(r,".").concat(e).replace(/^\./,"")),o=function(){return t}),t};return{get:function(){return o()},set:function(e){o=function(){return e}},enumerable:!0,configurable:!0}}(_,v,o||"",n.operationName,n.operationType)))}if(m.kind===tx.Kind.INLINE_FRAGMENT&&(!m.typeCondition||n.cache.fragmentMatches(m,t.__typename))&&(v=e(t,m.selectionSet,n,i,o)),m.kind===tx.Kind.FRAGMENT_SPREAD){var w=m.name.value,E=n.fragmentMap[w]||(n.fragmentMap[w]=n.cache.lookupFragment(w));T(E,59,w);var S=function(e){var t,r,n=null==(t=e.directives)?void 0:t.find(function(e){return"unmask"===e.name.value});if(!n)return"mask";var i=null==(r=n.arguments)?void 0:r.find(function(e){return"mode"===e.name.value});return(!1!==globalThis.__DEV__&&i&&(i.value.kind===tx.Kind.VARIABLE?!1!==globalThis.__DEV__&&T.warn(110):i.value.kind!==tx.Kind.STRING?!1!==globalThis.__DEV__&&T.warn(111):"migrate"!==i.value.value&&!1!==globalThis.__DEV__&&T.warn(112,i.value.value)),i&&"value"in i.value&&"migrate"===i.value.value)?"migrate":"unmask"}(m);"mask"!==S&&(v=e(t,E.selectionSet,n,"migrate"===S,o))}s.has(v)&&s.add(u)}return"__typename"in t&&!("__typename"in u)&&(u.__typename=t.__typename),Object.keys(u).length!==Object.keys(t).length&&s.add(u),s.has(u)?u:t}(e,t,r,!1);return Object.isFrozen(e)&&rK(n),n})}function rJ(e,t,r,n){if(!r.fragmentMatches)return!1!==globalThis.__DEV__&&rH(),e;var i=t.definitions.filter(function(e){return e.kind===tx.Kind.FRAGMENT_DEFINITION});void 0===n&&(T(1===i.length,61,i.length),n=i[0].name.value);var o=i.find(function(e){return e.name.value===n});return(T(!!o,62,n),null==e||ru(e,{}))?e:rq(e,o.selectionSet,{operationType:"fragment",operationName:o.name.value,fragmentMap:et(eF(t)),cache:r,mutableTargets:new rU,knownChanged:new rW})}var rB=Object.prototype.hasOwnProperty,rV=Object.create(null),rz=function(){function e(e){var t=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new ep(ey["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new eG(!1),this.noCacheWarningsByQueryId=new Set;var r=new rb(function(e){return t.cache.transformDocument(e)},{cache:!1});this.cache=e.cache,this.link=e.link,this.defaultOptions=e.defaultOptions,this.queryDeduplication=e.queryDeduplication,this.clientAwareness=e.clientAwareness,this.localState=e.localState,this.ssrMode=e.ssrMode,this.assumeImmutableResults=e.assumeImmutableResults,this.dataMasking=e.dataMasking;var n=e.documentTransform;this.documentTransform=n?r.concat(n).concat(r):r,this.defaultContext=e.defaultContext||Object.create(null),(this.onBroadcast=e.onBroadcast)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach(function(t,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches(A(35))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(t){return t(e)}),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){return(0,l.__awaiter)(this,arguments,void 0,function(e){var t,r,n,i,o,a,s,u=e.mutation,c=e.variables,d=e.optimisticResponse,p=e.updateQueries,f=e.refetchQueries,h=void 0===f?[]:f,y=e.awaitRefetchQueries,g=void 0!==y&&y,m=e.update,v=e.onQueryUpdated,_=e.fetchPolicy,b=void 0===_?(null==(a=this.defaultOptions.mutate)?void 0:a.fetchPolicy)||"network-only":_,w=e.errorPolicy,E=void 0===w?(null==(s=this.defaultOptions.mutate)?void 0:s.errorPolicy)||"none":w,S=e.keepRootFields,k=e.context;return(0,l.__generator)(this,function(e){switch(e.label){case 0:if(T(u,36),T("network-only"===b||"no-cache"===b,37),t=this.generateMutationId(),u=this.cache.transformForLink(this.transform(u)),r=this.getDocumentInfo(u).hasClientExports,c=this.getVariables(u,c),!r)return[3,2];return[4,this.localState.addExportedVariables(u,c,k)];case 1:c=e.sent(),e.label=2;case 2:return n=this.mutationStore&&(this.mutationStore[t]={mutation:u,variables:c,loading:!0,error:null}),i=d&&this.markMutationOptimistic(d,{mutationId:t,document:u,variables:c,fetchPolicy:b,errorPolicy:E,context:k,updateQueries:p,update:m,keepRootFields:S}),this.broadcastQueries(),o=this,[2,new Promise(function(e,r){return rh(o.getObservableFromLink(u,(0,l.__assign)((0,l.__assign)({},k),{optimisticResponse:i?d:void 0}),c,{},!1),function(e){if(tJ(rf(e))&&"none"===E)throw new tK({graphQLErrors:rf(e)});n&&(n.loading=!1,n.error=null);var r=(0,l.__assign)({},e);return"function"==typeof h&&(h=h(r)),"ignore"===E&&tJ(rf(r))&&delete r.errors,o.markMutationResult({mutationId:t,result:r,document:u,variables:c,fetchPolicy:b,errorPolicy:E,context:k,update:m,updateQueries:p,awaitRefetchQueries:g,refetchQueries:h,removeOptimistic:i?t:void 0,onQueryUpdated:v,keepRootFields:S})}).subscribe({next:function(r){o.broadcastQueries(),"hasNext"in r&&!1!==r.hasNext||e((0,l.__assign)((0,l.__assign)({},r),{data:o.maskOperation({document:u,data:r.data,fetchPolicy:b,id:t})}))},error:function(e){n&&(n.loading=!1,n.error=e),i&&o.cache.removeOptimistic(t),o.broadcastQueries(),r(e instanceof tK?e:new tK({networkError:e}))}})})]}})})},e.prototype.markMutationResult=function(e,t){var r=this;void 0===t&&(t=this.cache);var n=e.result,i=[],o="no-cache"===e.fetchPolicy;if(!o&&rL(n,e.errorPolicy)){if(tX(n)||i.push({result:n.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),tX(n)&&tJ(n.incremental)){var a=t.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),s=void 0;a.result&&(s=tY(a.result,n)),void 0!==s&&(n.data=s,i.push({result:s,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var u=e.updateQueries;u&&this.queries.forEach(function(e,o){var a=e.observableQuery,s=a&&a.queryName;if(s&&rB.call(u,s)){var c=u[s],l=r.queries.get(o),d=l.document,p=l.variables,f=t.diff({query:d,variables:p,returnPartialData:!0,optimistic:!1}),h=f.result;if(f.complete&&h){var y=c(h,{mutationResult:n,queryName:d&&eW(d)||void 0,queryVariables:p});y&&i.push({result:y,dataId:"ROOT_QUERY",query:d,variables:p})}}})}if(i.length>0||(e.refetchQueries||"").length>0||e.update||e.onQueryUpdated||e.removeOptimistic){var c=[];if(this.refetchQueries({updateCache:function(t){o||i.forEach(function(e){return t.write(e)});var a,s=e.update,u=!(tX(a=n)||"hasNext"in a&&"data"in a)||tX(n)&&!n.hasNext;if(s){if(!o){var c=t.diff({id:"ROOT_MUTATION",query:r.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});c.complete&&("incremental"in(n=(0,l.__assign)((0,l.__assign)({},n),{data:c.result}))&&delete n.incremental,"hasNext"in n&&delete n.hasNext)}u&&s(t,n,{context:e.context,variables:e.variables})}o||e.keepRootFields||!u||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var r=t.fieldName,n=t.DELETE;return"__typename"===r?e:n}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(e){return c.push(e)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(c).then(function(){return n})}return Promise.resolve(n)},e.prototype.markMutationOptimistic=function(e,t){var r=this,n="function"==typeof e?e(t.variables,{IGNORE:rV}):e;return n!==rV&&(this.cache.recordOptimisticTransaction(function(e){try{r.markMutationResult((0,l.__assign)((0,l.__assign)({},t),{result:{data:n}}),e)}catch(e){!1!==globalThis.__DEV__&&T.error(e)}},t.mutationId),!0)},e.prototype.fetchQuery=function(e,t,r){return this.fetchConcastWithInfo(this.getOrCreateQuery(e),t,r).concast.promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(t,r){e[r]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}}),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},e.prototype.getDocumentInfo=function(e){var t=this.transformCache;if(!t.has(e)){var r={hasClientExports:e&&tP(["client","export"],e,!0),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:tP(["nonreactive"],e),nonReactiveQuery:(eL(e),(0,Z.visit)(e,{FragmentSpread:function(e){var t;if(null==(t=e.directives)||!t.some(function(e){return"unmask"===e.name.value}))return(0,l.__assign)((0,l.__assign)({},e),{directives:(0,l.__spreadArray)((0,l.__spreadArray)([],e.directives||[],!0),[{kind:tx.Kind.DIRECTIVE,name:{kind:tx.Kind.NAME,value:"nonreactive"}}],!1)})}})),clientQuery:this.localState.clientQuery(e),serverQuery:t9([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],e),defaultVars:eq(eU(e)),asQuery:(0,l.__assign)((0,l.__assign)({},e),{definitions:e.definitions.map(function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?(0,l.__assign)((0,l.__assign)({},e),{operation:"query"}):e})})};t.set(e,r)}return t.get(e)},e.prototype.getVariables=function(e,t){return(0,l.__assign)((0,l.__assign)({},this.getDocumentInfo(e).defaultVars),t)},e.prototype.watchQuery=function(e){var t=this.transform(e.query);void 0===(e=(0,l.__assign)((0,l.__assign)({},e),{variables:this.getVariables(t,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var r=new rM(this),n=new rP({queryManager:this,queryInfo:r,options:e});return n.lastQuery=t,rP.inactiveOnCreation.getValue()||this.queries.set(n.queryId,r),r.init({document:t,observableQuery:n,variables:n.variables}),n},e.prototype.query=function(e,t){var r=this;void 0===t&&(t=this.generateQueryId()),T(e.query,38),T("Document"===e.query.kind,39),T(!e.returnPartialData,40),T(!e.pollInterval,41);var n=this.transform(e.query);return this.fetchQuery(t,(0,l.__assign)((0,l.__assign)({},e),{query:n})).then(function(i){return i&&(0,l.__assign)((0,l.__assign)({},i),{data:r.maskOperation({document:n,data:i.data,fetchPolicy:e.fetchPolicy,id:t})})}).finally(function(){return r.stopQuery(t)})},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(A(42)),this.queries.forEach(function(e){e.observableQuery?e.networkStatus=u.loading:e.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var r=new Map,n=new Map,i=new Map,o=new Set;return Array.isArray(e)&&e.forEach(function(e){if("string"==typeof e)n.set(e,e),i.set(e,!1);else if(Y(e)&&"Document"===e.kind&&Array.isArray(e.definitions)){var r=t2(t.transform(e));n.set(r,eW(e)),i.set(r,!1)}else Y(e)&&e.query&&o.add(e)}),this.queries.forEach(function(t,n){var o=t.observableQuery,a=t.document;if(o){if("all"===e)return void r.set(n,o);var s=o.queryName;if("standby"===o.options.fetchPolicy||"active"===e&&!o.hasObservers())return;("active"===e||s&&i.has(s)||a&&i.has(t2(a)))&&(r.set(n,o),s&&i.set(s,!0),a&&i.set(t2(a),!0))}}),o.size&&o.forEach(function(e){var n=S("legacyOneTimeQuery"),i=t.getOrCreateQuery(n).init({document:e.query,variables:e.variables}),o=new rP({queryManager:t,queryInfo:i,options:(0,l.__assign)((0,l.__assign)({},e),{fetchPolicy:"network-only"})});T(o.queryId===n),i.setObservableQuery(o),r.set(n,o)}),!1!==globalThis.__DEV__&&i.size&&i.forEach(function(e,t){if(!e){var r=n.get(t);r?!1!==globalThis.__DEV__&&T.warn(43,r):!1!==globalThis.__DEV__&&T.warn(44)}}),r},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(n,i){var o=n.options.fetchPolicy;tb("resetLastResults",function(){return n.resetLastResults()}),(e||"standby"!==o&&"cache-only"!==o)&&r.push(n.refetch()),(t.queries.get(i)||n.queryInfo).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},e.prototype.startGraphQLSubscription=function(e){var t=this,r=e.query,n=e.variables,i=e.fetchPolicy,o=e.errorPolicy,a=void 0===o?"none":o,s=e.context,u=void 0===s?{}:s,c=e.extensions,l=void 0===c?{}:c;r=this.transform(r),n=this.getVariables(r,n);var d=function(e){return t.getObservableFromLink(r,u,e,l).map(function(n){"no-cache"!==i&&(rL(n,a)&&t.cache.write({query:r,result:n.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries());var o=tJ(rf(n)),s=!!n.extensions&&Array.isArray(n.extensions[tF]);if(o||s){var u={};if(o&&(u.graphQLErrors=n.errors),s&&(u.protocolErrors=n.extensions[tF]),"none"===a||s)throw new tK(u)}return"ignore"===a&&delete n.errors,n})};if(this.getDocumentInfo(r).hasClientExports){var p=this.localState.addExportedVariables(r,n,u).then(d);return new X(function(e){var t=null;return p.then(function(r){return t=r.subscribe(e)},e.error),function(){return t&&t.unsubscribe()}})}return d(n)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){var t;this.fetchCancelFns.delete(e),this.queries.has(e)&&(null==(t=this.queries.get(e))||t.stop(),this.queries.delete(e))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){var t;return null==(t=e.observableQuery)?void 0:t.notify()})},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,r,n,i){var o,a,s=this;void 0===i&&(i=null!=(o=null==t?void 0:t.queryDeduplication)?o:this.queryDeduplication);var u=this.getDocumentInfo(e),c=u.serverQuery,d=u.clientQuery;if(c){var p=this.inFlightLinkObservables,f=this.link,h={query:c,variables:r,operationName:eW(c)||void 0,context:this.prepareContext((0,l.__assign)((0,l.__assign)({},t),{forceFetch:!i})),extensions:n};if(t=h.context,i){var y=t2(c),g=ek(r),m=p.lookup(y,g);if(!(a=m.observable)){var v=new rv([tA(f,h)]);a=m.observable=v,v.beforeNext(function e(t,r){"next"===t&&"hasNext"in r&&r.hasNext?v.beforeNext(e):p.remove(y,g)})}}else a=new rv([tA(f,h)])}else a=new rv([X.of({data:{}})]),t=this.prepareContext(t);return d&&(a=rh(a,function(e){return s.localState.runResolvers({document:d,remoteResult:e,context:t,variables:r})})),a},e.prototype.getResultsFromLink=function(e,t,r){var n=e.lastRequestId=this.generateRequestId(),i=this.cache.transformForLink(r.query);return rh(this.getObservableFromLink(i,r.context,r.variables),function(o){var a=rf(o),s=a.length>0,c=r.errorPolicy;if(n>=e.lastRequestId){if(s&&"none"===c)throw e.markError(new tK({graphQLErrors:a}));e.markResult(o,i,r,t),e.markReady()}var l={data:o.data,loading:!1,networkStatus:u.ready};return s&&"none"===c&&(l.data=void 0),s&&"ignore"!==c&&(l.errors=a,l.networkStatus=u.error),l},function(t){var r=t$(t)?t:new tK({networkError:t});throw n>=e.lastRequestId&&e.markError(r),r})},e.prototype.fetchConcastWithInfo=function(e,t,r,n){var i,o,a=this;void 0===r&&(r=u.loading),void 0===n&&(n=t.query);var s=this.getVariables(n,t.variables),c=this.defaultOptions.watchQuery,l=t.fetchPolicy,d=void 0===l?c&&c.fetchPolicy||"cache-first":l,p=t.errorPolicy,f=void 0===p?c&&c.errorPolicy||"none":p,h=t.returnPartialData,y=t.notifyOnNetworkStatusChange,g=t.context,m=Object.assign({},t,{query:n,variables:s,fetchPolicy:d,errorPolicy:f,returnPartialData:void 0!==h&&h,notifyOnNetworkStatusChange:void 0!==y&&y,context:void 0===g?{}:g}),v=function(n){m.variables=n;var i=a.fetchQueryByPolicy(e,m,r);return"standby"!==m.fetchPolicy&&i.sources.length>0&&e.observableQuery&&e.observableQuery.applyNextFetchPolicy("after-fetch",t),i},_=function(){return a.fetchCancelFns.delete(e.queryId)};if(this.fetchCancelFns.set(e.queryId,function(e){_(),setTimeout(function(){return i.cancel(e)})}),this.getDocumentInfo(m.query).hasClientExports)i=new rv(this.localState.addExportedVariables(m.query,m.variables,m.context).then(v).then(function(e){return e.sources})),o=!0;else{var b=v(m.variables);o=b.fromLink,i=new rv(b.sources)}return i.promise.then(_,_),{concast:i,fromLink:o}},e.prototype.refetchQueries=function(e){var t=this,r=e.updateCache,n=e.include,i=e.optimistic,o=void 0!==i&&i,a=e.removeOptimistic,s=void 0===a?o?S("refetchQueries"):void 0:a,u=e.onQueryUpdated,c=new Map;n&&this.getObservableQueries(n).forEach(function(e,r){c.set(r,{oq:e,lastDiff:(t.queries.get(r)||e.queryInfo).getDiff()})});var l=new Map;return r&&this.cache.batch({update:r,optimistic:o&&s||!1,removeOptimistic:s,onWatchUpdated:function(e,t,r){var n=e.watcher instanceof rM&&e.watcher.observableQuery;if(n){if(u){c.delete(n.queryId);var i=u(n,t,r);return!0===i&&(i=n.refetch()),!1!==i&&l.set(n,i),i}null!==u&&c.set(n.queryId,{oq:n,lastDiff:r,diff:t})}}}),c.size&&c.forEach(function(e,r){var n,i=e.oq,o=e.lastDiff,a=e.diff;u&&(a||(a=tb("canonizeResults",function(){return t.cache.diff(i.queryInfo.getDiffOptions())})),n=u(i,a,o)),u&&!0!==n||(n=i.refetch()),!1!==n&&l.set(i,n),r.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(r)}),s&&this.cache.removeOptimistic(s),l},e.prototype.maskOperation=function(e){var t,r,n,i=e.document,o=e.data;if(!1!==globalThis.__DEV__){var a,s=e.fetchPolicy,u=e.id,c=null==(t=eU(i))?void 0:t.operation,l=(null!=(r=null==c?void 0:c[0])?r:"o")+u;!this.dataMasking||"no-cache"!==s||(a=!0,(0,Z.visit)(i,{FragmentSpread:function(e){if(!(a=!!e.directives&&e.directives.some(function(e){return"unmask"===e.name.value})))return Z.BREAK}}),a)||this.noCacheWarningsByQueryId.has(l)||(this.noCacheWarningsByQueryId.add(l),!1!==globalThis.__DEV__&&T.warn(45,null!=(n=eW(i))?n:"Unnamed ".concat(null!=c?c:"operation")))}return this.dataMasking?function(e,t,r){if(!r.fragmentMatches)return!1!==globalThis.__DEV__&&rH(),e;var n,i=eU(t);return(T(i,63),null==e)?e:rq(e,i.selectionSet,{operationType:i.operation,operationName:null==(n=i.name)?void 0:n.value,fragmentMap:et(eF(t)),cache:r,mutableTargets:new rU,knownChanged:new rW})}(o,i,this.cache):o},e.prototype.maskFragment=function(e){var t=e.data,r=e.fragment,n=e.fragmentName;return this.dataMasking?rJ(t,r,this.cache,n):t},e.prototype.fetchQueryByPolicy=function(e,t,r){var n=this,i=t.query,o=t.variables,a=t.fetchPolicy,s=t.refetchWritePolicy,c=t.errorPolicy,d=t.returnPartialData,p=t.context,f=t.notifyOnNetworkStatusChange,h=e.networkStatus;e.init({document:i,variables:o,networkStatus:r});var y=function(){return e.getDiff()},g=function(t,r){void 0===r&&(r=e.networkStatus||u.loading);var a=t.result;!1===globalThis.__DEV__||d||ru(a,{})||rI(t.missing);var s=function(e){return X.of((0,l.__assign)({data:e,loading:rw(r),networkStatus:r},t.complete?null:{partial:!0}))};return a&&n.getDocumentInfo(i).hasForcedResolvers?n.localState.runResolvers({document:i,remoteResult:{data:a},context:p,variables:o,onlyRunForcedResolvers:!0}).then(function(e){return s(e.data||void 0)}):"none"===c&&r===u.refetch&&Array.isArray(t.missing)?s(void 0):s(a)},m="no-cache"===a?0:r===u.refetch&&"merge"!==s?1:2,v=function(){return n.getResultsFromLink(e,m,{query:i,variables:o,context:p,fetchPolicy:a,errorPolicy:c})},_=f&&"number"==typeof h&&h!==r&&rw(r);switch(a){default:case"cache-first":var b=y();if(b.complete)return{fromLink:!1,sources:[g(b,e.markReady())]};if(d||_)return{fromLink:!0,sources:[g(b),v()]};return{fromLink:!0,sources:[v()]};case"cache-and-network":var b=y();if(b.complete||d||_)return{fromLink:!0,sources:[g(b),v()]};return{fromLink:!0,sources:[v()]};case"cache-only":return{fromLink:!1,sources:[g(y(),e.markReady())]};case"network-only":if(_)return{fromLink:!0,sources:[g(y()),v()]};return{fromLink:!0,sources:[v()]};case"no-cache":if(_)return{fromLink:!0,sources:[g(e.getDiff()),v()]};return{fromLink:!0,sources:[v()]};case"standby":return{fromLink:!1,sources:[]}}},e.prototype.getOrCreateQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new rM(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,l.__assign)((0,l.__assign)((0,l.__assign)({},this.defaultContext),t),{clientAwareness:this.clientAwareness})},e}();function rG(e){return e.kind===tx.Kind.FIELD||e.kind===tx.Kind.FRAGMENT_SPREAD||e.kind===tx.Kind.INLINE_FRAGMENT}var rQ=new e2,rX=new WeakMap;function rY(e){var t=rX.get(e);return t||rX.set(e,t={vars:new Set,dep:th()}),t}function rZ(e){rY(e).vars.forEach(function(t){return t.forgetCache(e)})}function r0(e){var t=new Set,r=new Set,n=function(o){if(arguments.length>0){if(e!==o){e=o,t.forEach(function(e){var t;rY(e).dep.dirty(n),(t=e).broadcastWatches&&t.broadcastWatches()});var a=Array.from(r);r.clear(),a.forEach(function(t){return t(e)})}}else{var s=rQ.getValue();s&&(i(s),rY(s).dep(n))}return e};n.onNextChange=function(e){return r.add(e),function(){r.delete(e)}};var i=n.attachCache=function(e){return t.add(e),rY(e).vars.add(n),n};return n.forgetCache=function(e){return t.delete(e)},n}var r1=function(){function e(e){var t=e.cache,r=e.client,n=e.resolvers,i=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,r&&(this.client=r),n&&this.addResolvers(n),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(e){t.resolvers=tV(t.resolvers,e)}):this.resolvers=tV(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){return(0,l.__awaiter)(this,arguments,void 0,function(e){var t=e.document,r=e.remoteResult,n=e.context,i=e.variables,o=e.onlyRunForcedResolvers,a=void 0!==o&&o;return(0,l.__generator)(this,function(e){return t?[2,this.resolveDocument(t,r.data,n,i,this.fragmentMatcher,a).then(function(e){return(0,l.__assign)((0,l.__assign)({},r),{data:e.result})})]:[2,r]})})},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return tP(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return re(e)},e.prototype.prepareContext=function(e){var t=this.cache;return(0,l.__assign)((0,l.__assign)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e){return(0,l.__awaiter)(this,arguments,void 0,function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),(0,l.__generator)(this,function(n){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(r),t).then(function(e){return(0,l.__assign)((0,l.__assign)({},t),e.exportedVariables)})]:[2,(0,l.__assign)({},t)]})})},e.prototype.shouldForceResolvers=function(e){var t=!1;return(0,Z.visit)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some(function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value})))return Z.BREAK}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:"query"===eK(e).operation?e:(0,Z.visit)(e,{OperationDefinition:{enter:function(e){return(0,l.__assign)((0,l.__assign)({},e),{operation:"query"})}}}),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t){return(0,l.__awaiter)(this,arguments,void 0,function(e,t,r,n,i,o){var a,s,u,c,d,p,f,h,y;return void 0===r&&(r={}),void 0===n&&(n={}),void 0===i&&(i=function(){return!0}),void 0===o&&(o=!1),(0,l.__generator)(this,function(g){return a=eK(e),s=et(eF(e)),u=this.collectSelectionsToResolve(a,s),d=(c=a.operation)?c.charAt(0).toUpperCase()+c.slice(1):"Query",p=this,f=p.cache,h=p.client,y={fragmentMap:s,context:(0,l.__assign)((0,l.__assign)({},r),{cache:f,client:h}),variables:n,fragmentMatcher:i,defaultOperationType:d,exportedVariables:{},selectionsToResolve:u,onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(a.selectionSet,!1,t,y).then(function(e){return{result:e,exportedVariables:y.exportedVariables}})]})})},e.prototype.resolveSelectionSet=function(e,t,r,n){return(0,l.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c=this;return(0,l.__generator)(this,function(d){return i=n.fragmentMap,o=n.context,a=n.variables,s=[r],u=function(e){return(0,l.__awaiter)(c,void 0,void 0,function(){var u,c;return(0,l.__generator)(this,function(l){return(t||n.selectionsToResolve.has(e))&&tR(e,a)?eM(e)?[2,this.resolveField(e,t,r,n).then(function(t){var r;void 0!==t&&s.push(((r={})[ej(e)]=t,r))})]:("InlineFragment"===e.kind?u=e:T(u=i[e.name.value],21,e.name.value),u&&u.typeCondition&&(c=u.typeCondition.name.value,n.fragmentMatcher(r,c,o)))?[2,this.resolveSelectionSet(u.selectionSet,t,r,n).then(function(e){s.push(e)})]:[2]:[2]})})},[2,Promise.all(e.selections.map(u)).then(function(){return tz(s)})]})})},e.prototype.resolveField=function(e,t,r,n){return(0,l.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c,d,p,f,h=this;return(0,l.__generator)(this,function(l){return r?(i=n.variables,s=(o=e.name.value)!==(a=ej(e)),c=Promise.resolve(u=r[a]||r[o]),(!n.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(d=r.__typename||n.defaultOperationType,(p=this.resolvers&&this.resolvers[d])&&(f=p[s?o:a])&&(c=Promise.resolve(rQ.withValue(this.cache,f,[r,eN(e,i),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,c.then(function(r){if(void 0===r&&(r=u),e.directives&&e.directives.forEach(function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach(function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=r)})}),!e.selectionSet||null==r)return r;var i,o,a=null!=(o=null==(i=e.directives)?void 0:i.some(function(e){return"client"===e.name.value}))&&o;return Array.isArray(r)?h.resolveSubSelectedArray(e,t||a,r,n):e.selectionSet?h.resolveSelectionSet(e.selectionSet,t||a,r,n):void 0})]):[2,null]})})},e.prototype.resolveSubSelectedArray=function(e,t,r,n){var i=this;return Promise.all(r.map(function(r){return null===r?null:Array.isArray(r)?i.resolveSubSelectedArray(e,t,r,n):e.selectionSet?i.resolveSelectionSet(e.selectionSet,t,r,n):void 0}))},e.prototype.collectSelectionsToResolve=function(e,t){var r=function(e){return!Array.isArray(e)},n=this.selectionsToResolveCache;return function e(i){if(!n.has(i)){var o=new Set;n.set(i,o),(0,Z.visit)(i,{Directive:function(e,t,n,i,a){"client"===e.name.value&&a.forEach(function(e){r(e)&&rG(e)&&o.add(e)})},FragmentSpread:function(n,i,a,s,u){var c=t[n.name.value];T(c,22,n.name.value);var l=e(c);l.size>0&&(u.forEach(function(e){r(e)&&rG(e)&&o.add(e)}),o.add(n),l.forEach(function(e){o.add(e)}))}})}return n.get(i)}(e)},e}();function r2(e,t){return rk(e,t,t.variables&&{variables:rk((0,l.__assign)((0,l.__assign)({},e&&e.variables),t.variables))})}var r5=function(){function e(e){var t,r,n,i=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw A(16);var o=e.uri,a=e.credentials,s=e.headers,u=e.cache,c=e.documentTransform,d=e.ssrMode,p=void 0!==d&&d,f=e.ssrForceFetchDelay,h=void 0===f?0:f,y=e.connectToDevTools,g=e.queryDeduplication,m=void 0===g||g,v=e.defaultOptions,b=e.defaultContext,w=e.assumeImmutableResults,E=void 0===w?u.assumeImmutableResults:w,S=e.resolvers,k=e.typeDefs,O=e.fragmentMatcher,x=e.clientAwareness,R=e.name,P=e.version,C=e.devtools,I=e.dataMasking;!1!==globalThis.__DEV__&&(tw(e,"connectToDevTools","ApolloClient","Please use `devtools.enabled` instead."),tw(e,"uri","ApolloClient","Please initialize an instance of `HttpLink` with `uri` instead."),tw(e,"credentials","ApolloClient","Please initialize an instance of `HttpLink` with `credentials` instead."),tw(e,"headers","ApolloClient","Please initialize an instance of `HttpLink` with `headers` instead."),tw(e,"name","ApolloClient","Please use the `clientAwareness.name` option instead."),tw(e,"version","ApolloClient","Please use the `clientAwareness.version` option instead."),tw(e,"typeDefs","ApolloClient"),e.link||!1===globalThis.__DEV__||T.warn(17));var N=e.link;N||(N=o?new rn({uri:o,credentials:a,headers:s}):tT.empty()),this.link=N,this.cache=u,this.disableNetworkFetches=p||h>0,this.queryDeduplication=m,this.defaultOptions=v||Object.create(null),this.typeDefs=k,this.devtoolsConfig=(0,l.__assign)((0,l.__assign)({},C),{enabled:null!=(t=null==C?void 0:C.enabled)?t:y}),void 0===this.devtoolsConfig.enabled&&(this.devtoolsConfig.enabled=!1!==globalThis.__DEV__),h&&setTimeout(function(){return i.disableNetworkFetches=!1},h),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=_,this.localState=new r1({cache:u,client:this,resolvers:S,fragmentMatcher:O}),this.queryManager=new rz({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:b,documentTransform:c,queryDeduplication:m,ssrMode:p,dataMasking:!!I,clientAwareness:{name:null!=(r=null==x?void 0:x.name)?r:R,version:null!=(n=null==x?void 0:x.version)?n:P},localState:this.localState,assumeImmutableResults:E,onBroadcast:this.devtoolsConfig.enabled?function(){i.devToolsHookCb&&i.devToolsHookCb({action:{},state:{queries:i.queryManager.getQueryStore(),mutations:i.queryManager.mutationStore||{}},dataWithOptimisticResults:i.cache.extract(!0)})}:void 0}),this.devtoolsConfig.enabled&&this.connectToDevTools()}return Object.defineProperty(e.prototype,"prioritizeCacheValues",{get:function(){return this.disableNetworkFetches},set:function(e){this.disableNetworkFetches=e},enumerable:!1,configurable:!0}),e.prototype.connectToDevTools=function(){},Object.defineProperty(e.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=r2(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&("network-only"===e.fetchPolicy||"cache-and-network"===e.fetchPolicy)&&(e=(0,l.__assign)((0,l.__assign)({},e),{fetchPolicy:"cache-first"})),!1!==globalThis.__DEV__&&(tw(e,"canonizeResults","client.watchQuery"),tw(e,"partialRefetch","client.watchQuery")),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=r2(this.defaultOptions.query,e)),T("cache-and-network"!==e.fetchPolicy,18),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,l.__assign)((0,l.__assign)({},e),{fetchPolicy:"cache-first"})),!1!==globalThis.__DEV__&&(tw(e,"canonizeResults","client.query"),tw(e,"notifyOnNetworkStatusChange","client.query","This option does not affect `client.query` and can be safely removed."),"standby"===e.fetchPolicy&&!1!==globalThis.__DEV__&&T.warn(19)),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=r2(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){var t=this,r=this.queryManager.generateQueryId();return this.queryManager.startGraphQLSubscription(e).map(function(n){return(0,l.__assign)((0,l.__assign)({},n),{data:t.queryManager.maskOperation({document:e.query,data:n.data,fetchPolicy:e.fetchPolicy,id:r})})})},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.watchFragment=function(e){var t;return this.cache.watchFragment((0,l.__assign)((0,l.__assign)({},e),((t={})[Symbol.for("apollo.dataMasking")]=this.queryManager.dataMasking,t)))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return tA(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(e){return e()}))}).then(function(){return e.reFetchObservableQueries()})},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(e){return e()}))})},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(t){return t!==e})}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(t){return t!==e})}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),r=[],n=[];t.forEach(function(e,t){r.push(t),n.push(e)});var i=Promise.all(n);return i.queries=r,i.results=n,i.catch(function(e){!1!==globalThis.__DEV__&&T.debug(20,e)}),i},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},Object.defineProperty(e.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),e}();!1!==globalThis.__DEV__&&(r5.prototype.getMemoryInternals=em);var r4=function(){function e(){this.assumeImmutableResults=!1,this.getFragmentDoc=tm(ee,{max:ey["cache.fragmentQueryDocuments"]||1e3,cache:es})}return e.prototype.lookupFragment=function(e){return null},e.prototype.batch=function(e){var t,r=this,n="string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction(function(){return t=e.update(r)},n),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.readQuery=function(e,t){var r=this;return void 0===t&&(t=!!e.optimistic),!1!==globalThis.__DEV__&&tw(e,"canonizeResults","cache.readQuery"),tb("canonizeResults",function(){return r.read((0,l.__assign)((0,l.__assign)({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))})},e.prototype.watchFragment=function(e){var t,r=this,n=e.fragment,i=e.fragmentName,o=e.from,a=e.optimistic,s=(0,l.__rest)(e,["fragment","fragmentName","from","optimistic"]),u=this.getFragmentDoc(n,i),c=void 0===o||"string"==typeof o?o:this.identify(o),d=!!e[Symbol.for("apollo.dataMasking")];if(!1!==globalThis.__DEV__){var p=i||eH(n).name.value;c||!1===globalThis.__DEV__||T.warn(1,p)}var f=(0,l.__assign)((0,l.__assign)({},s),{returnPartialData:!0,id:c,query:u,optimistic:void 0===a||a});return new X(function(o){return r.watch((0,l.__assign)((0,l.__assign)({},f),{immediate:!0,callback:function(a){var s=d?rJ(a.result,n,r,i):a.result;if(!(t&&rO(u,{data:t.result},{data:s},e.variables))){var c={data:s,complete:!!a.complete};a.missing&&(c.missing=tz(a.missing.map(function(e){return e.missing}))),t=(0,l.__assign)((0,l.__assign)({},a),{result:s}),o.next(c)}}}))})},e.prototype.readFragment=function(e,t){var r=this;return void 0===t&&(t=!!e.optimistic),!1!==globalThis.__DEV__&&tw(e,"canonizeResults","cache.readFragment"),tb("canonizeResults",function(){return r.read((0,l.__assign)((0,l.__assign)({},e),{query:r.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))})},e.prototype.writeQuery=function(e){var t=e.id,r=e.data,n=(0,l.__rest)(e,["id","data"]);return this.write(Object.assign(n,{dataId:t||"ROOT_QUERY",result:r}))},e.prototype.writeFragment=function(e){var t=e.id,r=e.data,n=e.fragment,i=e.fragmentName,o=(0,l.__rest)(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(n,i),dataId:t,result:r}))},e.prototype.updateQuery=function(e,t){return!1!==globalThis.__DEV__&&tw(e,"canonizeResults","cache.updateQuery"),this.batch({update:function(r){var n=tb("canonizeResults",function(){return r.readQuery(e)}),i=t(n);return null==i?n:(r.writeQuery((0,l.__assign)((0,l.__assign)({},e),{data:i})),i)}})},e.prototype.updateFragment=function(e,t){return!1!==globalThis.__DEV__&&tw(e,"canonizeResults","cache.updateFragment"),this.batch({update:function(r){var n=tb("canonizeResults",function(){return r.readFragment(e)}),i=t(n);return null==i?n:(r.writeFragment((0,l.__assign)((0,l.__assign)({},e),{data:i})),i)}})},e}();!1!==globalThis.__DEV__&&(r4.prototype.getMemoryInternals=e_);var r6=function(e){function t(r,n,i,o){var a,s=e.call(this,r)||this;if(s.message=r,s.path=n,s.query=i,s.variables=o,Array.isArray(s.path)){s.missing=s.message;for(var u=s.path.length-1;u>=0;--u)(a={})[s.path[u]]=s.missing,s.missing=a}else s.missing=s.path;return s.__proto__=t.prototype,s}return(0,l.__extends)(t,e),t}(Error),r8=Object.prototype.hasOwnProperty;function r3(e){return null==e}function r9(e,t){var r=e.__typename,n=e.id,i=e._id;if("string"==typeof r&&(t&&(t.keyObject=r3(n)?r3(i)?void 0:{_id:i}:{id:n}),r3(n)&&!r3(i)&&(n=i),!r3(n)))return"".concat(r,":").concat("number"==typeof n||"string"==typeof n?n:JSON.stringify(n))}var r7={dataIdFromObject:r9,addTypename:!0,resultCaching:!0,canonizeResults:!1};function ne(e){var t=e.canonizeResults;return void 0===t?r7.canonizeResults:t}var nt=/^[_a-z][_0-9a-z]*/i;function nr(e){var t=e.match(nt);return t?t[0]:e}function nn(e){return Y(e)&&!ex(e)&&!tq(e)}function ni(e,t){var r=et(eF(e));return{fragmentMap:r,lookupFragment:function(e){var n=r[e];return!n&&t&&(n=t.lookup(e)),n||null}}}var no=Object.create(null),na=function(){return no},ns=Object.create(null),nu=function(){function e(e,t){var r=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return rK(ex(e)?r.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return ex(e)?r.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return eA(e);if(ex(e))return e;var n=r.policies.identify(e)[0];if(n){var i=eA(n);return t&&r.merge(n,e),i}}}return e.prototype.toObject=function(){return(0,l.__assign)({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),r8.call(this.data,e)){var r=this.data[e];if(r&&r8.call(r,t))return r[t]}return"__typename"===t&&r8.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof nd?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return(t&&this.group.depend(e,"__exists"),r8.call(this.data,e))?this.data[e]:this instanceof nd?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var r,n=this;ex(e)&&(e=e.__ref),ex(t)&&(t=t.__ref);var i="string"==typeof e?this.lookup(r=e):e,o="string"==typeof t?this.lookup(r=t):t;if(o){T("string"==typeof r,2);var a=new tQ(nf).merge(i,o);if(this.data[r]=a,a!==i&&(delete this.refs[r],this.group.caching)){var s=Object.create(null);i||(s.__exists=1),Object.keys(o).forEach(function(e){if(!i||i[e]!==a[e]){s[e]=1;var t=nr(e);t===e||n.policies.hasKeyArgs(a.__typename,t)||(s[t]=1),void 0!==a[e]||n instanceof nd||delete a[e]}}),s.__typename&&!(i&&i.__typename)&&this.policies.rootTypenamesById[r]===a.__typename&&delete s.__typename,Object.keys(s).forEach(function(e){return n.group.dirty(r,e)})}}},e.prototype.modify=function(e,t){var r=this,n=this.lookup(e);if(n){var i=Object.create(null),o=!1,a=!0,s={DELETE:no,INVALIDATE:ns,isReference:ex,toReference:this.toReference,canRead:this.canRead,readField:function(t,n){return r.policies.readField("string"==typeof t?{fieldName:t,from:n||eA(e)}:t,{store:r})}};if(Object.keys(n).forEach(function(u){var c=nr(u),d=n[u];if(void 0!==d){var p="function"==typeof t?t:t[u]||t[c];if(p){var f=p===na?no:p(rK(d),(0,l.__assign)((0,l.__assign)({},s),{fieldName:c,storeFieldName:u,storage:r.getStorage(e,u)}));if(f===ns)r.group.dirty(e,u);else if(f===no&&(f=void 0),f!==d&&(i[u]=f,o=!0,d=f,!1!==globalThis.__DEV__)){var h=function(e){if(void 0===r.lookup(e.__ref))return!1!==globalThis.__DEV__&&T.warn(3,e),!0};if(ex(f))h(f);else if(Array.isArray(f))for(var y=!1,g=void 0,m=0,v=f;m<v.length;m++){var _=v[m];if(ex(_)){if(y=!0,h(_))break}else"object"==typeof _&&_&&r.policies.identify(_)[0]&&(g=_);if(y&&void 0!==g){!1!==globalThis.__DEV__&&T.warn(4,g);break}}}}void 0!==d&&(a=!1)}}),o)return this.merge(e,i),a&&(this instanceof nd?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,r){var n,i=this.lookup(e);if(i){var o=this.getFieldValue(i,"__typename"),a=t&&r?this.policies.getStoreFieldName({typename:o,fieldName:t,args:r}):t;return this.modify(e,a?((n={})[a]=na,n):na)}return!1},e.prototype.evict=function(e,t){var r=!1;return e.id&&(r8.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof nd&&this!==t&&(r=this.parent.evict(e,t)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),r=[];return this.getRootIdSet().forEach(function(t){r8.call(e.policies.rootTypenamesById,t)||r.push(t)}),r.length&&(t.__META={extraRootIds:r.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach(function(r){e&&r8.call(e,r)||t.delete(r)}),e){var r=e.__META,n=(0,l.__rest)(e,["__META"]);Object.keys(n).forEach(function(e){t.merge(e,n[e])}),r&&r.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof nd?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),r=this.toObject();t.forEach(function(n){r8.call(r,n)&&(Object.keys(e.findChildRefIds(n)).forEach(t.add,t),delete r[n])});var n=Object.keys(r);if(n.length){for(var i=this;i instanceof nd;)i=i.parent;n.forEach(function(e){return i.delete(e)})}return n},e.prototype.findChildRefIds=function(e){if(!r8.call(this.refs,e)){var t=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return t;var n=new Set([r]);n.forEach(function(e){ex(e)&&(t[e.__ref]=!0),Y(e)&&Object.keys(e).forEach(function(t){var r=e[t];Y(r)&&n.add(r)})})}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),nc=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?th():null,this.keyMaker=new eG(tj)},e.prototype.depend=function(e,t){if(this.d){this.d(t+"#"+e);var r=nr(t);r!==t&&this.d(r+"#"+e),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(t+"#"+e,"__exists"===t?"forget":"setDirty")},e}();function nl(e,t){nh(e)&&e.group.depend(t,"__exists")}o=function(e){function t(t){var r=t.policies,n=t.resultCaching,i=t.seed,o=e.call(this,r,new nc(void 0===n||n))||this;return o.stump=new np(o),o.storageTrie=new eG(tj),i&&o.replace(i),o}return(0,l.__extends)(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(i=nu||(nu={})),i.Root=o;var nd=function(e){function t(t,r,n,i){var o=e.call(this,r.policies,i)||this;return o.id=t,o.parent=r,o.replay=n,o.group=i,n(o),o}return(0,l.__extends)(t,e),t.prototype.addLayer=function(e,r){return new t(e,this,r,this.group)},t.prototype.removeLayer=function(e){var t=this,r=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(e){var n=t.data[e],i=r.lookup(e);i?n?n!==i&&Object.keys(n).forEach(function(r){ru(n[r],i[r])||t.group.dirty(e,r)}):(t.group.dirty(e,"__exists"),Object.keys(i).forEach(function(r){t.group.dirty(e,r)})):t.delete(e)}),r):r===this.parent?this:r.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,l.__assign)((0,l.__assign)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var r=this.parent.findChildRefIds(t);return r8.call(this.data,t)?(0,l.__assign)((0,l.__assign)({},r),e.prototype.findChildRefIds.call(this,t)):r},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(nu),np=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,function(){},new nc(t.group.caching,t.group))||this}return(0,l.__extends)(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(e,t){return this.parent.merge(e,t)},t}(nd);function nf(e,t,r){var n=e[r],i=t[r];return ru(n,i)?n:i}function nh(e){return!!(e instanceof nu&&e.group.caching)}var ny=function(){function e(){this.known=new(tD?WeakSet:Set),this.pool=new eG(tj),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return Y(e)&&this.known.has(e)},e.prototype.pass=function(e){if(Y(e)){var t=Y(e)?tq(e)?e.slice(0):(0,l.__assign)({__proto__:Object.getPrototypeOf(e)},e):e;return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if(Y(e)){var r=this.passes.get(e);if(r)return r;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))break;var n=e.map(this.admit,this),i=this.pool.lookupArray(n);return i.array||(this.known.add(i.array=n),!1!==globalThis.__DEV__&&Object.freeze(n)),i.array;case null:case Object.prototype:if(this.known.has(e))break;var o=Object.getPrototypeOf(e),a=[o],s=this.sortedKeys(e);a.push(s.json);var u=a.length;s.sorted.forEach(function(r){a.push(t.admit(e[r]))});var i=this.pool.lookupArray(a);if(!i.object){var c=i.object=Object.create(o);this.known.add(c),s.sorted.forEach(function(e,t){c[e]=a[u+t]}),!1!==globalThis.__DEV__&&Object.freeze(c)}return i.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),r=this.pool.lookupArray(t);if(!r.keys){t.sort();var n=JSON.stringify(t);(r.keys=this.keysByJSON.get(n))||this.keysByJSON.set(n,r.keys={sorted:t,json:n})}return r.keys},e}();function ng(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var nm=function(){function e(e){var t=this;this.knownResults=new(tj?WeakMap:Map),this.config=rk(e,{addTypename:!1!==e.addTypename,canonizeResults:ne(e)}),this.canon=e.canon||new ny,this.executeSelectionSet=tm(function(e){var r,n=e.context.canonizeResults,i=ng(e);i[3]=!n;var o=(r=t.executeSelectionSet).peek.apply(r,i);return o?n?(0,l.__assign)((0,l.__assign)({},o),{result:t.canon.admit(o.result)}):o:(nl(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))},{max:this.config.resultCacheMaxSize||ey["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:ng,makeCacheKey:function(e,t,r,n){if(nh(r.store))return r.store.makeCacheKey(e,ex(t)?t.__ref:t,r.varString,n)}}),this.executeSubSelectedArray=tm(function(e){return nl(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)},{max:this.config.resultCacheMaxSize||ey["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(e){var t=e.field,r=e.array,n=e.context;if(nh(n.store))return n.store.makeCacheKey(t,r,n.varString)}})}return e.prototype.resetCanon=function(){this.canon=new ny},e.prototype.diffQueryAgainstStore=function(e){var t,r=e.store,n=e.query,i=e.rootId,o=e.variables,a=e.returnPartialData,s=e.canonizeResults,u=void 0===s?this.config.canonizeResults:s,c=this.config.cache.policies;o=(0,l.__assign)((0,l.__assign)({},eq(e$(n))),o);var d=eA(void 0===i?"ROOT_QUERY":i),p=this.executeSelectionSet({selectionSet:eK(n).selectionSet,objectOrReference:d,enclosingRef:d,context:(0,l.__assign)({store:r,query:n,policies:c,variables:o,varString:ek(o),canonizeResults:u},ni(n,this.config.fragments))});if(p.missing&&(t=[new r6(function(e){try{JSON.stringify(e,function(e,t){if("string"==typeof t)throw t;return t})}catch(e){return e}}(p.missing),p.missing,n,o)],!(void 0===a||a)))throw t[0];return{result:p.result,complete:!t,missing:t}},e.prototype.isFresh=function(e,t,r,n){if(nh(n.store)&&this.knownResults.get(e)===r){var i=this.executeSelectionSet.peek(r,t,n,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t,r=this,n=e.selectionSet,i=e.objectOrReference,o=e.enclosingRef,a=e.context;if(ex(i)&&!a.policies.rootTypenamesById[i.__ref]&&!a.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var s=a.variables,u=a.policies,c=a.store.getFieldValue(i,"__typename"),l=[],d=new tQ;function p(e,r){var n;return e.missing&&(t=d.merge(t,((n={})[r]=e.missing,n))),e.result}this.config.addTypename&&"string"==typeof c&&!u.rootIdsByTypename[c]&&l.push({__typename:c});var f=new Set(n.selections);f.forEach(function(e){var n,h;if(tR(e,s))if(eM(e)){var y=u.readField({fieldName:e.name.value,field:e,variables:a.variables,from:i},a),g=ej(e);void 0===y?t7.added(e)||(t=d.merge(t,((n={})[g]="Can't find field '".concat(e.name.value,"' on ").concat(ex(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),n))):tq(y)?y.length>0&&(y=p(r.executeSubSelectedArray({field:e,array:y,enclosingRef:o,context:a}),g)):e.selectionSet?null!=y&&(y=p(r.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:y,enclosingRef:ex(y)?y:o,context:a}),g)):a.canonizeResults&&(y=r.canon.pass(y)),void 0!==y&&l.push(((h={})[g]=y,h))}else{var m=er(e,a.lookupFragment);if(!m&&e.kind===tx.Kind.FRAGMENT_SPREAD)throw A(10,e.name.value);m&&u.fragmentMatches(m,c)&&m.selectionSet.selections.forEach(f.add,f)}});var h={result:tz(l),missing:t},y=a.canonizeResults?this.canon.admit(h):rK(h);return y.result&&this.knownResults.set(y.result,n),y},e.prototype.execSubSelectedArrayImpl=function(e){var t,r=this,n=e.field,i=e.array,o=e.enclosingRef,a=e.context,s=new tQ;function u(e,r){var n;return e.missing&&(t=s.merge(t,((n={})[r]=e.missing,n))),e.result}return n.selectionSet&&(i=i.filter(a.store.canRead)),i=i.map(function(e,t){return null===e?null:tq(e)?u(r.executeSubSelectedArray({field:n,array:e,enclosingRef:o,context:a}),t):n.selectionSet?u(r.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:e,enclosingRef:ex(e)?e:o,context:a}),t):(!1!==globalThis.__DEV__&&function(e,t,r){if(!t.selectionSet){var n=new Set([r]);n.forEach(function(r){Y(r)&&(T(!ex(r),11,ex(r)?e.get(r.__ref,"__typename"):r&&r.__typename,t.name.value),Object.values(r).forEach(n.add,n))})}}(a.store,n,e),e)}),{result:a.canonizeResults?this.canon.admit(i):i,missing:t}},e}(),nv=Object.create(null);function n_(e){var t=JSON.stringify(e);return nv[t]||(nv[t]=Object.create(null))}function nb(e){var t=n_(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,r){var n=function(e,t){return r.readField(t,e)},i=r.keyObject=nE(e,function(e){var i=nk(r.storeObject,e,n);return void 0===i&&t!==r.storeObject&&r8.call(t,e[0])&&(i=nk(t,e,nS)),T(void 0!==i,5,e.join("."),t),i});return"".concat(r.typename,":").concat(JSON.stringify(i))})}function nw(e){var t=n_(e);return t.keyArgsFn||(t.keyArgsFn=function(t,r){var n=r.field,i=r.variables,o=r.fieldName,a=JSON.stringify(nE(e,function(e){var r=e[0],o=r.charAt(0);if("@"===o){if(n&&tJ(n.directives)){var a=r.slice(1),s=n.directives.find(function(e){return e.name.value===a}),u=s&&eN(s,i);return u&&nk(u,e.slice(1))}return}if("$"===o){var c=r.slice(1);if(i&&r8.call(i,c)){var l=e.slice(0);return l[0]=c,nk(i,l)}return}if(t)return nk(t,e)}));return(t||"{}"!==a)&&(o+=":"+a),o})}function nE(e,t){var r=new tQ;return(function e(t){var r=n_(t);if(!r.paths){var n=r.paths=[],i=[];t.forEach(function(r,o){tq(r)?(e(r).forEach(function(e){return n.push(i.concat(e))}),i.length=0):(i.push(r),tq(t[o+1])||(n.push(i.slice(0)),i.length=0))})}return r.paths})(e).reduce(function(e,n){var i,o=t(n);if(void 0!==o){for(var a=n.length-1;a>=0;--a)(i={})[n[a]]=o,o=i;e=r.merge(e,o)}return e},Object.create(null))}function nS(e,t){return e[t]}function nk(e,t,r){return r=r||nS,function e(t){return Y(t)?tq(t)?t.map(e):nE(Object.keys(t).sort(),function(e){return nk(t,e)}):t}(t.reduce(function e(t,n){return tq(t)?t.map(function(t){return e(t,n)}):t&&r(t,n)},e))}function nO(e){return void 0!==e.args?e.args:e.field?eN(e.field,e.variables):null}var nT=function(){},nA=function(e,t){return t.fieldName},nx=function(e,t,r){return(0,r.mergeObjects)(e,t)},nR=function(e,t){return t},nP=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,l.__assign)({dataIdFromObject:r9},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var r,n,i=this,o=t&&(t.typename||(null==(r=t.storeObject)?void 0:r.__typename))||e.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];var a=t&&t.storeObject||e,s=(0,l.__assign)((0,l.__assign)({},t),{typename:o,storeObject:a,readField:t&&t.readField||function(){var e=nI(arguments,a);return i.readField(e,{store:i.cache.data,variables:e.variables})}}),u=o&&this.getTypePolicy(o),c=u&&u.keyFn||this.config.dataIdFromObject;return rF.withValue(!0,function(){for(;c;){var t=c((0,l.__assign)((0,l.__assign)({},e),a),s);if(tq(t))c=nb(t);else{n=t;break}}}),n=n?String(n):void 0,s.keyObject?[n,s.keyObject]:[n]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach(function(r){var n=e[r],i=n.queryType,o=n.mutationType,a=n.subscriptionType,s=(0,l.__rest)(n,["queryType","mutationType","subscriptionType"]);i&&t.setRootTypename("Query",r),o&&t.setRootTypename("Mutation",r),a&&t.setRootTypename("Subscription",r),r8.call(t.toBeAdded,r)?t.toBeAdded[r].push(s):t.toBeAdded[r]=[s]})},e.prototype.updateTypePolicy=function(e,t,r){var n=this.getTypePolicy(e),i=t.keyFields,o=t.fields;function a(e,t){e.merge="function"==typeof t?t:!0===t?nx:!1===t?nR:e.merge}a(n,t.merge),n.keyFn=!1===i?nT:tq(i)?nb(i):"function"==typeof i?i:n.keyFn,o&&Object.keys(o).forEach(function(t){var n=r[t];n&&(null==n?void 0:n.typename)===e||(n=r[t]={typename:e});var i=o[t];if("function"==typeof i)n.read=i;else{var s=i.keyArgs,u=i.read,c=i.merge;n.keyFn=!1===s?nA:tq(s)?nw(s):"function"==typeof s?s:n.keyFn,"function"==typeof u&&(n.read=u),a(n,c)}n.read&&n.merge&&(n.keyFn=n.keyFn||nA)})},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var r="ROOT_"+e.toUpperCase(),n=this.rootTypenamesById[r];t!==n&&(T(!n||n===e,6,e),n&&delete this.rootIdsByTypename[n],this.rootIdsByTypename[t]=r,this.rootTypenamesById[r]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(r){t.getSupertypeSet(r,!0),e[r].forEach(function(e){t.getSupertypeSet(e,!0).add(r);var n=e.match(nt);n&&n[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))})})},e.prototype.getTypePolicy=function(e){var t=this;if(!r8.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var n=this.supertypeMap.get(e);!n&&this.fuzzySubtypes.size&&(n=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach(function(r,i){if(r.test(e)){var o=t.supertypeMap.get(i);o&&o.forEach(function(e){return n.add(e)})}})),n&&n.size&&n.forEach(function(e){var n=t.getTypePolicy(e),i=n.fields;Object.assign(r,(0,l.__rest)(n,["fields"])),Object.assign(r.fields,i)})}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach(function(r){t.updateTypePolicy(e,r,t.typePolicies[e].fields)}),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t){if(e)return this.getTypePolicy(e).fields[t]},e.prototype.getSupertypeSet=function(e,t){var r=this.supertypeMap.get(e);return!r&&t&&this.supertypeMap.set(e,r=new Set),r},e.prototype.fragmentMatches=function(e,t,r,n){var i=this;if(!e.typeCondition)return!0;if(!t)return!1;var o=e.typeCondition.name.value;if(t===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var a=this.getSupertypeSet(t,!0),s=[a],u=function(e){var t=i.getSupertypeSet(e,!1);t&&t.size&&0>s.indexOf(t)&&s.push(t)},c=!!(r&&this.fuzzySubtypes.size),l=!1,d=0;d<s.length;++d){var p=s[d];if(p.has(o))return a.has(o)||(l&&!1!==globalThis.__DEV__&&T.warn(7,t,o),a.add(o)),!0;p.forEach(u),c&&d===s.length-1&&function e(t,r,n){return!!Y(r)&&(tq(r)?r.every(function(r){return e(t,r,n)}):t.selections.every(function(t){if(eM(t)&&tR(t,n)){var i=ej(t);return r8.call(r,i)&&(!t.selectionSet||e(t.selectionSet,r[i],n))}return!0}))}(e.selectionSet,r,n)&&(c=!1,l=!0,this.fuzzySubtypes.forEach(function(e,r){var n=t.match(e);n&&n[0]===t&&u(r)}))}return!1},e.prototype.hasKeyArgs=function(e,t){var r=this.getFieldPolicy(e,t);return!!(r&&r.keyFn)},e.prototype.getStoreFieldName=function(e){var t,r,n,i,o,a=e.typename,s=e.fieldName,u=this.getFieldPolicy(a,s),c=u&&u.keyFn;if(c&&a)for(var l={typename:a,fieldName:s,field:e.field||null,variables:e.variables},d=nO(e);c;){var p=c(d,l);if(tq(p))c=nw(p);else{o=p||s;break}}return(void 0===o&&(o=e.field?(t=e.field,r=e.variables,n=null,t.directives&&(n={},t.directives.forEach(function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach(function(t){var i=t.name,o=t.value;return eR(n[e.name.value],i,o,r)})})),i=null,t.arguments&&t.arguments.length&&(i={},t.arguments.forEach(function(e){var t=e.name,n=e.value;return eR(i,t,n,r)})),eI(t.name.value,i,n)):eI(s,nO(e))),!1===o)?s:s===nr(o)?o:s+":"+o},e.prototype.readField=function(e,t){var r=e.from;if(r&&(e.field||e.fieldName)){if(void 0===e.typename){var n=t.store.getFieldValue(r,"__typename");n&&(e.typename=n)}var i=this.getStoreFieldName(e),o=nr(i),a=t.store.getFieldValue(r,i),s=this.getFieldPolicy(e.typename,o),u=s&&s.read;if(u){var c=nC(this,r,e,t,t.store.getStorage(ex(r)?r.__ref:r,i));return rQ.withValue(this.cache,u,[a,c])}return a}},e.prototype.getReadFunction=function(e,t){var r=this.getFieldPolicy(e,t);return r&&r.read},e.prototype.getMergeFunction=function(e,t,r){var n=this.getFieldPolicy(e,t),i=n&&n.merge;return!i&&r&&(i=(n=this.getTypePolicy(r))&&n.merge),i},e.prototype.runMergeFunction=function(e,t,r,n,i){var o=r.field,a=r.typename,s=r.merge;return s===nx?nN(n.store)(e,t):s===nR?t:(n.overwrite&&(e=void 0),s(e,t,nC(this,void 0,{typename:a,fieldName:o.name.value,field:o,variables:n.variables},n,i||Object.create(null))))},e}();function nC(e,t,r,n,i){var o=e.getStoreFieldName(r),a=nr(o),s=r.variables||n.variables,u=n.store,c=u.toReference,l=u.canRead;return{args:nO(r),field:r.field||null,fieldName:a,storeFieldName:o,variables:s,isReference:ex,toReference:c,storage:i,cache:e.cache,canRead:l,readField:function(){return e.readField(nI(arguments,t,s),n)},mergeObjects:nN(n.store)}}function nI(e,t,r){var n,i=e[0],o=e[1],a=e.length;return"string"==typeof i?n={fieldName:i,from:a>1?o:t}:(n=(0,l.__assign)({},i),r8.call(n,"from")||(n.from=t)),!1!==globalThis.__DEV__&&void 0===n.from&&!1!==globalThis.__DEV__&&T.warn(8,k(Array.from(e))),void 0===n.variables&&(n.variables=r),n}function nN(e){return function(t,r){if(tq(t)||tq(r))throw A(9);if(Y(t)&&Y(r)){var n=e.getFieldValue(t,"__typename"),i=e.getFieldValue(r,"__typename");if(n&&i&&n!==i)return r;if(ex(t)&&nn(r))return e.merge(t.__ref,r),t;if(nn(t)&&ex(r))return e.merge(t,r.__ref),r;if(nn(t)&&nn(r))return(0,l.__assign)((0,l.__assign)({},t),r)}return r}}function nj(e,t,r){var n="".concat(t).concat(r),i=e.flavors.get(n);return i||e.flavors.set(n,i=e.clientOnly===t&&e.deferred===r?e:(0,l.__assign)((0,l.__assign)({},e),{clientOnly:t,deferred:r})),i}var nD=function(){function e(e,t,r){this.cache=e,this.reader=t,this.fragments=r}return e.prototype.writeToStore=function(e,t){var r=this,n=t.query,i=t.result,o=t.dataId,a=t.variables,s=t.overwrite,u=eU(n),c=new tQ;a=(0,l.__assign)((0,l.__assign)({},eq(u)),a);var d=(0,l.__assign)((0,l.__assign)({store:e,written:Object.create(null),merge:function(e,t){return c.merge(e,t)},variables:a,varString:ek(a)},ni(n,this.fragments)),{overwrite:!!s,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),p=this.processSelectionSet({result:i||Object.create(null),dataId:o,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:d});if(!ex(p))throw A(12,i);return d.incomingById.forEach(function(t,n){var i=t.storeObject,o=t.mergeTree,a=t.fieldNodeSet,s=eA(n);if(o&&o.map.size){var u=r.applyMerges(o,s,i,d);if(ex(u))return;i=u}if(!1!==globalThis.__DEV__&&!d.overwrite){var c=Object.create(null);a.forEach(function(e){e.selectionSet&&(c[e.name.value]=!0)});var p=function(e){var t=o&&o.map.get(e);return!!(t&&t.info&&t.info.merge)};Object.keys(i).forEach(function(e){!0!==c[nr(e)]||p(e)||function(e,t,r,n){var i=function(e){var t=n.getFieldValue(e,r);return"object"==typeof t&&t},o=i(e);if(o){var a=i(t);if(!(!a||ex(o)||ru(o,a)||Object.keys(o).every(function(e){return void 0!==n.getFieldValue(a,e)}))){var s=n.getFieldValue(e,"__typename")||n.getFieldValue(t,"__typename"),u=nr(r),c="".concat(s,".").concat(u);if(!nF.has(c)){nF.add(c);var d=[];tq(o)||tq(a)||[o,a].forEach(function(e){var t=n.getFieldValue(e,"__typename");"string"!=typeof t||d.includes(t)||d.push(t)}),!1!==globalThis.__DEV__&&T.warn(15,u,s,d.length?"either ensure all objects of type "+d.join(" and ")+" have an ID or a custom merge function, or ":"",c,(0,l.__assign)({},o),(0,l.__assign)({},a))}}}}(s,i,e,d.store)})}e.merge(n,i)}),e.retain(p.__ref),p},e.prototype.processSelectionSet=function(e){var t=this,r=e.dataId,n=e.result,i=e.selectionSet,o=e.context,a=e.mergeTree,s=this.cache.policies,u=Object.create(null),c=r&&s.rootTypenamesById[r]||eD(n,i,o.fragmentMap)||r&&o.store.get(r,"__typename");"string"==typeof c&&(u.__typename=c);var d=function(){var e=nI(arguments,u,o.variables);if(ex(e.from)){var t=o.incomingById.get(e.from.__ref);if(t){var r=s.readField((0,l.__assign)((0,l.__assign)({},e),{from:t.storeObject}),o);if(void 0!==r)return r}}return s.readField(e,o)},p=new Set;this.flattenFields(i,n,o,c).forEach(function(e,r){var i,o=n[ej(r)];if(p.add(r),void 0!==o){var l=s.getStoreFieldName({typename:c,fieldName:r.name.value,field:r,variables:e.variables}),f=nL(a,l),h=t.processFieldValue(o,r,r.selectionSet?nj(e,!1,!1):e,f),y=void 0;r.selectionSet&&(ex(h)||nn(h))&&(y=d("__typename",h));var g=s.getMergeFunction(c,r.name.value,y);g?f.info={field:r,typename:c,merge:g}:nW(a,l),u=e.merge(u,((i={})[l]=h,i))}else!1===globalThis.__DEV__||e.clientOnly||e.deferred||t7.added(r)||s.getReadFunction(c,r.name.value)||!1===globalThis.__DEV__||T.error(13,ej(r),n)});try{var f=s.identify(n,{typename:c,selectionSet:i,fragmentMap:o.fragmentMap,storeObject:u,readField:d}),h=f[0],y=f[1];r=r||h,y&&(u=o.merge(u,y))}catch(e){if(!r)throw e}if("string"==typeof r){var g=eA(r),m=o.written[r]||(o.written[r]=[]);if(m.indexOf(i)>=0||(m.push(i),this.reader&&this.reader.isFresh(n,g,i,o)))return g;var v=o.incomingById.get(r);return v?(v.storeObject=o.merge(v.storeObject,u),v.mergeTree=function e(t,r){if(t===r||!r||nU(r))return t;if(!t||nU(t))return r;var n=t.info&&r.info?(0,l.__assign)((0,l.__assign)({},t.info),r.info):t.info||r.info,i=t.map.size&&r.map.size,o={info:n,map:i?new Map:t.map.size?t.map:r.map};if(i){var a=new Set(r.map.keys());t.map.forEach(function(t,n){o.map.set(n,e(t,r.map.get(n))),a.delete(n)}),a.forEach(function(n){o.map.set(n,e(r.map.get(n),t.map.get(n)))})}return o}(v.mergeTree,a),p.forEach(function(e){return v.fieldNodeSet.add(e)})):o.incomingById.set(r,{storeObject:u,mergeTree:nU(a)?void 0:a,fieldNodeSet:p}),g}return u},e.prototype.processFieldValue=function(e,t,r,n){var i=this;return t.selectionSet&&null!==e?tq(e)?e.map(function(e,o){var a=i.processFieldValue(e,t,r,nL(n,o));return nW(n,o),a}):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:r,mergeTree:n}):!1!==globalThis.__DEV__?rS(e):e},e.prototype.flattenFields=function(e,t,r,n){void 0===n&&(n=eD(t,e,r.fragmentMap));var i=new Map,o=this.cache.policies,a=new eG(!1);return!function e(s,u){var c=a.lookup(s,u.clientOnly,u.deferred);c.visited||(c.visited=!0,s.selections.forEach(function(a){if(tR(a,r.variables)){var s=u.clientOnly,c=u.deferred;if(!(s&&c)&&tJ(a.directives)&&a.directives.forEach(function(e){var t=e.name.value;if("client"===t&&(s=!0),"defer"===t){var n=eN(e,r.variables);n&&!1===n.if||(c=!0)}}),eM(a)){var l=i.get(a);l&&(s=s&&l.clientOnly,c=c&&l.deferred),i.set(a,nj(r,s,c))}else{var d=er(a,r.lookupFragment);if(!d&&a.kind===tx.Kind.FRAGMENT_SPREAD)throw A(14,a.name.value);d&&o.fragmentMatches(d,n,t,r.variables)&&e(d.selectionSet,nj(r,s,c))}}}))}(e,r),i},e.prototype.applyMerges=function(e,t,r,n,i){var o=this;if(e.map.size&&!ex(r)){var a,s,u=!tq(r)&&(ex(t)||nn(t))?t:void 0,c=r;u&&!i&&(i=[ex(u)?u.__ref:u]);var d=function(e,t){return tq(e)?"number"==typeof t?e[t]:void 0:n.store.getFieldValue(e,String(t))};e.map.forEach(function(e,t){var r=d(u,t),a=d(c,t);if(void 0!==a){i&&i.push(t);var l=o.applyMerges(e,r,a,n,i);l!==a&&(s=s||new Map).set(t,l),i&&T(i.pop()===t)}}),s&&(r=tq(c)?c.slice(0):(0,l.__assign)({},c),s.forEach(function(e,t){r[t]=e}))}return e.info?this.cache.policies.runMergeFunction(t,r,e.info,n,i&&(a=n.store).getStorage.apply(a,i)):r},e}(),nM=[];function nL(e,t){var r=e.map;return r.has(t)||r.set(t,nM.pop()||{map:new Map}),r.get(t)}function nU(e){return!e||!(e.info||e.map.size)}function nW(e,t){var r=e.map,n=r.get(t);n&&nU(n)&&(nM.push(n),r.delete(t))}var nF=new Set,n$=function(e){function t(t){void 0===t&&(t={});var r=e.call(this)||this;return r.watches=new Set,r.addTypenameTransform=new rb(t7),r.assumeImmutableResults=!0,r.makeVar=r0,r.txCount=0,!1!==globalThis.__DEV__&&(tw(t,"addTypename","InMemoryCache","Please remove the `addTypename` option when initializing `InMemoryCache`."),tw(t,"canonizeResults","InMemoryCache","Please remove the `canonizeResults` option when initializing `InMemoryCache`.")),r.config=rk(r7,t),r.addTypename=!!r.config.addTypename,r.policies=new nP({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return(0,l.__extends)(t,e),t.prototype.init=function(){var e=this.data=new nu.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,r=this.storeReader,n=this.config.fragments;this.addTypenameTransform.resetCache(),null==n||n.resetCaches(),this.storeWriter=new nD(this,this.storeReader=new nm({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:ne(this.config),canon:e?void 0:r&&r.canon,fragments:n}),n),this.maybeBroadcastWatch=tm(function(e,r){return t.broadcastWatch(e,r)},{max:this.config.resultCacheMaxSize||ey["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(e){var r=e.optimistic?t.optimisticData:t.data;if(nh(r)){var n=e.optimistic,i=e.id,o=e.variables;return r.makeCacheKey(e.query,e.callback,ek({optimistic:n,id:i,variables:o}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(e){return e.resetCaching()})},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){!1!==globalThis.__DEV__&&tw(e,"canonizeResults","cache.read");var t=e.returnPartialData;try{return this.storeReader.diffQueryAgainstStore((0,l.__assign)((0,l.__assign)({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:void 0!==t&&t})).result||null}catch(e){if(e instanceof r6)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(r8.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return!1!==globalThis.__DEV__&&tw(e,"canonizeResults","cache.diff"),this.storeReader.diffQueryAgainstStore((0,l.__assign)((0,l.__assign)({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t,r=this;return this.watches.size||(t=this,rY(t).vars.forEach(function(e){return e.attachCache(t)})),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){r.watches.delete(e)&&!r.watches.size&&rZ(r),r.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){!1!==globalThis.__DEV__&&tw(e||{},"resetResultIdentities","cache.gc","First ensure all usages of `canonizeResults` are removed, then remove this option."),ek.reset(),t2.reset();var t=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),t},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if(ex(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(e){!1!==globalThis.__DEV__&&T.warn(e)}},t.prototype.evict=function(e){if(!e.id){if(r8.call(e,"id"))return!1;e=(0,l.__assign)((0,l.__assign)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),ek.reset(),e&&e.discardWatches?(this.watches.forEach(function(e){return t.maybeBroadcastWatch.forget(e)}),this.watches.clear(),rZ(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,r=this,n=e.update,i=e.optimistic,o=void 0===i||i,a=e.removeOptimistic,s=e.onWatchUpdated,u=function(e){var i=r.data,o=r.optimisticData;++r.txCount,e&&(r.data=r.optimisticData=e);try{return t=n(r)}finally{--r.txCount,r.data=i,r.optimisticData=o}},c=new Set;return s&&!this.txCount&&this.broadcastWatches((0,l.__assign)((0,l.__assign)({},e),{onWatchUpdated:function(e){return c.add(e),!1}})),"string"==typeof o?this.optimisticData=this.optimisticData.addLayer(o,u):!1===o?u(this.data):u(),"string"==typeof a&&(this.optimisticData=this.optimisticData.removeLayer(a)),s&&c.size?(this.broadcastWatches((0,l.__assign)((0,l.__assign)({},e),{onWatchUpdated:function(e,t){var r=s.call(this,e,t);return!1!==r&&c.delete(e),r}})),c.size&&c.forEach(function(e){return r.maybeBroadcastWatch.dirty(e)})):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){return this.addTypenameToDocument(this.addFragmentsToDocument(e))},t.prototype.fragmentMatches=function(e,t){return this.policies.fragmentMatches(e,t)},t.prototype.lookupFragment=function(e){var t;return(null==(t=this.config.fragments)?void 0:t.lookup(e))||null},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach(function(r){return t.maybeBroadcastWatch(r,e)})},t.prototype.addFragmentsToDocument=function(e){var t=this.config.fragments;return t?t.transform(e):e},t.prototype.addTypenameToDocument=function(e){return this.addTypename?this.addTypenameTransform.transformDocument(e):e},t.prototype.broadcastWatch=function(e,t){var r=this,n=e.lastDiff,i=tb("canonizeResults",function(){return r.diff(e)});(!t||(e.optimistic&&"string"==typeof t.optimistic&&(i.fromOptimisticTransaction=!0),!t.onWatchUpdated||!1!==t.onWatchUpdated.call(this,e,i,n)))&&(n&&ru(n.result,i.result)||e.callback(e.lastDiff=i,n))},t}(r4);!1!==globalThis.__DEV__&&(n$.prototype.getMemoryInternals=ev),tT.from,e.i(6767),new WeakMap,e.s([],7717)},64242,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={MutableRequestCookiesAdapter:function(){return f},ReadonlyRequestCookiesError:function(){return u},RequestCookiesAdapter:function(){return c},appendMutableCookies:function(){return p},areCookiesMutableInCurrentPhase:function(){return y},createCookiesWithMutableAccessCheck:function(){return h},getModifiedCookieValues:function(){return d},responseCookiesToRequestCookies:function(){return m}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(70812),a=e.r(46088),s=e.r(56704);class u extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new u}}class c{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return u.callable;default:return a.ReflectAdapter.get(e,t,r)}}})}}let l=Symbol.for("next.mutated.cookies");function d(e){let t=e[l];return t&&Array.isArray(t)&&0!==t.length?t:[]}function p(e,t){let r=d(t);if(0===r.length)return!1;let n=new o.ResponseCookies(e),i=n.getAll();for(let e of r)n.set(e);for(let e of i)n.set(e);return!0}class f{static wrap(e,t){let r=new o.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let n=[],i=new Set,u=()=>{let e=s.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),n=r.getAll().filter(e=>i.has(e.name)),t){let e=[];for(let t of n){let r=new o.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},c=new Proxy(r,{get(e,t,r){switch(t){case l:return n;case"delete":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),c}finally{u()}};case"set":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),c}finally{u()}};default:return a.ReflectAdapter.get(e,t,r)}}});return c}}function h(e){let t=new Proxy(e.mutableCookies,{get(r,n,i){switch(n){case"delete":return function(...n){return g(e,"cookies().delete"),r.delete(...n),t};case"set":return function(...n){return g(e,"cookies().set"),r.set(...n),t};default:return a.ReflectAdapter.get(r,n,i)}}});return t}function y(e){return"action"===e.phase}function g(e,t){if(!y(e))throw new u}function m(e){let t=new o.RequestCookies(new Headers);for(let r of e.getAll())t.set(r);return t}},16614,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return u}});let n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(e.r(71778));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}let o={current:null},a="function"==typeof n.cache?n.cache:e=>e,s=console.warn;function u(e){return function(...t){s(e(...t))}}a(e=>{try{s(o.current)}finally{o.current=null}})},23872,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"cookies",{enumerable:!0,get:function(){return f}});let n=e.r(64242),i=e.r(70812),o=e.r(56704),a=e.r(32319),s=e.r(17550),u=e.r(99545),c=e.r(60142),l=e.r(16614),d=e.r(98645),p=e.r(51468);function f(){let e="cookies",t=o.workAsyncStorage.getStore(),r=a.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,d.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`cookies()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E843",enumerable:!1,configurable:!0});if(t.forceStatic)return y(n.RequestCookiesAdapter.seal(new i.RequestCookies(new Headers({}))));if(t.dynamicShouldError)throw Object.defineProperty(new u.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E849",enumerable:!1,configurable:!0});if(r)switch(r.type){case"cache":let o=Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E831",enumerable:!1,configurable:!0});throw Error.captureStackTrace(o,f),t.invalidDynamicUsageError??=o,o;case"unstable-cache":throw Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E846",enumerable:!1,configurable:!0});case"prerender":var l=t,g=r;let a=h.get(g);if(a)return a;let m=(0,c.makeHangingPromise)(g.renderSignal,l.route,"`cookies()`");return h.set(g,m),m;case"prerender-client":let v="`cookies`";throw Object.defineProperty(new p.InvariantError(`${v} must not be used within a Client Component. Next.js should be preventing ${v} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,s.postponeWithTracking)(t.route,e,r.dynamicTracking);case"prerender-legacy":return(0,s.throwToInterruptStaticGeneration)(e,t,r);case"prerender-runtime":return(0,s.delayUntilRuntimeStage)(r,y(r.cookies));case"private-cache":return y(r.cookies);case"request":return(0,s.trackDynamicDataInDynamicRender)(r),y((0,n.areCookiesMutableInCurrentPhase)(r)?r.userspaceMutableCookies:r.cookies)}}(0,a.throwForMissingRequestStore)(e)}e.r(15926);let h=new WeakMap;function y(e){let t=h.get(e);if(t)return t;let r=Promise.resolve(e);return h.set(e,r),r}(0,l.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`cookies()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E830",enumerable:!1,configurable:!0})})},10027,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={HeadersAdapter:function(){return s},ReadonlyHeadersError:function(){return a}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(46088);class a extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new a}}class s extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return o.ReflectAdapter.get(t,r,n);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);if(void 0!==a)return o.ReflectAdapter.get(t,a,n)},set(t,r,n,i){if("symbol"==typeof r)return o.ReflectAdapter.set(t,r,n,i);let a=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===a);return o.ReflectAdapter.set(t,s??r,n,i)},has(t,r){if("symbol"==typeof r)return o.ReflectAdapter.has(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==i&&o.ReflectAdapter.has(t,i)},deleteProperty(t,r){if("symbol"==typeof r)return o.ReflectAdapter.deleteProperty(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===i||o.ReflectAdapter.deleteProperty(t,i)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return a.callable;default:return o.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new s(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},48362,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"headers",{enumerable:!0,get:function(){return p}});let n=e.r(10027),i=e.r(56704),o=e.r(32319),a=e.r(17550),s=e.r(99545),u=e.r(60142),c=e.r(16614),l=e.r(98645),d=e.r(51468);function p(){let e="headers",t=i.workAsyncStorage.getStore(),r=o.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`headers()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E839",enumerable:!1,configurable:!0});if(t.forceStatic)return h(n.HeadersAdapter.seal(new Headers({})));if(r)switch(r.type){case"cache":{let e=Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E833",enumerable:!1,configurable:!0});throw Error.captureStackTrace(e,p),t.invalidDynamicUsageError??=e,e}case"unstable-cache":throw Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E838",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E828",enumerable:!1,configurable:!0});if(r)switch(r.type){case"prerender":var c=t,y=r;let i=f.get(y);if(i)return i;let o=(0,u.makeHangingPromise)(y.renderSignal,c.route,"`headers()`");return f.set(y,o),o;case"prerender-client":let g="`headers`";throw Object.defineProperty(new d.InvariantError(`${g} must not be used within a client component. Next.js should be preventing ${g} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,a.postponeWithTracking)(t.route,e,r.dynamicTracking);case"prerender-legacy":return(0,a.throwToInterruptStaticGeneration)(e,t,r);case"prerender-runtime":return(0,a.delayUntilRuntimeStage)(r,h(r.headers));case"private-cache":return h(r.headers);case"request":return(0,a.trackDynamicDataInDynamicRender)(r),h(r.headers)}}(0,o.throwForMissingRequestStore)(e)}e.r(15926);let f=new WeakMap;function h(e){let t=f.get(e);if(t)return t;let r=Promise.resolve(e);return f.set(e,r),r}(0,c.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`headers()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E836",enumerable:!1,configurable:!0})})},37752,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"draftMode",{enumerable:!0,get:function(){return l}});let n=e.r(32319),i=e.r(56704),o=e.r(17550),a=e.r(16614),s=e.r(99545),u=e.r(27853),c=e.r(51468);function l(){let e=i.workAsyncStorage.getStore(),t=n.workUnitAsyncStorage.getStore();switch((!e||!t)&&(0,n.throwForMissingRequestStore)("draftMode"),t.type){case"prerender-runtime":return(0,o.delayUntilRuntimeStage)(t,d(t.draftMode,e));case"request":return d(t.draftMode,e);case"cache":case"private-cache":case"unstable-cache":let r=(0,n.getDraftModeProviderForCacheScope)(e,t);if(r)return d(r,e);case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":return d(null,e);default:return t}}function d(e,t){let r=f.get(e??p);return r||Promise.resolve(new h(e))}e.r(46088);let p={},f=new WeakMap;class h{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){y("draftMode().enable()",this.enable),null!==this._provider&&this._provider.enable()}disable(){y("draftMode().disable()",this.disable),null!==this._provider&&this._provider.disable()}}function y(e,t){let r=i.workAsyncStorage.getStore(),a=n.workUnitAsyncStorage.getStore();if(r){if((null==a?void 0:a.phase)==="after")throw Object.defineProperty(Error(`Route ${r.route} used "${e}" inside \`after()\`. The enabled status of \`draftMode()\` can be read inside \`after()\` but you cannot enable or disable \`draftMode()\`. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E845",enumerable:!1,configurable:!0});if(r.dynamicShouldError)throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${r.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(a)switch(a.type){case"cache":case"private-cache":{let n=Object.defineProperty(Error(`Route ${r.route} used "${e}" inside "use cache". The enabled status of \`draftMode()\` can be read in caches but you must not enable or disable \`draftMode()\` inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E829",enumerable:!1,configurable:!0});throw Error.captureStackTrace(n,t),r.invalidDynamicUsageError??=n,n}case"unstable-cache":throw Object.defineProperty(Error(`Route ${r.route} used "${e}" inside a function cached with \`unstable_cache()\`. The enabled status of \`draftMode()\` can be read in caches but you must not enable or disable \`draftMode()\` inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E844",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":{let t=Object.defineProperty(Error(`Route ${r.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});return(0,o.abortAndThrowOnSynchronousRequestDataAccess)(r.route,e,t,a)}case"prerender-client":let n="`draftMode`";throw Object.defineProperty(new c.InvariantError(`${n} must not be used within a Client Component. Next.js should be preventing ${n} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,o.postponeWithTracking)(r.route,e,a.dynamicTracking);case"prerender-legacy":a.revalidate=0;let i=Object.defineProperty(new u.DynamicServerError(`Route ${r.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.dynamicUsageDescription=e,r.dynamicUsageStack=i.stack,i;case"request":(0,o.trackDynamicDataInDynamicRender)(a)}}}(0,a.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`draftMode()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E835",enumerable:!1,configurable:!0})})},80028,(e,t,r)=>{t.exports.cookies=e.r(23872).cookies,t.exports.headers=e.r(48362).headers,t.exports.draftMode=e.r(37752).draftMode},82074,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},15567,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.detectOrigin=function(e,t){var r;return(null!=(r=process.env.VERCEL)?r:process.env.AUTH_TRUST_HOST)?`${"http"===t?"http":"https"}://${e}`:process.env.NEXTAUTH_URL}},85975,(e,t,r)=>{let{format:n}=e.r(24361);t.exports={OPError:class extends Error{constructor({error_description:e,error:t,error_uri:r,session_state:n,state:i,scope:o},a){super(e?`${t} (${e})`:t),Object.assign(this,{error:t},e&&{error_description:e},r&&{error_uri:r},i&&{state:i},o&&{scope:o},n&&{session_state:n}),a&&Object.defineProperty(this,"response",{value:a}),this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}},RPError:class extends Error{constructor(...e){if("string"==typeof e[0])super(n(...e));else{const{message:t,printf:r,response:i,...o}=e[0];r?super(n(...r)):super(t),Object.assign(this,o),i&&Object.defineProperty(this,"response",{value:i})}this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}}},31831,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799);r.default=(e,t)=>(0,n.createHash)(e).update(t).digest()},57054,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.concatKdf=r.lengthAndInput=r.uint32be=r.uint64be=r.p2s=r.concat=r.decoder=r.encoder=void 0;let n=e.r(31831);function i(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;return e.forEach(e=>{t.set(e,r),r+=e.length}),t}function o(e,t,r){if(t<0||t>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function a(e){let t=new Uint8Array(4);return o(t,e),t}r.encoder=new TextEncoder,r.decoder=new TextDecoder,r.concat=i,r.p2s=function(e,t){return i(r.encoder.encode(e),new Uint8Array([0]),t)},r.uint64be=function(e){let t=Math.floor(e/0x100000000),r=new Uint8Array(8);return o(r,t,0),o(r,e%0x100000000,4),r},r.uint32be=a,r.lengthAndInput=function(e){return i(a(e.length),e)},r.concatKdf=async function(e,t,r){let i=Math.ceil((t>>3)/32),o=new Uint8Array(32*i);for(let t=0;t<i;t++){let i=new Uint8Array(4+e.length+r.length);i.set(a(t+1)),i.set(e,4),i.set(r,4+e.length),o.set(await (0,n.default)("sha256",i),32*t)}return o.slice(0,t>>3)}},57225,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decode=r.encode=r.encodeBase64=r.decodeBase64=void 0;let n=e.r(874),i=e.r(57054);n.Buffer.isEncoding("base64url")?r.encode=e=>n.Buffer.from(e).toString("base64url"):r.encode=e=>n.Buffer.from(e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),r.decodeBase64=e=>n.Buffer.from(e,"base64"),r.encodeBase64=e=>n.Buffer.from(e).toString("base64"),r.decode=e=>{let t;return n.Buffer.from(((t=e)instanceof Uint8Array&&(t=i.decoder.decode(t)),t),"base64")}},39600,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.JWSSignatureVerificationFailed=r.JWKSTimeout=r.JWKSMultipleMatchingKeys=r.JWKSNoMatchingKey=r.JWKSInvalid=r.JWKInvalid=r.JWTInvalid=r.JWSInvalid=r.JWEInvalid=r.JWEDecompressionFailed=r.JWEDecryptionFailed=r.JOSENotSupported=r.JOSEAlgNotAllowed=r.JWTExpired=r.JWTClaimValidationFailed=r.JOSEError=void 0;class n extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null==(t=Error.captureStackTrace)||t.call(Error,this,this.constructor)}}r.JOSEError=n,r.JWTClaimValidationFailed=class extends n{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=r}},r.JWTExpired=class extends n{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=r}},r.JOSEAlgNotAllowed=class extends n{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}},r.JOSENotSupported=class extends n{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}},r.JWEDecryptionFailed=class extends n{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}},r.JWEDecompressionFailed=class extends n{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}},r.JWEInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}},r.JWSInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}},r.JWTInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}},r.JWKInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}},r.JWKSInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}},r.JWKSNoMatchingKey=class extends n{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}},r.JWKSMultipleMatchingKeys=class extends n{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}},r.JWKSTimeout=class extends n{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}},r.JWSSignatureVerificationFailed=class extends n{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}},19080,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e.r(54799);Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n.randomFillSync}})},33302,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bitLength=void 0;let n=e.r(39600),i=e.r(19080);function o(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new n.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}r.bitLength=o,r.default=e=>(0,i.default)(new Uint8Array(o(e)>>3))},48204,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(39600),i=e.r(33302);r.default=(e,t)=>{if(t.length<<3!==(0,i.bitLength)(e))throw new n.JWEInvalid("Invalid Initialization Vector length")}},68097,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799),i=e.r(24361);r.default=i.types.isKeyObject?e=>i.types.isKeyObject(e):e=>null!=e&&e instanceof n.KeyObject},13882,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(39600),i=e.r(68097);r.default=(e,t)=>{let r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new n.JOSENotSupported(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){let e=t.byteLength<<3;if(e!==r)throw new n.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}if((0,i.default)(t)&&"secret"===t.type){let e=t.symmetricKeySize<<3;if(e!==r)throw new n.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}throw TypeError("Invalid Content Encryption Key type")}},71766,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=e.r(54799).timingSafeEqual},24152,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799),i=e.r(57054);r.default=function(e,t,r,o,a,s){let u=(0,i.concat)(e,t,r,(0,i.uint64be)(e.length<<3)),c=(0,n.createHmac)(`sha${o}`,a);return c.update(u),c.digest().slice(0,s>>3)}},74668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isCryptoKey=void 0;let n=e.r(54799),i=e.r(24361);r.default=n.webcrypto,r.isCryptoKey=i.types.isCryptoKey?e=>i.types.isCryptoKey(e):e=>!1},80496,(e,t,r)=>{"use strict";function n(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function i(e,t){return e.name===t}function o(e){return parseInt(e.name.slice(4),10)}function a(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}}Object.defineProperty(r,"__esModule",{value:!0}),r.checkEncCryptoKey=r.checkSigCryptoKey=void 0,r.checkSigCryptoKey=function(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!i(e.algorithm,"HMAC"))throw n("HMAC");let r=parseInt(t.slice(2),10);if(o(e.algorithm.hash)!==r)throw n(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!i(e.algorithm,"RSASSA-PKCS1-v1_5"))throw n("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if(o(e.algorithm.hash)!==r)throw n(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!i(e.algorithm,"RSA-PSS"))throw n("RSA-PSS");let r=parseInt(t.slice(2),10);if(o(e.algorithm.hash)!==r)throw n(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw n("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!i(e.algorithm,"ECDSA"))throw n("ECDSA");let r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw n(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}a(e,r)},r.checkEncCryptoKey=function(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!i(e.algorithm,"AES-GCM"))throw n("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw n(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!i(e.algorithm,"AES-KW"))throw n("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw n(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw n("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!i(e.algorithm,"PBKDF2"))throw n("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!i(e.algorithm,"RSA-OAEP"))throw n("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(o(e.algorithm.hash)!==r)throw n(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}a(e,r)}},5256,(e,t,r)=>{"use strict";function n(e,t,...r){if(r.length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}Object.defineProperty(r,"__esModule",{value:!0}),r.withAlg=void 0,r.default=(e,...t)=>n("Key must be ",e,...t),r.withAlg=function(e,t,...r){return n(`Key for the ${e} algorithm must be `,t,...r)}},86780,(e,t,r)=>{"use strict";let n;Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(54799);r.default=e=>(n||(n=new Set((0,i.getCiphers)())),n.has(e))},64048,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.types=void 0;let n=e.r(74668),i=e.r(68097);r.default=e=>(0,i.default)(e)||(0,n.isCryptoKey)(e);let o=["KeyObject"];r.types=o,(globalThis.CryptoKey||(null===n.default||void 0===n.default?void 0:n.default.CryptoKey))&&o.push("CryptoKey")},55186,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799),i=e.r(48204),o=e.r(13882),a=e.r(57054),s=e.r(39600),u=e.r(71766),c=e.r(24152),l=e.r(74668),d=e.r(80496),p=e.r(68097),f=e.r(5256),h=e.r(86780),y=e.r(64048);r.default=(e,t,r,g,m,v)=>{let _;if((0,l.isCryptoKey)(t))(0,d.checkEncCryptoKey)(t,e,"decrypt"),_=n.KeyObject.from(t);else if(t instanceof Uint8Array||(0,p.default)(t))_=t;else throw TypeError((0,f.default)(t,...y.types,"Uint8Array"));switch((0,o.default)(e,_),(0,i.default)(e,g),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,i,o,l){let d,f,y=parseInt(e.slice(1,4),10);(0,p.default)(t)&&(t=t.export());let g=t.subarray(y>>3),m=t.subarray(0,y>>3),v=parseInt(e.slice(-3),10),_=`aes-${y}-cbc`;if(!(0,h.default)(_))throw new s.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let b=(0,c.default)(l,i,r,v,m,y);try{d=(0,u.default)(o,b)}catch{}if(!d)throw new s.JWEDecryptionFailed;try{let e=(0,n.createDecipheriv)(_,g,i);f=(0,a.concat)(e.update(r),e.final())}catch{}if(!f)throw new s.JWEDecryptionFailed;return f}(e,_,r,g,m,v);case"A128GCM":case"A192GCM":case"A256GCM":var b=_;let w=parseInt(e.slice(1,4),10),E=`aes-${w}-gcm`;if(!(0,h.default)(E))throw new s.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);try{let e=(0,n.createDecipheriv)(E,b,g,{authTagLength:16});e.setAuthTag(m),v.byteLength&&e.setAAD(v,{plaintextLength:r.length});let t=e.update(r);return e.final(),t}catch{throw new s.JWEDecryptionFailed}default:throw new s.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}}},65400,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deflate=r.inflate=void 0;let n=e.r(24361),i=e.r(6461),o=e.r(39600),a=(0,n.promisify)(i.inflateRaw),s=(0,n.promisify)(i.deflateRaw);r.inflate=e=>a(e,{maxOutputLength:25e4}).catch(()=>{throw new o.JWEDecompressionFailed}),r.deflate=e=>s(e)},9421,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=(...e)=>{let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0}},12992,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},70265,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.unwrap=r.wrap=void 0;let n=e.r(874),i=e.r(54799),o=e.r(39600),a=e.r(57054),s=e.r(74668),u=e.r(80496),c=e.r(68097),l=e.r(5256),d=e.r(86780),p=e.r(64048);function f(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function h(e,t,r){if((0,c.default)(e))return e;if(e instanceof Uint8Array)return(0,i.createSecretKey)(e);if((0,s.isCryptoKey)(e))return(0,u.checkEncCryptoKey)(e,t,r),i.KeyObject.from(e);throw TypeError((0,l.default)(e,...p.types,"Uint8Array"))}r.wrap=(e,t,r)=>{let s=parseInt(e.slice(1,4),10),u=`aes${s}-wrap`;if(!(0,d.default)(u))throw new o.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);let c=h(t,e,"wrapKey");f(c,e);let l=(0,i.createCipheriv)(u,c,n.Buffer.alloc(8,166));return(0,a.concat)(l.update(r),l.final())},r.unwrap=(e,t,r)=>{let s=parseInt(e.slice(1,4),10),u=`aes${s}-wrap`;if(!(0,d.default)(u))throw new o.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);let c=h(t,e,"unwrapKey");f(c,e);let l=(0,i.createDecipheriv)(u,c,n.Buffer.alloc(8,166));return(0,a.concat)(l.update(r),l.final())}},47114,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setCurve=r.weakMap=void 0;let n=e.r(874),i=e.r(54799),o=e.r(39600),a=e.r(74668),s=e.r(68097),u=e.r(5256),c=e.r(64048),l=n.Buffer.from([42,134,72,206,61,3,1,7]),d=n.Buffer.from([43,129,4,0,34]),p=n.Buffer.from([43,129,4,0,35]),f=n.Buffer.from([43,129,4,0,10]);r.weakMap=new WeakMap;let h=(e,t)=>{var n;let y;if((0,a.isCryptoKey)(e))y=i.KeyObject.from(e);else if((0,s.default)(e))y=e;else throw TypeError((0,u.default)(e,...c.types));if("secret"===y.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(y.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${y.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${y.asymmetricKeyType.slice(1)}`;case"ec":{if(r.weakMap.has(y))return r.weakMap.get(y);let e=null==(n=y.asymmetricKeyDetails)?void 0:n.namedCurve;if(e||"private"!==y.type){if(!e){let t=y.export({format:"der",type:"spki"}),r=t[1]<128?14:15,n=t[r],i=t.slice(r+1,r+1+n);if(i.equals(l))e="prime256v1";else if(i.equals(d))e="secp384r1";else if(i.equals(p))e="secp521r1";else if(i.equals(f))e="secp256k1";else throw new o.JOSENotSupported("Unsupported key curve for this operation")}}else e=h((0,i.createPublicKey)(y),!0);if(t)return e;let a=(e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new o.JOSENotSupported("Unsupported key curve for this operation")}})(e);return r.weakMap.set(y,a),a}default:throw TypeError("Invalid asymmetric key type for this operation")}};r.setCurve=function(e,t){r.weakMap.set(e,t)},r.default=h},97192,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ecdhAllowed=r.generateEpk=r.deriveKey=void 0;let n=e.r(54799),i=e.r(24361),o=e.r(47114),a=e.r(57054),s=e.r(39600),u=e.r(74668),c=e.r(80496),l=e.r(68097),d=e.r(5256),p=e.r(64048),f=(0,i.promisify)(n.generateKeyPair);r.deriveKey=async function(e,t,r,i,o=new Uint8Array(0),s=new Uint8Array(0)){let f,h;if((0,u.isCryptoKey)(e))(0,c.checkEncCryptoKey)(e,"ECDH"),f=n.KeyObject.from(e);else if((0,l.default)(e))f=e;else throw TypeError((0,d.default)(e,...p.types));if((0,u.isCryptoKey)(t))(0,c.checkEncCryptoKey)(t,"ECDH","deriveBits"),h=n.KeyObject.from(t);else if((0,l.default)(t))h=t;else throw TypeError((0,d.default)(t,...p.types));let y=(0,a.concat)((0,a.lengthAndInput)(a.encoder.encode(r)),(0,a.lengthAndInput)(o),(0,a.lengthAndInput)(s),(0,a.uint32be)(i)),g=(0,n.diffieHellman)({privateKey:h,publicKey:f});return(0,a.concatKdf)(g,i,y)},r.generateEpk=async function(e){let t;if((0,u.isCryptoKey)(e))t=n.KeyObject.from(e);else if((0,l.default)(e))t=e;else throw TypeError((0,d.default)(e,...p.types));switch(t.asymmetricKeyType){case"x25519":return f("x25519");case"x448":return f("x448");case"ec":return f("ec",{namedCurve:(0,o.default)(t)});default:throw new s.JOSENotSupported("Invalid or unsupported EPK")}},r.ecdhAllowed=e=>["P-256","P-384","P-521","X25519","X448"].includes((0,o.default)(e))},41486,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(39600);r.default=function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new n.JWEInvalid("PBES2 Salt Input must be 8 or more octets")}},8880,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decrypt=r.encrypt=void 0;let n=e.r(24361),i=e.r(54799),o=e.r(19080),a=e.r(57054),s=e.r(57225),u=e.r(70265),c=e.r(41486),l=e.r(74668),d=e.r(80496),p=e.r(68097),f=e.r(5256),h=e.r(64048),y=(0,n.promisify)(i.pbkdf2);function g(e,t){if((0,p.default)(e))return e.export();if(e instanceof Uint8Array)return e;if((0,l.isCryptoKey)(e))return(0,d.checkEncCryptoKey)(e,t,"deriveBits","deriveKey"),i.KeyObject.from(e).export();throw TypeError((0,f.default)(e,...h.types,"Uint8Array"))}r.encrypt=async(e,t,r,n=2048,i=(0,o.default)(new Uint8Array(16)))=>{(0,c.default)(i);let l=(0,a.p2s)(e,i),d=parseInt(e.slice(13,16),10)>>3,p=g(t,e),f=await y(p,l,n,d,`sha${e.slice(8,11)}`);return{encryptedKey:await (0,u.wrap)(e.slice(-6),f,r),p2c:n,p2s:(0,s.encode)(i)}},r.decrypt=async(e,t,r,n,i)=>{(0,c.default)(i);let o=(0,a.p2s)(e,i),s=parseInt(e.slice(13,16),10)>>3,l=g(t,e),d=await y(l,o,n,s,`sha${e.slice(8,11)}`);return(0,u.unwrap)(e.slice(-6),d,r)}},46228,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setModulusLength=r.weakMap=void 0,r.weakMap=new WeakMap;let n=(e,t)=>{let r=e.readUInt8(1);if((128&r)==0)return 0===t?r:n(e.subarray(2+r),t-1);let i=127&r;r=0;for(let t=0;t<i;t++)r<<=8,r|=e.readUInt8(2+t);return 0===t?r:n(e.subarray(2+r),t-1)};r.setModulusLength=(e,t)=>{r.weakMap.set(e,t)},r.default=(e,t)=>{if(2048>(e=>{var t,i,o,a;let s;if(r.weakMap.has(e))return r.weakMap.get(e);let u=null!=(i=null==(t=e.asymmetricKeyDetails)?void 0:t.modulusLength)?i:(o=e.export({format:"der",type:"pkcs1"}),a=+("private"===e.type),((128&(s=o.readUInt8(1)))==0?n(o.subarray(2),a):n(o.subarray(2+(127&s)),a))-1<<3);return r.weakMap.set(e,u),u})(e))throw TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}},76208,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decrypt=r.encrypt=void 0;let n=e.r(54799),i=e.r(46228),o=e.r(74668),a=e.r(80496),s=e.r(68097),u=e.r(5256),c=e.r(64048),l=(e,t)=>{if("rsa"!==e.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");(0,i.default)(e,t)},d=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return n.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return n.constants.RSA_PKCS1_PADDING;default:return}},p=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function f(e,t,...r){if((0,s.default)(e))return e;if((0,o.isCryptoKey)(e))return(0,a.checkEncCryptoKey)(e,t,...r),n.KeyObject.from(e);throw TypeError((0,u.default)(e,...c.types))}r.encrypt=(e,t,r)=>{let i=d(e),o=p(e),a=f(t,e,"wrapKey","encrypt");return l(a,e),(0,n.publicEncrypt)({key:a,oaepHash:o,padding:i},r)},r.decrypt=(e,t,r)=>{let i=d(e),o=p(e),a=f(t,e,"unwrapKey","decrypt");return l(a,e),(0,n.privateDecrypt)({key:a,oaepHash:o,padding:i},r)}},53649,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bitLength=void 0;let n=e.r(39600),i=e.r(19080);function o(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new n.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}r.bitLength=o,r.default=e=>(0,i.default)(new Uint8Array(o(e)>>3))},49984,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fromX509=r.fromSPKI=r.fromPKCS8=r.toPKCS8=r.toSPKI=void 0;let n=e.r(54799),i=e.r(874),o=e.r(74668),a=e.r(68097),s=e.r(5256),u=e.r(64048),c=(e,t,r)=>{let i;if((0,o.isCryptoKey)(r)){if(!r.extractable)throw TypeError("CryptoKey is not extractable");i=n.KeyObject.from(r)}else if((0,a.default)(r))i=r;else throw TypeError((0,s.default)(r,...u.types));if(i.type!==e)throw TypeError(`key is not a ${e} key`);return i.export({format:"pem",type:t})};r.toSPKI=e=>c("public","spki",e),r.toPKCS8=e=>c("private","pkcs8",e),r.fromPKCS8=e=>(0,n.createPrivateKey)({key:i.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,""),"base64"),type:"pkcs8",format:"der"}),r.fromSPKI=e=>(0,n.createPublicKey)({key:i.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,""),"base64"),type:"spki",format:"der"}),r.fromX509=e=>(0,n.createPublicKey)({key:e,type:"spki",format:"pem"})},40998,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(874),i=e.r(39600),o=n.Buffer.from([0]),a=n.Buffer.from([2]),s=n.Buffer.from([3]),u=n.Buffer.from([48]),c=n.Buffer.from([4]),l=e=>{if(e<128)return n.Buffer.from([e]);let t=n.Buffer.alloc(5);t.writeUInt32BE(e,1);let r=1;for(;0===t[r];)r++;return t[r-1]=128|5-r,t.slice(r-1)},d=new Map([["P-256",n.Buffer.from("06 08 2A 86 48 CE 3D 03 01 07".replace(/ /g,""),"hex")],["secp256k1",n.Buffer.from("06 05 2B 81 04 00 0A".replace(/ /g,""),"hex")],["P-384",n.Buffer.from("06 05 2B 81 04 00 22".replace(/ /g,""),"hex")],["P-521",n.Buffer.from("06 05 2B 81 04 00 23".replace(/ /g,""),"hex")],["ecPublicKey",n.Buffer.from("06 07 2A 86 48 CE 3D 02 01".replace(/ /g,""),"hex")],["X25519",n.Buffer.from("06 03 2B 65 6E".replace(/ /g,""),"hex")],["X448",n.Buffer.from("06 03 2B 65 6F".replace(/ /g,""),"hex")],["Ed25519",n.Buffer.from("06 03 2B 65 70".replace(/ /g,""),"hex")],["Ed448",n.Buffer.from("06 03 2B 65 71".replace(/ /g,""),"hex")]]);r.default=class{constructor(){this.length=0,this.elements=[]}oidFor(e){let t=d.get(e);if(!t)throw new i.JOSENotSupported("Invalid or unsupported OID");this.elements.push(t),this.length+=t.length}zero(){this.elements.push(a,n.Buffer.from([1]),o),this.length+=3}one(){this.elements.push(a,n.Buffer.from([1]),n.Buffer.from([1])),this.length+=3}unsignedInteger(e){if(128&e[0]){let t=l(e.length+1);this.elements.push(a,t,o,e),this.length+=2+t.length+e.length}else{let t=0;for(;0===e[t]&&(128&e[t+1])==0;)t++;let r=l(e.length-t);this.elements.push(a,l(e.length-t),e.slice(t)),this.length+=1+r.length+e.length-t}}octStr(e){let t=l(e.length);this.elements.push(c,l(e.length),e),this.length+=1+t.length+e.length}bitStr(e){let t=l(e.length+1);this.elements.push(s,l(e.length+1),o,e),this.length+=1+t.length+e.length+1}add(e){this.elements.push(e),this.length+=e.length}end(e=u){let t=l(this.length);return n.Buffer.concat([e,t,...this.elements],1+t.length+this.length)}}},46481,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.jwkImport=r.jwkExport=r.rsaPssParams=r.oneShotCallback=void 0;let[n,i]=process.versions.node.split(".").map(e=>parseInt(e,10));r.oneShotCallback=n>=16||15===n&&i>=13,r.rsaPssParams=!("electron"in process.versions)&&(n>=17||16===n&&i>=9),r.jwkExport=n>=16||15===n&&i>=9,r.jwkImport=n>=16||15===n&&i>=12},70109,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(874),i=e.r(54799),o=e.r(57225),a=e.r(39600),s=e.r(47114),u=e.r(46228),c=e.r(40998),l=e.r(46481);r.default=e=>{if(l.jwkImport&&"oct"!==e.kty)return e.d?(0,i.createPrivateKey)({format:"jwk",key:e}):(0,i.createPublicKey)({format:"jwk",key:e});switch(e.kty){case"oct":return(0,i.createSecretKey)((0,o.decode)(e.k));case"RSA":{let t=new c.default,r=void 0!==e.d,o=n.Buffer.from(e.n,"base64"),a=n.Buffer.from(e.e,"base64");r?(t.zero(),t.unsignedInteger(o),t.unsignedInteger(a),t.unsignedInteger(n.Buffer.from(e.d,"base64")),t.unsignedInteger(n.Buffer.from(e.p,"base64")),t.unsignedInteger(n.Buffer.from(e.q,"base64")),t.unsignedInteger(n.Buffer.from(e.dp,"base64")),t.unsignedInteger(n.Buffer.from(e.dq,"base64")),t.unsignedInteger(n.Buffer.from(e.qi,"base64"))):(t.unsignedInteger(o),t.unsignedInteger(a));let s={key:t.end(),format:"der",type:"pkcs1"},l=r?(0,i.createPrivateKey)(s):(0,i.createPublicKey)(s);return(0,u.setModulusLength)(l,o.length<<3),l}case"EC":{let t=new c.default,r=void 0!==e.d,o=n.Buffer.concat([n.Buffer.alloc(1,4),n.Buffer.from(e.x,"base64"),n.Buffer.from(e.y,"base64")]);if(r){t.zero();let r=new c.default;r.oidFor("ecPublicKey"),r.oidFor(e.crv),t.add(r.end());let a=new c.default;a.one(),a.octStr(n.Buffer.from(e.d,"base64"));let u=new c.default;u.bitStr(o);let l=u.end(n.Buffer.from([161]));a.add(l);let d=a.end(),p=new c.default;p.add(d);let f=p.end(n.Buffer.from([4]));t.add(f);let h=t.end(),y=(0,i.createPrivateKey)({key:h,format:"der",type:"pkcs8"});return(0,s.setCurve)(y,e.crv),y}let a=new c.default;a.oidFor("ecPublicKey"),a.oidFor(e.crv),t.add(a.end()),t.bitStr(o);let u=t.end(),l=(0,i.createPublicKey)({key:u,format:"der",type:"spki"});return(0,s.setCurve)(l,e.crv),l}case"OKP":{let t=new c.default;if(void 0!==e.d){t.zero();let r=new c.default;r.oidFor(e.crv),t.add(r.end());let o=new c.default;o.octStr(n.Buffer.from(e.d,"base64"));let a=o.end(n.Buffer.from([4]));t.add(a);let s=t.end();return(0,i.createPrivateKey)({key:s,format:"der",type:"pkcs8"})}let r=new c.default;r.oidFor(e.crv),t.add(r.end()),t.bitStr(n.Buffer.from(e.x,"base64"));let o=t.end();return(0,i.createPublicKey)({key:o,format:"der",type:"spki"})}default:throw new a.JOSENotSupported('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}}},77029,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.importJWK=r.importPKCS8=r.importX509=r.importSPKI=void 0;let n=e.r(57225),i=e.r(49984),o=e.r(70109),a=e.r(39600),s=e.r(12992);r.importSPKI=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw TypeError('"spki" must be SPKI formatted string');return(0,i.fromSPKI)(e,t,r)},r.importX509=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw TypeError('"x509" must be X.509 formatted string');return(0,i.fromX509)(e,t,r)},r.importPKCS8=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw TypeError('"pkcs8" must be PKCS#8 formatted string');return(0,i.fromPKCS8)(e,t,r)},r.importJWK=async function(e,t,r){var i;if(!(0,s.default)(e))throw TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');if(null!=r||(r=!0!==e.ext),r)return(0,o.default)({...e,alg:t,ext:null!=(i=e.ext)&&i});return(0,n.decode)(e.k);case"RSA":if(void 0!==e.oth)throw new a.JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return(0,o.default)({...e,alg:t});default:throw new a.JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}}},6697,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(5256),i=e.r(64048);r.default=(e,t,r)=>{if(e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)){if(!(t instanceof Uint8Array)){if(!(0,i.default)(t))throw TypeError((0,n.withAlg)(e,t,...i.types,"Uint8Array"));if("secret"!==t.type)throw TypeError(`${i.types.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}}else{if(!(0,i.default)(t))throw TypeError((0,n.withAlg)(e,t,...i.types));if("secret"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)}}},3754,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799),i=e.r(48204),o=e.r(13882),a=e.r(57054),s=e.r(24152),u=e.r(74668),c=e.r(80496),l=e.r(68097),d=e.r(5256),p=e.r(39600),f=e.r(86780),h=e.r(64048);r.default=(e,t,r,y,g)=>{let m;if((0,u.isCryptoKey)(r))(0,c.checkEncCryptoKey)(r,e,"encrypt"),m=n.KeyObject.from(r);else if(r instanceof Uint8Array||(0,l.default)(r))m=r;else throw TypeError((0,d.default)(r,...h.types,"Uint8Array"));switch((0,o.default)(e,m),(0,i.default)(e,y),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,i,o){let u=parseInt(e.slice(1,4),10);(0,l.default)(r)&&(r=r.export());let c=r.subarray(u>>3),d=r.subarray(0,u>>3),h=`aes-${u}-cbc`;if(!(0,f.default)(h))throw new p.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let y=(0,n.createCipheriv)(h,c,i),g=(0,a.concat)(y.update(t),y.final()),m=parseInt(e.slice(-3),10),v=(0,s.default)(o,i,g,m,d,u);return{ciphertext:g,tag:v}}(e,t,m,y,g);case"A128GCM":case"A192GCM":case"A256GCM":var v=m;let _=parseInt(e.slice(1,4),10),b=`aes-${_}-gcm`;if(!(0,f.default)(b))throw new p.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let w=(0,n.createCipheriv)(b,v,y,{authTagLength:16});g.byteLength&&w.setAAD(g,{plaintextLength:t.length});let E=w.update(t);return w.final(),{ciphertext:E,tag:w.getAuthTag()};default:throw new p.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}}},31428,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.unwrap=r.wrap=void 0;let n=e.r(3754),i=e.r(55186),o=e.r(33302),a=e.r(57225);r.wrap=async function(e,t,r,i){let s=e.slice(0,7);i||(i=(0,o.default)(s));let{ciphertext:u,tag:c}=await (0,n.default)(s,r,t,i,new Uint8Array(0));return{encryptedKey:u,iv:(0,a.encode)(i),tag:(0,a.encode)(c)}},r.unwrap=async function(e,t,r,n,o){let a=e.slice(0,7);return(0,i.default)(a,t,r,n,o,new Uint8Array(0))}},37018,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(70265),i=e.r(97192),o=e.r(8880),a=e.r(76208),s=e.r(57225),u=e.r(39600),c=e.r(53649),l=e.r(77029),d=e.r(6697),p=e.r(12992),f=e.r(31428);r.default=async function(e,t,r,h,y){switch((0,d.default)(e,t,"decrypt"),e){case"dir":if(void 0!==r)throw new u.JWEInvalid("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new u.JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let o,a;if(!(0,p.default)(h.epk))throw new u.JWEInvalid('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!i.ecdhAllowed(t))throw new u.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let d=await (0,l.importJWK)(h.epk,e);if(void 0!==h.apu){if("string"!=typeof h.apu)throw new u.JWEInvalid('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{o=(0,s.decode)(h.apu)}catch{throw new u.JWEInvalid("Failed to base64url decode the apu")}}if(void 0!==h.apv){if("string"!=typeof h.apv)throw new u.JWEInvalid('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{a=(0,s.decode)(h.apv)}catch{throw new u.JWEInvalid("Failed to base64url decode the apv")}}let f=await i.deriveKey(d,t,"ECDH-ES"===e?h.enc:e,"ECDH-ES"===e?(0,c.bitLength)(h.enc):parseInt(e.slice(-5,-2),10),o,a);if("ECDH-ES"===e)return f;if(void 0===r)throw new u.JWEInvalid("JWE Encrypted Key missing");return(0,n.unwrap)(e.slice(-6),f,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new u.JWEInvalid("JWE Encrypted Key missing");return(0,a.decrypt)(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let n;if(void 0===r)throw new u.JWEInvalid("JWE Encrypted Key missing");if("number"!=typeof h.p2c)throw new u.JWEInvalid('JOSE Header "p2c" (PBES2 Count) missing or invalid');let i=(null==y?void 0:y.maxPBES2Count)||1e4;if(h.p2c>i)throw new u.JWEInvalid('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof h.p2s)throw new u.JWEInvalid('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{n=(0,s.decode)(h.p2s)}catch{throw new u.JWEInvalid("Failed to base64url decode the p2s")}return(0,o.decrypt)(e,t,r,h.p2c,n)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new u.JWEInvalid("JWE Encrypted Key missing");return(0,n.unwrap)(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let n,i;if(void 0===r)throw new u.JWEInvalid("JWE Encrypted Key missing");if("string"!=typeof h.iv)throw new u.JWEInvalid('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof h.tag)throw new u.JWEInvalid('JOSE Header "tag" (Authentication Tag) missing or invalid');try{n=(0,s.decode)(h.iv)}catch{throw new u.JWEInvalid("Failed to base64url decode the iv")}try{i=(0,s.decode)(h.tag)}catch{throw new u.JWEInvalid("Failed to base64url decode the tag")}return(0,f.unwrap)(e,t,r,n,i)}default:throw new u.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}}},66776,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(39600);r.default=function(e,t,r,i,o){let a;if(void 0!==o.crit&&void 0===i.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||void 0===i.crit)return new Set;if(!Array.isArray(i.crit)||0===i.crit.length||i.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let s of(a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,i.crit)){if(!a.has(s))throw new n.JOSENotSupported(`Extension Header Parameter "${s}" is not recognized`);if(void 0===o[s])throw new e(`Extension Header Parameter "${s}" is missing`);if(a.get(s)&&void 0===i[s])throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(i.crit)}},62224,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}},97682,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.flattenedDecrypt=void 0;let n=e.r(57225),i=e.r(55186),o=e.r(65400),a=e.r(39600),s=e.r(9421),u=e.r(12992),c=e.r(37018),l=e.r(57054),d=e.r(53649),p=e.r(66776),f=e.r(62224);r.flattenedDecrypt=async function(e,t,r){var h;let y,g,m,v,_,b,w;if(!(0,u.default)(e))throw new a.JWEInvalid("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new a.JWEInvalid("JOSE Header missing");if("string"!=typeof e.iv)throw new a.JWEInvalid("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new a.JWEInvalid("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new a.JWEInvalid("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new a.JWEInvalid("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new a.JWEInvalid("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new a.JWEInvalid("JWE AAD incorrect type");if(void 0!==e.header&&!(0,u.default)(e.header))throw new a.JWEInvalid("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!(0,u.default)(e.unprotected))throw new a.JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=(0,n.decode)(e.protected);y=JSON.parse(l.decoder.decode(t))}catch{throw new a.JWEInvalid("JWE Protected Header is invalid")}if(!(0,s.default)(y,e.header,e.unprotected))throw new a.JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let E={...y,...e.header,...e.unprotected};if((0,p.default)(a.JWEInvalid,new Map,null==r?void 0:r.crit,y,E),void 0!==E.zip){if(!y||!y.zip)throw new a.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==E.zip)throw new a.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:S,enc:k}=E;if("string"!=typeof S||!S)throw new a.JWEInvalid("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof k||!k)throw new a.JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header");let O=r&&(0,f.default)("keyManagementAlgorithms",r.keyManagementAlgorithms),T=r&&(0,f.default)("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(O&&!O.has(S))throw new a.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(T&&!T.has(k))throw new a.JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter not allowed');if(void 0!==e.encrypted_key)try{g=(0,n.decode)(e.encrypted_key)}catch{throw new a.JWEInvalid("Failed to base64url decode the encrypted_key")}let A=!1;"function"==typeof t&&(t=await t(y,e),A=!0);try{m=await (0,c.default)(S,t,g,E,r)}catch(e){if(e instanceof TypeError||e instanceof a.JWEInvalid||e instanceof a.JOSENotSupported)throw e;m=(0,d.default)(k)}try{v=(0,n.decode)(e.iv)}catch{throw new a.JWEInvalid("Failed to base64url decode the iv")}try{_=(0,n.decode)(e.tag)}catch{throw new a.JWEInvalid("Failed to base64url decode the tag")}let x=l.encoder.encode(null!=(h=e.protected)?h:"");b=void 0!==e.aad?(0,l.concat)(x,l.encoder.encode("."),l.encoder.encode(e.aad)):x;try{w=(0,n.decode)(e.ciphertext)}catch{throw new a.JWEInvalid("Failed to base64url decode the ciphertext")}let R=await (0,i.default)(k,m,w,v,_,b);"DEF"===E.zip&&(R=await ((null==r?void 0:r.inflateRaw)||o.inflate)(R));let P={plaintext:R};if(void 0!==e.protected&&(P.protectedHeader=y),void 0!==e.aad)try{P.additionalAuthenticatedData=(0,n.decode)(e.aad)}catch{throw new a.JWEInvalid("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(P.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(P.unprotectedHeader=e.header),A)?{...P,key:t}:P}},96428,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compactDecrypt=void 0;let n=e.r(97682),i=e.r(39600),o=e.r(57054);r.compactDecrypt=async function(e,t,r){if(e instanceof Uint8Array&&(e=o.decoder.decode(e)),"string"!=typeof e)throw new i.JWEInvalid("Compact JWE must be a string or Uint8Array");let{0:a,1:s,2:u,3:c,4:l,length:d}=e.split(".");if(5!==d)throw new i.JWEInvalid("Invalid Compact JWE");let p=await (0,n.flattenedDecrypt)({ciphertext:c,iv:u||void 0,protected:a||void 0,tag:l||void 0,encrypted_key:s||void 0},t,r),f={plaintext:p.plaintext,protectedHeader:p.protectedHeader};return"function"==typeof t?{...f,key:p.key}:f}},74342,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generalDecrypt=void 0;let n=e.r(97682),i=e.r(39600),o=e.r(12992);r.generalDecrypt=async function(e,t,r){if(!(0,o.default)(e))throw new i.JWEInvalid("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(o.default))throw new i.JWEInvalid("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new i.JWEInvalid("JWE Recipients has no members");for(let i of e.recipients)try{return await (0,n.flattenedDecrypt)({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:i.encrypted_key,header:i.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new i.JWEDecryptionFailed}},90072,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=class{constructor(e){if(48!==e[0]||(this.buffer=e,this.offset=1,this.decodeLength()!==e.length-this.offset))throw TypeError()}decodeLength(){let e=this.buffer[this.offset++];if(128&e){let t=-129&e;e=0;for(let r=0;r<t;r++)e=e<<8|this.buffer[this.offset+r];this.offset+=t}return e}unsignedInteger(){if(2!==this.buffer[this.offset++])throw TypeError();let e=this.decodeLength();0===this.buffer[this.offset]&&(this.offset++,e--);let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}end(){if(this.offset!==this.buffer.length)throw TypeError()}}},57965,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799),i=e.r(57225),o=e.r(90072),a=e.r(39600),s=e.r(47114),u=e.r(74668),c=e.r(68097),l=e.r(5256),d=e.r(64048),p=e.r(46481),f=e=>{let t;if((0,u.isCryptoKey)(e)){if(!e.extractable)throw TypeError("CryptoKey is not extractable");t=n.KeyObject.from(e)}else if((0,c.default)(e))t=e;else if(e instanceof Uint8Array)return{kty:"oct",k:(0,i.encode)(e)};else throw TypeError((0,l.default)(e,...d.types,"Uint8Array"));if(p.jwkExport){if("secret"!==t.type&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType))throw new a.JOSENotSupported("Unsupported key asymmetricKeyType");return t.export({format:"jwk"})}switch(t.type){case"secret":return{kty:"oct",k:(0,i.encode)(t.export())};case"private":case"public":switch(t.asymmetricKeyType){case"rsa":{let e,r=t.export({format:"der",type:"pkcs1"}),n=new o.default(r);"private"===t.type&&n.unsignedInteger();let a=(0,i.encode)(n.unsignedInteger()),s=(0,i.encode)(n.unsignedInteger());return"private"===t.type&&(e={d:(0,i.encode)(n.unsignedInteger()),p:(0,i.encode)(n.unsignedInteger()),q:(0,i.encode)(n.unsignedInteger()),dp:(0,i.encode)(n.unsignedInteger()),dq:(0,i.encode)(n.unsignedInteger()),qi:(0,i.encode)(n.unsignedInteger())}),n.end(),{kty:"RSA",n:a,e:s,...e}}case"ec":{let e,r,o,u=(0,s.default)(t);switch(u){case"secp256k1":e=64,r=33,o=-1;break;case"P-256":e=64,r=36,o=-1;break;case"P-384":e=96,r=35,o=-3;break;case"P-521":e=132,r=35,o=-3;break;default:throw new a.JOSENotSupported("Unsupported curve")}if("public"===t.type){let r=t.export({type:"spki",format:"der"});return{kty:"EC",crv:u,x:(0,i.encode)(r.subarray(-e,-e/2)),y:(0,i.encode)(r.subarray(-e/2))}}let c=t.export({type:"pkcs8",format:"der"});return c.length<100&&(r+=o),{...f((0,n.createPublicKey)(t)),d:(0,i.encode)(c.subarray(r,r+e/2))}}case"ed25519":case"x25519":{let e=(0,s.default)(t);if("public"===t.type){let r=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:e,x:(0,i.encode)(r.subarray(-32))}}let r=t.export({type:"pkcs8",format:"der"});return{...f((0,n.createPublicKey)(t)),d:(0,i.encode)(r.subarray(-32))}}case"ed448":case"x448":{let e=(0,s.default)(t);if("public"===t.type){let r=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:e,x:(0,i.encode)(r.subarray("Ed448"===e?-57:-56))}}let r=t.export({type:"pkcs8",format:"der"});return{...f((0,n.createPublicKey)(t)),d:(0,i.encode)(r.subarray("Ed448"===e?-57:-56))}}default:throw new a.JOSENotSupported("Unsupported key asymmetricKeyType")}default:throw new a.JOSENotSupported("Unsupported key type")}};r.default=f},10363,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.exportJWK=r.exportPKCS8=r.exportSPKI=void 0;let n=e.r(49984),i=e.r(49984),o=e.r(57965);r.exportSPKI=async function(e){return(0,n.toSPKI)(e)},r.exportPKCS8=async function(e){return(0,i.toPKCS8)(e)},r.exportJWK=async function(e){return(0,o.default)(e)}},72276,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(70265),i=e.r(97192),o=e.r(8880),a=e.r(76208),s=e.r(57225),u=e.r(53649),c=e.r(39600),l=e.r(10363),d=e.r(6697),p=e.r(31428);r.default=async function(e,t,r,f,h={}){let y,g,m;switch((0,d.default)(e,r,"encrypt"),e){case"dir":m=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!i.ecdhAllowed(r))throw new c.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:o,apv:a}=h,{epk:d}=h;d||(d=(await i.generateEpk(r)).privateKey);let{x:p,y:v,crv:_,kty:b}=await (0,l.exportJWK)(d),w=await i.deriveKey(r,d,"ECDH-ES"===e?t:e,"ECDH-ES"===e?(0,u.bitLength)(t):parseInt(e.slice(-5,-2),10),o,a);if(g={epk:{x:p,crv:_,kty:b}},"EC"===b&&(g.epk.y=v),o&&(g.apu=(0,s.encode)(o)),a&&(g.apv=(0,s.encode)(a)),"ECDH-ES"===e){m=w;break}m=f||(0,u.default)(t);let E=e.slice(-6);y=await (0,n.wrap)(E,w,m);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":m=f||(0,u.default)(t),y=await (0,a.encrypt)(e,r,m);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{m=f||(0,u.default)(t);let{p2c:n,p2s:i}=h;({encryptedKey:y,...g}=await (0,o.encrypt)(e,r,m,n,i));break}case"A128KW":case"A192KW":case"A256KW":m=f||(0,u.default)(t),y=await (0,n.wrap)(e,r,m);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{m=f||(0,u.default)(t);let{iv:n}=h;({encryptedKey:y,...g}=await (0,p.wrap)(e,r,m,n));break}default:throw new c.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:m,encryptedKey:y,parameters:g}}},18638,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FlattenedEncrypt=r.unprotected=void 0;let n=e.r(57225),i=e.r(3754),o=e.r(65400),a=e.r(33302),s=e.r(72276),u=e.r(39600),c=e.r(9421),l=e.r(57054),d=e.r(66776);r.unprotected=Symbol(),r.FlattenedEncrypt=class{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let p,f,h,y,g,m,v;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new u.JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!(0,c.default)(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new u.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let _={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if((0,d.default)(u.JWEInvalid,new Map,null==t?void 0:t.crit,this._protectedHeader,_),void 0!==_.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new u.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==_.zip)throw new u.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:b,enc:w}=_;if("string"!=typeof b||!b)throw new u.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof w||!w)throw new u.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if("dir"===b){if(this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===b&&this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let n;({cek:f,encryptedKey:p,parameters:n}=await (0,s.default)(b,w,e,this._cek,this._keyManagementParameters)),n&&(t&&r.unprotected in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...n}:this.setUnprotectedHeader(n):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...n}:this.setProtectedHeader(n))}if(this._iv||(this._iv=(0,a.default)(w)),y=this._protectedHeader?l.encoder.encode((0,n.encode)(JSON.stringify(this._protectedHeader))):l.encoder.encode(""),this._aad?(g=(0,n.encode)(this._aad),h=(0,l.concat)(y,l.encoder.encode("."),l.encoder.encode(g))):h=y,"DEF"===_.zip){let e=await ((null==t?void 0:t.deflateRaw)||o.deflate)(this._plaintext);({ciphertext:m,tag:v}=await (0,i.default)(w,e,f,this._iv,h))}else({ciphertext:m,tag:v}=await (0,i.default)(w,this._plaintext,f,this._iv,h));let E={ciphertext:(0,n.encode)(m),iv:(0,n.encode)(this._iv),tag:(0,n.encode)(v)};return p&&(E.encrypted_key=(0,n.encode)(p)),g&&(E.aad=g),this._protectedHeader&&(E.protected=l.decoder.decode(y)),this._sharedUnprotectedHeader&&(E.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(E.header=this._unprotectedHeader),E}}},12271,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GeneralEncrypt=void 0;let n=e.r(18638),i=e.r(39600),o=e.r(53649),a=e.r(9421),s=e.r(72276),u=e.r(57225),c=e.r(66776);class l{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}r.GeneralEncrypt=class{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){let r=new l(this,e,{crit:null==t?void 0:t.crit});return this._recipients.push(r),r}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(e){var t,r,l;let d;if(!this._recipients.length)throw new i.JWEInvalid("at least one recipient must be added");if(e={deflateRaw:null==e?void 0:e.deflateRaw},1===this._recipients.length){let[t]=this._recipients,r=await new n.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(t.unprotectedHeader).encrypt(t.key,{...t.options,...e}),i={ciphertext:r.ciphertext,iv:r.iv,recipients:[{}],tag:r.tag};return r.aad&&(i.aad=r.aad),r.protected&&(i.protected=r.protected),r.unprotected&&(i.unprotected=r.unprotected),r.encrypted_key&&(i.recipients[0].encrypted_key=r.encrypted_key),r.header&&(i.recipients[0].header=r.header),i}for(let e=0;e<this._recipients.length;e++){let t=this._recipients[e];if(!(0,a.default)(this._protectedHeader,this._unprotectedHeader,t.unprotectedHeader))throw new i.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let r={...this._protectedHeader,...this._unprotectedHeader,...t.unprotectedHeader},{alg:n}=r;if("string"!=typeof n||!n)throw new i.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===n||"ECDH-ES"===n)throw new i.JWEInvalid('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof r.enc||!r.enc)throw new i.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(d){if(d!==r.enc)throw new i.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else d=r.enc;if((0,c.default)(i.JWEInvalid,new Map,t.options.crit,this._protectedHeader,r),void 0!==r.zip&&(!this._protectedHeader||!this._protectedHeader.zip))throw new i.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}let p=(0,o.default)(d),f={ciphertext:"",iv:"",recipients:[],tag:""};for(let i=0;i<this._recipients.length;i++){let o=this._recipients[i],a={};f.recipients.push(a);let c=({...this._protectedHeader,...this._unprotectedHeader,...o.unprotectedHeader}).alg.startsWith("PBES2")?2048+i:void 0;if(0===i){let t=await new n.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(p).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(o.unprotectedHeader).setKeyManagementParameters({p2c:c}).encrypt(o.key,{...o.options,...e,[n.unprotected]:!0});f.ciphertext=t.ciphertext,f.iv=t.iv,f.tag=t.tag,t.aad&&(f.aad=t.aad),t.protected&&(f.protected=t.protected),t.unprotected&&(f.unprotected=t.unprotected),a.encrypted_key=t.encrypted_key,t.header&&(a.header=t.header);continue}let{encryptedKey:h,parameters:y}=await (0,s.default)((null==(t=o.unprotectedHeader)?void 0:t.alg)||(null==(r=this._protectedHeader)?void 0:r.alg)||(null==(l=this._unprotectedHeader)?void 0:l.alg),d,o.key,p,{p2c:c});a.encrypted_key=(0,u.encode)(h),(o.unprotectedHeader||y)&&(a.header={...o.unprotectedHeader,...y})}return f}}},20098,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(39600);r.default=function(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return;default:throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},74039,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799),i=e.r(47114),o=e.r(39600),a=e.r(46228),s=e.r(46481),u={padding:n.constants.RSA_PKCS1_PSS_PADDING,saltLength:n.constants.RSA_PSS_SALTLEN_DIGEST},c=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);r.default=function(e,t){switch(e){case"EdDSA":if(!["ed25519","ed448"].includes(t.asymmetricKeyType))throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");return t;case"RS256":case"RS384":case"RS512":if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,a.default)(t,e),t;case s.rsaPssParams&&"PS256":case s.rsaPssParams&&"PS384":case s.rsaPssParams&&"PS512":if("rsa-pss"===t.asymmetricKeyType){let{hashAlgorithm:r,mgf1HashAlgorithm:n,saltLength:i}=t.asymmetricKeyDetails,o=parseInt(e.slice(-3),10);if(void 0!==r&&(r!==`sha${o}`||n!==r))throw TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(void 0!==i&&i>o>>3)throw TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");return(0,a.default)(t,e),{key:t,...u};case!s.rsaPssParams&&"PS256":case!s.rsaPssParams&&"PS384":case!s.rsaPssParams&&"PS512":if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,a.default)(t,e),{key:t,...u};case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let r=(0,i.default)(t),n=c.get(e);if(r!==n)throw TypeError(`Invalid key curve for the algorithm, its curve must be ${n}, got ${r}`);return{dsaEncoding:"ieee-p1363",key:t}}default:throw new o.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},96922,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(39600);r.default=function(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},97587,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799),i=e.r(74668),o=e.r(80496),a=e.r(5256),s=e.r(64048);r.default=function(e,t,r){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError((0,a.default)(t,...s.types));return(0,n.createSecretKey)(t)}if(t instanceof n.KeyObject)return t;if((0,i.isCryptoKey)(t))return(0,o.checkSigCryptoKey)(t,e,r),n.KeyObject.from(t);throw TypeError((0,a.default)(t,...s.types,"Uint8Array"))}},53867,(e,t,r)=>{"use strict";let n;Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(54799),o=e.r(24361),a=e.r(20098),s=e.r(96922),u=e.r(74039),c=e.r(97587);n=i.sign.length>3?(0,o.promisify)(i.sign):i.sign,r.default=async(e,t,r)=>{let o=(0,c.default)(e,t,"sign");if(e.startsWith("HS")){let t=i.createHmac((0,s.default)(e),o);return t.update(r),t.digest()}return n((0,a.default)(e),r,(0,u.default)(e,o))}},80391,(e,t,r)=>{"use strict";let n;Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(54799),o=e.r(24361),a=e.r(20098),s=e.r(74039),u=e.r(53867),c=e.r(97587),l=e.r(46481);n=i.verify.length>4&&l.oneShotCallback?(0,o.promisify)(i.verify):i.verify,r.default=async(e,t,r,o)=>{let l=(0,c.default)(e,t,"verify");if(e.startsWith("HS")){let t=await (0,u.default)(e,l,o);try{return i.timingSafeEqual(r,t)}catch{return!1}}let d=(0,a.default)(e),p=(0,s.default)(e,l);try{return await n(d,o,p,r)}catch{return!1}}},62083,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.flattenedVerify=void 0;let n=e.r(57225),i=e.r(80391),o=e.r(39600),a=e.r(57054),s=e.r(9421),u=e.r(12992),c=e.r(6697),l=e.r(66776),d=e.r(62224);r.flattenedVerify=async function(e,t,r){var p;let f,h;if(!(0,u.default)(e))throw new o.JWSInvalid("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new o.JWSInvalid('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new o.JWSInvalid("JWS Protected Header incorrect type");if(void 0===e.payload)throw new o.JWSInvalid("JWS Payload missing");if("string"!=typeof e.signature)throw new o.JWSInvalid("JWS Signature missing or incorrect type");if(void 0!==e.header&&!(0,u.default)(e.header))throw new o.JWSInvalid("JWS Unprotected Header incorrect type");let y={};if(e.protected)try{let t=(0,n.decode)(e.protected);y=JSON.parse(a.decoder.decode(t))}catch{throw new o.JWSInvalid("JWS Protected Header is invalid")}if(!(0,s.default)(y,e.header))throw new o.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let g={...y,...e.header},m=(0,l.default)(o.JWSInvalid,new Map([["b64",!0]]),null==r?void 0:r.crit,y,g),v=!0;if(m.has("b64")&&"boolean"!=typeof(v=y.b64))throw new o.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:_}=g;if("string"!=typeof _||!_)throw new o.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');let b=r&&(0,d.default)("algorithms",r.algorithms);if(b&&!b.has(_))throw new o.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(v){if("string"!=typeof e.payload)throw new o.JWSInvalid("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new o.JWSInvalid("JWS Payload must be a string or an Uint8Array instance");let w=!1;"function"==typeof t&&(t=await t(y,e),w=!0),(0,c.default)(_,t,"verify");let E=(0,a.concat)(a.encoder.encode(null!=(p=e.protected)?p:""),a.encoder.encode("."),"string"==typeof e.payload?a.encoder.encode(e.payload):e.payload);try{f=(0,n.decode)(e.signature)}catch{throw new o.JWSInvalid("Failed to base64url decode the signature")}if(!await (0,i.default)(_,t,f,E))throw new o.JWSSignatureVerificationFailed;if(v)try{h=(0,n.decode)(e.payload)}catch{throw new o.JWSInvalid("Failed to base64url decode the payload")}else h="string"==typeof e.payload?a.encoder.encode(e.payload):e.payload;let S={payload:h};return(void 0!==e.protected&&(S.protectedHeader=y),void 0!==e.header&&(S.unprotectedHeader=e.header),w)?{...S,key:t}:S}},45226,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compactVerify=void 0;let n=e.r(62083),i=e.r(39600),o=e.r(57054);r.compactVerify=async function(e,t,r){if(e instanceof Uint8Array&&(e=o.decoder.decode(e)),"string"!=typeof e)throw new i.JWSInvalid("Compact JWS must be a string or Uint8Array");let{0:a,1:s,2:u,length:c}=e.split(".");if(3!==c)throw new i.JWSInvalid("Invalid Compact JWS");let l=await (0,n.flattenedVerify)({payload:s,protected:a,signature:u},t,r),d={payload:l.payload,protectedHeader:l.protectedHeader};return"function"==typeof t?{...d,key:l.key}:d}},33289,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generalVerify=void 0;let n=e.r(62083),i=e.r(39600),o=e.r(12992);r.generalVerify=async function(e,t,r){if(!(0,o.default)(e))throw new i.JWSInvalid("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(o.default))throw new i.JWSInvalid("JWS Signatures missing or incorrect type");for(let i of e.signatures)try{return await (0,n.flattenedVerify)({header:i.header,payload:e.payload,protected:i.protected,signature:i.signature},t,r)}catch{}throw new i.JWSSignatureVerificationFailed}},32292,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=e=>Math.floor(e.getTime()/1e3)},72306,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;r.default=e=>{let t=n.exec(e);if(!t)throw TypeError("Invalid time period format");let r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(86400*r);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(0x1e187e0*r)}}},64408,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(39600),i=e.r(57054),o=e.r(32292),a=e.r(72306),s=e.r(12992),u=e=>e.toLowerCase().replace(/^application\//,"");r.default=(e,t,r={})=>{var c,l;let d,p,{typ:f}=r;if(f&&("string"!=typeof e.typ||u(e.typ)!==u(f)))throw new n.JWTClaimValidationFailed('unexpected "typ" JWT header value',"typ","check_failed");try{d=JSON.parse(i.decoder.decode(t))}catch{}if(!(0,s.default)(d))throw new n.JWTInvalid("JWT Claims Set must be a top-level JSON object");let{requiredClaims:h=[],issuer:y,subject:g,audience:m,maxTokenAge:v}=r;for(let e of(void 0!==v&&h.push("iat"),void 0!==m&&h.push("aud"),void 0!==g&&h.push("sub"),void 0!==y&&h.push("iss"),new Set(h.reverse())))if(!(e in d))throw new n.JWTClaimValidationFailed(`missing required "${e}" claim`,e,"missing");if(y&&!(Array.isArray(y)?y:[y]).includes(d.iss))throw new n.JWTClaimValidationFailed('unexpected "iss" claim value',"iss","check_failed");if(g&&d.sub!==g)throw new n.JWTClaimValidationFailed('unexpected "sub" claim value',"sub","check_failed");if(m&&(c=d.aud,l="string"==typeof m?[m]:m,"string"==typeof c?!l.includes(c):!(Array.isArray(c)&&l.some(Set.prototype.has.bind(new Set(c))))))throw new n.JWTClaimValidationFailed('unexpected "aud" claim value',"aud","check_failed");switch(typeof r.clockTolerance){case"string":p=(0,a.default)(r.clockTolerance);break;case"number":p=r.clockTolerance;break;case"undefined":p=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:_}=r,b=(0,o.default)(_||new Date);if((void 0!==d.iat||v)&&"number"!=typeof d.iat)throw new n.JWTClaimValidationFailed('"iat" claim must be a number',"iat","invalid");if(void 0!==d.nbf){if("number"!=typeof d.nbf)throw new n.JWTClaimValidationFailed('"nbf" claim must be a number',"nbf","invalid");if(d.nbf>b+p)throw new n.JWTClaimValidationFailed('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==d.exp){if("number"!=typeof d.exp)throw new n.JWTClaimValidationFailed('"exp" claim must be a number',"exp","invalid");if(d.exp<=b-p)throw new n.JWTExpired('"exp" claim timestamp check failed',"exp","check_failed")}if(v){let e=b-d.iat;if(e-p>("number"==typeof v?v:(0,a.default)(v)))throw new n.JWTExpired('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-p)throw new n.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return d}},81144,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.jwtVerify=void 0;let n=e.r(45226),i=e.r(64408),o=e.r(39600);r.jwtVerify=async function(e,t,r){var a;let s=await (0,n.compactVerify)(e,t,r);if((null==(a=s.protectedHeader.crit)?void 0:a.includes("b64"))&&!1===s.protectedHeader.b64)throw new o.JWTInvalid("JWTs MUST NOT use unencoded payload");let u={payload:(0,i.default)(s.protectedHeader,s.payload,r),protectedHeader:s.protectedHeader};return"function"==typeof t?{...u,key:s.key}:u}},59864,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.jwtDecrypt=void 0;let n=e.r(96428),i=e.r(64408),o=e.r(39600);r.jwtDecrypt=async function(e,t,r){let a=await (0,n.compactDecrypt)(e,t,r),s=(0,i.default)(a.protectedHeader,a.plaintext,r),{protectedHeader:u}=a;if(void 0!==u.iss&&u.iss!==s.iss)throw new o.JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==u.sub&&u.sub!==s.sub)throw new o.JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==u.aud&&JSON.stringify(u.aud)!==JSON.stringify(s.aud))throw new o.JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',"aud","mismatch");let c={payload:s,protectedHeader:u};return"function"==typeof t?{...c,key:a.key}:c}},44739,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CompactEncrypt=void 0;let n=e.r(18638);r.CompactEncrypt=class{constructor(e){this._flattened=new n.FlattenedEncrypt(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}},4390,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FlattenedSign=void 0;let n=e.r(57225),i=e.r(53867),o=e.r(9421),a=e.r(39600),s=e.r(57054),u=e.r(6697),c=e.r(66776);r.FlattenedSign=class{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){let r;if(!this._protectedHeader&&!this._unprotectedHeader)throw new a.JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,o.default)(this._protectedHeader,this._unprotectedHeader))throw new a.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let l={...this._protectedHeader,...this._unprotectedHeader},d=(0,c.default)(a.JWSInvalid,new Map([["b64",!0]]),null==t?void 0:t.crit,this._protectedHeader,l),p=!0;if(d.has("b64")&&"boolean"!=typeof(p=this._protectedHeader.b64))throw new a.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:f}=l;if("string"!=typeof f||!f)throw new a.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,u.default)(f,e,"sign");let h=this._payload;p&&(h=s.encoder.encode((0,n.encode)(h))),r=this._protectedHeader?s.encoder.encode((0,n.encode)(JSON.stringify(this._protectedHeader))):s.encoder.encode("");let y=(0,s.concat)(r,s.encoder.encode("."),h),g=await (0,i.default)(f,e,y),m={signature:(0,n.encode)(g),payload:""};return p&&(m.payload=s.decoder.decode(h)),this._unprotectedHeader&&(m.header=this._unprotectedHeader),this._protectedHeader&&(m.protected=s.decoder.decode(r)),m}}},5224,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CompactSign=void 0;let n=e.r(4390);r.CompactSign=class{constructor(e){this._flattened=new n.FlattenedSign(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){let r=await this._flattened.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}},36396,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GeneralSign=void 0;let n=e.r(4390),i=e.r(39600);class o{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setProtectedHeader(e){if(this.protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}r.GeneralSign=class{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){let r=new o(this,e,t);return this._signatures.push(r),r}async sign(){if(!this._signatures.length)throw new i.JWSInvalid("at least one signature must be added");let e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){let r=this._signatures[t],o=new n.FlattenedSign(this._payload);o.setProtectedHeader(r.protectedHeader),o.setUnprotectedHeader(r.unprotectedHeader);let{payload:a,...s}=await o.sign(r.key,r.options);if(0===t)e.payload=a;else if(e.payload!==a)throw new i.JWSInvalid("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(s)}return e}}},56781,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ProduceJWT=void 0;let n=e.r(32292),i=e.r(12992),o=e.r(72306);r.ProduceJWT=class{constructor(e){if(!(0,i.default)(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:e}:this._payload={...this._payload,nbf:(0,n.default)(new Date)+(0,o.default)(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:e}:this._payload={...this._payload,exp:(0,n.default)(new Date)+(0,o.default)(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:(0,n.default)(new Date)}:this._payload={...this._payload,iat:e},this}}},56170,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SignJWT=void 0;let n=e.r(5224),i=e.r(39600),o=e.r(57054),a=e.r(56781);class s extends a.ProduceJWT{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){var r;let a=new n.CompactSign(o.encoder.encode(JSON.stringify(this._payload)));if(a.setProtectedHeader(this._protectedHeader),Array.isArray(null==(r=this._protectedHeader)?void 0:r.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new i.JWTInvalid("JWTs MUST NOT use unencoded payload");return a.sign(e,t)}}r.SignJWT=s},68240,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EncryptJWT=void 0;let n=e.r(44739),i=e.r(57054),o=e.r(56781);class a extends o.ProduceJWT{setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new n.CompactEncrypt(i.encoder.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}r.EncryptJWT=a},7325,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.calculateJwkThumbprintUri=r.calculateJwkThumbprint=void 0;let n=e.r(31831),i=e.r(57225),o=e.r(39600),a=e.r(57054),s=e.r(12992),u=(e,t)=>{if("string"!=typeof e||!e)throw new o.JWKInvalid(`${t} missing or invalid`)};async function c(e,t){let r;if(!(0,s.default)(e))throw TypeError("JWK must be an object");if(null!=t||(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":u(e.crv,'"crv" (Curve) Parameter'),u(e.x,'"x" (X Coordinate) Parameter'),u(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":u(e.crv,'"crv" (Subtype of Key Pair) Parameter'),u(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":u(e.e,'"e" (Exponent) Parameter'),u(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":u(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new o.JOSENotSupported('"kty" (Key Type) Parameter missing or unsupported')}let c=a.encoder.encode(JSON.stringify(r));return(0,i.encode)(await (0,n.default)(t,c))}r.calculateJwkThumbprint=c,r.calculateJwkThumbprintUri=async function(e,t){null!=t||(t="sha256");let r=await c(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}},13422,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EmbeddedJWK=void 0;let n=e.r(77029),i=e.r(12992),o=e.r(39600);r.EmbeddedJWK=async function(e,t){let r={...e,...null==t?void 0:t.header};if(!(0,i.default)(r.jwk))throw new o.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a JSON object');let a=await (0,n.importJWK)({...r.jwk,ext:!0},r.alg,!0);if(a instanceof Uint8Array||"public"!==a.type)throw new o.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a public key');return a}},20959,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createLocalJWKSet=r.LocalJWKSet=r.isJWKSLike=void 0;let n=e.r(77029),i=e.r(39600),o=e.r(12992);function a(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(s)}function s(e){return(0,o.default)(e)}r.isJWKSLike=a;class u{constructor(e){if(this._cached=new WeakMap,!a(e))throw new i.JWKSInvalid("JSON Web Key Set malformed");this._jwks=function(e){return"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}(e)}async getKey(e,t){let{alg:r,kid:n}={...e,...null==t?void 0:t.header},o=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new i.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}(r),a=this._jwks.keys.filter(e=>{let t=o===e.kty;if(t&&"string"==typeof n&&(t=n===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t}),{0:s,length:u}=a;if(0===u)throw new i.JWKSNoMatchingKey;if(1!==u){let e=new i.JWKSMultipleMatchingKeys,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(let e of a)try{yield await c(t,e,r)}catch{continue}},e}return c(this._cached,s,r)}}async function c(e,t,r){let o=e.get(t)||e.set(t,{}).get(t);if(void 0===o[r]){let e=await (0,n.importJWK)({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new i.JWKSInvalid("JSON Web Key Set members must be public keys");o[r]=e}return o[r]}r.LocalJWKSet=u,r.createLocalJWKSet=function(e){let t=new u(e);return async function(e,r){return t.getKey(e,r)}}},57955,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(21517),i=e.r(24836),o=e.r(27699),a=e.r(39600),s=e.r(57054);r.default=async(e,t,r)=>{let u;switch(e.protocol){case"https:":u=i.get;break;case"http:":u=n.get;break;default:throw TypeError("Unsupported URL protocol.")}let{agent:c,headers:l}=r,d=u(e.href,{agent:c,timeout:t,headers:l}),[p]=await Promise.race([(0,o.once)(d,"response"),(0,o.once)(d,"timeout")]);if(!p)throw d.destroy(),new a.JWKSTimeout;if(200!==p.statusCode)throw new a.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");let f=[];for await(let e of p)f.push(e);try{return JSON.parse(s.decoder.decode((0,s.concat)(...f)))}catch{throw new a.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}}},42242,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createRemoteJWKSet=void 0;let n=e.r(57955),i=e.r(39600),o=e.r(20959);class a extends o.LocalJWKSet{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent,headers:null==t?void 0:t.headers},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof i.JWKSNoMatchingKey&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){this._pendingFetch&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=(0,n.default)(this._url,this._timeoutDuration,this._options).then(e=>{if(!(0,o.isJWKSLike)(e))throw new i.JWKSInvalid("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}r.createRemoteJWKSet=function(e,t){let r=new a(e,t);return async function(e,t){return r.getKey(e,t)}}},75128,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UnsecuredJWT=void 0;let n=e.r(57225),i=e.r(57054),o=e.r(39600),a=e.r(64408),s=e.r(56781);class u extends s.ProduceJWT{encode(){let e=n.encode(JSON.stringify({alg:"none"})),t=n.encode(JSON.stringify(this._payload));return`${e}.${t}.`}static decode(e,t){let r;if("string"!=typeof e)throw new o.JWTInvalid("Unsecured JWT must be a string");let{0:s,1:u,2:c,length:l}=e.split(".");if(3!==l||""!==c)throw new o.JWTInvalid("Invalid Unsecured JWT");try{if(r=JSON.parse(i.decoder.decode(n.decode(s))),"none"!==r.alg)throw Error()}catch{throw new o.JWTInvalid("Invalid Unsecured JWT")}return{payload:(0,a.default)(r,n.decode(u),t),header:r}}}r.UnsecuredJWT=u},81080,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decode=r.encode=void 0;let n=e.r(57225);r.encode=n.encode,r.decode=n.decode},65561,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decodeProtectedHeader=void 0;let n=e.r(81080),i=e.r(57054),o=e.r(12992);r.decodeProtectedHeader=function(e){let t;if("string"==typeof e){let r=e.split(".");(3===r.length||5===r.length)&&([t]=r)}else if("object"==typeof e&&e)if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header");try{if("string"!=typeof t||!t)throw Error();let e=JSON.parse(i.decoder.decode((0,n.decode)(t)));if(!(0,o.default)(e))throw Error();return e}catch{throw TypeError("Invalid Token or Protected Header formatting")}}},97898,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decodeJwt=void 0;let n=e.r(81080),i=e.r(57054),o=e.r(12992),a=e.r(39600);r.decodeJwt=function(e){let t,r;if("string"!=typeof e)throw new a.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");let{1:s,length:u}=e.split(".");if(5===u)throw new a.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(3!==u)throw new a.JWTInvalid("Invalid JWT");if(!s)throw new a.JWTInvalid("JWTs must contain a payload");try{t=(0,n.decode)(s)}catch{throw new a.JWTInvalid("Failed to base64url decode the payload")}try{r=JSON.parse(i.decoder.decode(t))}catch{throw new a.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0,o.default)(r))throw new a.JWTInvalid("Invalid JWT Claims Set");return r}},32055,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generateKeyPair=r.generateSecret=void 0;let n=e.r(54799),i=e.r(24361),o=e.r(19080),a=e.r(46228),s=e.r(39600),u=(0,i.promisify)(n.generateKeyPair);r.generateSecret=async function(e,t){let r;switch(e){case"HS256":case"HS384":case"HS512":case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128KW":case"A192KW":case"A256KW":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new s.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return(0,n.createSecretKey)((0,o.default)(new Uint8Array(r>>3)))},r.generateKeyPair=async function(e,t){var r,n;switch(e){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":case"RSA1_5":{let e=null!=(r=null==t?void 0:t.modulusLength)?r:2048;if("number"!=typeof e||e<2048)throw new s.JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");let n=await u("rsa",{modulusLength:e,publicExponent:65537});return(0,a.setModulusLength)(n.privateKey,e),(0,a.setModulusLength)(n.publicKey,e),n}case"ES256":return u("ec",{namedCurve:"P-256"});case"ES256K":return u("ec",{namedCurve:"secp256k1"});case"ES384":return u("ec",{namedCurve:"P-384"});case"ES512":return u("ec",{namedCurve:"P-521"});case"EdDSA":switch(null==t?void 0:t.crv){case void 0:case"Ed25519":return u("ed25519");case"Ed448":return u("ed448");default:throw new s.JOSENotSupported("Invalid or unsupported crv option provided, supported values are Ed25519 and Ed448")}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":let i=null!=(n=null==t?void 0:t.crv)?n:"P-256";switch(i){case void 0:case"P-256":case"P-384":case"P-521":return u("ec",{namedCurve:i});case"X25519":return u("x25519");case"X448":return u("x448");default:throw new s.JOSENotSupported("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}default:throw new s.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}}},886,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generateKeyPair=void 0;let n=e.r(32055);r.generateKeyPair=async function(e,t){return(0,n.generateKeyPair)(e,t)}},18279,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generateSecret=void 0;let n=e.r(32055);r.generateSecret=async function(e,t){return(0,n.generateSecret)(e,t)}},88618,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default="node:crypto"},24777,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=e.r(88618).default},33817,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.cryptoRuntime=r.base64url=r.generateSecret=r.generateKeyPair=r.errors=r.decodeJwt=r.decodeProtectedHeader=r.importJWK=r.importX509=r.importPKCS8=r.importSPKI=r.exportJWK=r.exportSPKI=r.exportPKCS8=r.UnsecuredJWT=r.createRemoteJWKSet=r.createLocalJWKSet=r.EmbeddedJWK=r.calculateJwkThumbprintUri=r.calculateJwkThumbprint=r.EncryptJWT=r.SignJWT=r.GeneralSign=r.FlattenedSign=r.CompactSign=r.FlattenedEncrypt=r.CompactEncrypt=r.jwtDecrypt=r.jwtVerify=r.generalVerify=r.flattenedVerify=r.compactVerify=r.GeneralEncrypt=r.generalDecrypt=r.flattenedDecrypt=r.compactDecrypt=void 0;var n=e.r(96428);Object.defineProperty(r,"compactDecrypt",{enumerable:!0,get:function(){return n.compactDecrypt}});var i=e.r(97682);Object.defineProperty(r,"flattenedDecrypt",{enumerable:!0,get:function(){return i.flattenedDecrypt}});var o=e.r(74342);Object.defineProperty(r,"generalDecrypt",{enumerable:!0,get:function(){return o.generalDecrypt}});var a=e.r(12271);Object.defineProperty(r,"GeneralEncrypt",{enumerable:!0,get:function(){return a.GeneralEncrypt}});var s=e.r(45226);Object.defineProperty(r,"compactVerify",{enumerable:!0,get:function(){return s.compactVerify}});var u=e.r(62083);Object.defineProperty(r,"flattenedVerify",{enumerable:!0,get:function(){return u.flattenedVerify}});var c=e.r(33289);Object.defineProperty(r,"generalVerify",{enumerable:!0,get:function(){return c.generalVerify}});var l=e.r(81144);Object.defineProperty(r,"jwtVerify",{enumerable:!0,get:function(){return l.jwtVerify}});var d=e.r(59864);Object.defineProperty(r,"jwtDecrypt",{enumerable:!0,get:function(){return d.jwtDecrypt}});var p=e.r(44739);Object.defineProperty(r,"CompactEncrypt",{enumerable:!0,get:function(){return p.CompactEncrypt}});var f=e.r(18638);Object.defineProperty(r,"FlattenedEncrypt",{enumerable:!0,get:function(){return f.FlattenedEncrypt}});var h=e.r(5224);Object.defineProperty(r,"CompactSign",{enumerable:!0,get:function(){return h.CompactSign}});var y=e.r(4390);Object.defineProperty(r,"FlattenedSign",{enumerable:!0,get:function(){return y.FlattenedSign}});var g=e.r(36396);Object.defineProperty(r,"GeneralSign",{enumerable:!0,get:function(){return g.GeneralSign}});var m=e.r(56170);Object.defineProperty(r,"SignJWT",{enumerable:!0,get:function(){return m.SignJWT}});var v=e.r(68240);Object.defineProperty(r,"EncryptJWT",{enumerable:!0,get:function(){return v.EncryptJWT}});var _=e.r(7325);Object.defineProperty(r,"calculateJwkThumbprint",{enumerable:!0,get:function(){return _.calculateJwkThumbprint}}),Object.defineProperty(r,"calculateJwkThumbprintUri",{enumerable:!0,get:function(){return _.calculateJwkThumbprintUri}});var b=e.r(13422);Object.defineProperty(r,"EmbeddedJWK",{enumerable:!0,get:function(){return b.EmbeddedJWK}});var w=e.r(20959);Object.defineProperty(r,"createLocalJWKSet",{enumerable:!0,get:function(){return w.createLocalJWKSet}});var E=e.r(42242);Object.defineProperty(r,"createRemoteJWKSet",{enumerable:!0,get:function(){return E.createRemoteJWKSet}});var S=e.r(75128);Object.defineProperty(r,"UnsecuredJWT",{enumerable:!0,get:function(){return S.UnsecuredJWT}});var k=e.r(10363);Object.defineProperty(r,"exportPKCS8",{enumerable:!0,get:function(){return k.exportPKCS8}}),Object.defineProperty(r,"exportSPKI",{enumerable:!0,get:function(){return k.exportSPKI}}),Object.defineProperty(r,"exportJWK",{enumerable:!0,get:function(){return k.exportJWK}});var O=e.r(77029);Object.defineProperty(r,"importSPKI",{enumerable:!0,get:function(){return O.importSPKI}}),Object.defineProperty(r,"importPKCS8",{enumerable:!0,get:function(){return O.importPKCS8}}),Object.defineProperty(r,"importX509",{enumerable:!0,get:function(){return O.importX509}}),Object.defineProperty(r,"importJWK",{enumerable:!0,get:function(){return O.importJWK}});var T=e.r(65561);Object.defineProperty(r,"decodeProtectedHeader",{enumerable:!0,get:function(){return T.decodeProtectedHeader}});var A=e.r(97898);Object.defineProperty(r,"decodeJwt",{enumerable:!0,get:function(){return A.decodeJwt}}),r.errors=e.r(39600);var x=e.r(886);Object.defineProperty(r,"generateKeyPair",{enumerable:!0,get:function(){return x.generateKeyPair}});var R=e.r(18279);Object.defineProperty(r,"generateSecret",{enumerable:!0,get:function(){return R.generateSecret}}),r.base64url=e.r(81080);var P=e.r(24777);Object.defineProperty(r,"cryptoRuntime",{enumerable:!0,get:function(){return P.default}})},47591,(e,t,r)=>{let n,{strict:i}=e.r(49719),{createHash:o}=e.r(54799),{format:a}=e.r(24361);function s(e,t,r){let i=(function(e,t){switch(e){case"HS256":case"RS256":case"PS256":case"ES256":case"ES256K":return o("sha256");case"HS384":case"RS384":case"PS384":case"ES384":return o("sha384");case"HS512":case"RS512":case"PS512":case"ES512":case"Ed25519":return o("sha512");case"Ed448":return o("shake256",{outputLength:114});case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return o("shake256",{outputLength:64});case"EdDSA":switch(t){case"Ed25519":return o("sha512");case"Ed448":return o("shake256",{outputLength:114});default:throw TypeError("unrecognized or invalid EdDSA curve provided")}default:throw TypeError("unrecognized or invalid JWS algorithm provided")}})(t,r).update(e).digest();return n(i.slice(0,i.length/2))}n=Buffer.isEncoding("base64url")?e=>e.toString("base64url"):e=>e.toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),t.exports={validate:function(e,t,r,n,o){let u,c;if("string"!=typeof e.claim||!e.claim)throw TypeError("names.claim must be a non-empty string");if("string"!=typeof e.source||!e.source)throw TypeError("names.source must be a non-empty string");i("string"==typeof t&&t,`${e.claim} must be a non-empty string`),i("string"==typeof r&&r,`${e.source} must be a non-empty string`);try{u=s(r,n,o)}catch(t){c=a("%s could not be validated (%s)",e.claim,t.message)}c=c||a("%s mismatch, expected %s, got: %s",e.claim,u,t),i.equal(u,t,c)},generate:s}},65222,(e,t,r)=>{let n=e.r(24361),i=e.r(54799);t.exports=n.types.isKeyObject||(e=>e&&e instanceof i.KeyObject)},31591,(e,t,r)=>{let n;n=Buffer.isEncoding("base64url")?(e,t="utf8")=>Buffer.from(e,t).toString("base64url"):(e,t="utf8")=>Buffer.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),t.exports.decode=e=>Buffer.from(e,"base64"),t.exports.encode=n},31163,(e,t,r)=>{let n=e.r(31591);t.exports=e=>{if("string"!=typeof e||!e)throw TypeError("JWT must be a string");let{0:t,1:r,2:i,length:o}=e.split(".");if(5===o)throw TypeError("encrypted JWTs cannot be decoded");if(3!==o)throw Error("JWTs must have three components");try{return{header:JSON.parse(n.decode(t)),payload:JSON.parse(n.decode(r)),signature:i}}catch(e){throw Error("JWT is malformed")}}},97878,(e,t,r)=>{t.exports=e=>!!e&&e.constructor===Object},40391,(e,t,r)=>{let n=e.r(97878);function i(e,t,...r){for(let o of r)if(n(o))for(let[r,a]of Object.entries(o))"__proto__"!==r&&"constructor"!==r&&(void 0===t[r]&&void 0!==a&&(t[r]=a),e&&n(t[r])&&n(a)&&i(!0,t[r],a));return t}t.exports=i.bind(void 0,!1),t.exports.deep=i.bind(void 0,!0)},34613,(e,t,r)=>{let n=/(\w+)=("[^"]*")/g;t.exports=e=>{let t={};try{for(;null!==n.exec(e);)RegExp.$1&&RegExp.$2&&(t[RegExp.$1]=RegExp.$2.slice(1,-1))}catch(e){}return t}},59751,(e,t,r)=>{t.exports={assertSigningAlgValuesSupport:function(e,t,r){if(!t[`${e}_endpoint`])return;let n=`${e}_endpoint_auth_method`,i=`${e}_endpoint_auth_signing_alg`,o=`${e}_endpoint_auth_signing_alg_values_supported`;if(r[n]&&r[n].endsWith("_jwt")&&!r[i]&&!t[o])throw TypeError(`${o} must be configured on the issuer if ${i} is not defined on a client`)},assertIssuerConfiguration:function(e,t){if(!e[t])throw TypeError(`${t} must be configured on the issuer`)}}},5048,(e,t,r)=>{t.exports=function(e,...t){let r={};for(let n of t)void 0!==e[n]&&(r[n]=e[n]);return r}},77809,(e,t,r)=>{let{STATUS_CODES:n}=e.r(21517),{format:i}=e.r(24361),{OPError:o}=e.r(85975),a=e.r(34613);t.exports=function(e,{statusCode:t=200,body:r=!0,bearer:s=!1}={}){if(e.statusCode!==t){if(s&&(e=>{let t=a(e.headers["www-authenticate"]);if(t.error)throw new o(t,e)})(e),(e=>{let t=!1;try{let r;r="object"!=typeof e.body||Buffer.isBuffer(e.body)?JSON.parse(e.body):e.body,(t="string"==typeof r.error&&r.error.length)&&Object.defineProperty(e,"body",{value:r,configurable:!0})}catch(e){}return t})(e))throw new o(e.body,e);throw new o({error:i("expected %i %s, got: %i %s",t,n[t],e.statusCode,n[e.statusCode])},e)}if(r&&!e.body)throw new o({error:i("expected %i %s with body but no body was returned",t,n[t])},e);return e.body}},74285,(e,t,r)=>{t.exports=()=>Math.floor(Date.now()/1e3)},33772,(e,t,r)=>{let n=e.r(31591),i=e.r(74285);t.exports=class{constructor(e){Object.assign(this,e);const{constructor:t,...r}=Object.getOwnPropertyDescriptors(this.constructor.prototype);Object.defineProperties(this,r)}set expires_in(e){this.expires_at=i()+Number(e)}get expires_in(){return Math.max.apply(null,[this.expires_at-i(),0])}expired(){return 0===this.expires_in}claims(){if(!this.id_token)throw TypeError("id_token not present in TokenSet");return JSON.parse(n.decode(this.id_token.split(".")[1]))}}},13379,(e,t,r)=>{let{createHash:n,randomBytes:i}=e.r(54799),o=e.r(31591),a=(e=32)=>o.encode(i(e));t.exports={random:a,state:a,nonce:a,codeVerifier:a,codeChallenge:e=>o.encode(n("sha256").update(e).digest())}},40398,(e,t,r)=>{"use strict";t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},74131,(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=i,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e,t,r=0,n=arguments.length;r<n;r++){e=this,t=arguments[r],e.tail=new i(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}return this.length},n.prototype.unshift=function(){for(var e,t,r=0,n=arguments.length;r<n;r++){e=this,t=arguments[r],e.head=new i(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,o=this.head;null!==o&&n<e;n++)o=o.next;for(var a=[],n=0;o&&n<t;n++)a.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var n=0;n<r.length;n++)o=function(e,t,r){var n=t===e.head?new i(r,null,t,e):new i(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}(this,o,r[n]);return a},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{e.r(40398)(n)}catch(e){}},38703,(e,t,r)=>{"use strict";let n=e.r(74131),i=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),d=Symbol("lruList"),p=Symbol("cache"),f=Symbol("updateAgeOnGet"),h=()=>1,y=(e,t,r)=>{let n=e[p].get(t);if(n){let t=n.value;if(g(e,t)){if(v(e,n),!e[s])return}else r&&(e[f]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[u]&&r>e[u]},m=e=>{if(e[o]>e[i])for(let t=e[d].tail;e[o]>e[i]&&null!==t;){let r=t.prev;v(e,t),t=r}},v=(e,t)=>{if(t){let r=t.value;e[c]&&e[c](r.key,r.value),e[o]-=r.length,e[p].delete(r.key),e[d].removeNode(t)}};class _{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}let b=(e,t,r,n)=>{let i=r.value;g(e,i)&&(v(e,r),e[s]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};t.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||h;if(this[a]="function"!=typeof t?h:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[c]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[i]=e||1/0,m(this)}get max(){return this[i]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[u]=e,m(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=h),e!==this[a]&&(this[a]=e,this[o]=0,this[d].forEach(e=>{e.length=this[a](e.value,e.key),this[o]+=e.length})),m(this)}get lengthCalculator(){return this[a]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){let n=r.prev;b(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){let n=r.next;b(this,e,r,t),r=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach(e=>this[c](e.key,e.value)),this[p]=new Map,this[d]=new n,this[o]=0}dump(){return this[d].map(e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,r){if((r=r||this[u])&&"number"!=typeof r)throw TypeError("maxAge must be a number");let n=r?Date.now():0,s=this[a](t,e);if(this[p].has(e)){if(s>this[i])return v(this,this[p].get(e)),!1;let a=this[p].get(e).value;return this[c]&&!this[l]&&this[c](e,a.value),a.now=n,a.maxAge=r,a.value=t,this[o]+=s-a.length,a.length=s,this.get(e),m(this),!0}let f=new _(e,t,s,n,r);return f.length>this[i]?(this[c]&&this[c](e,t),!1):(this[o]+=f.length,this[d].unshift(f),this[p].set(e,this[d].head),m(this),!0)}has(e){return!!this[p].has(e)&&!g(this,this[p].get(e).value)}get(e){return y(this,e,!0)}peek(e){return y(this,e,!1)}pop(){let e=this[d].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[p].get(e))}load(e){this.reset();let t=Date.now();for(let r=e.length-1;r>=0;r--){let n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{let e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[p].forEach((e,t)=>y(this,t,!1))}}},29636,(e,t,r)=>{let n=Symbol();t.exports={CLOCK_TOLERANCE:Symbol(),HTTP_OPTIONS:n}},74806,(e,t,r)=>{let n,i=e.r(49719),o=e.r(45706),a=e.r(21517),s=e.r(24836),{once:u}=e.r(27699),{URL:c}=e.r(92509),l=e.r(38703),d=e.r(99757),{RPError:p}=e.r(85975),f=e.r(5048),{deep:h}=e.r(40391),{HTTP_OPTIONS:y}=e.r(29636),g=/^[\x21\x23-\x5B\x5D-\x7E]+$/,m=["agent","ca","cert","crl","headers","key","lookup","passphrase","pfx","timeout"],v=(e,t)=>{n=h({},e.length?f(t,...e):t,n)};function _(e,t,r){r&&(e.removeHeader("content-type"),e.setHeader("content-type",r)),t&&(e.removeHeader("content-length"),e.setHeader("content-length",Buffer.byteLength(t)),e.write(t)),e.end()}v([],{headers:{"User-Agent":`${d.name}/${d.version} (${d.homepage})`,"Accept-Encoding":"identity"},timeout:3500});let b=new l({max:100});t.exports=async function(e,{accessToken:t,mTLS:r=!1,DPoP:l}={}){let d,v,w,E,S,k,O;try{d=new c(e.url),delete e.url,i(/^(https?:)$/.test(d.protocol))}catch(e){throw TypeError("only valid absolute URLs can be requested")}let T=this[y],A=e,x=`${d.origin}${d.pathname}`;if(l&&"dpopProof"in this&&(A.headers=A.headers||{},A.headers.DPoP=await this.dpopProof({htu:`${d.origin}${d.pathname}`,htm:e.method||"GET",nonce:b.get(x)},l,t)),T&&(v=f(T.call(this,d,h({},A,n)),...m)),A=h({},v,A,n),r&&!A.pfx&&!(A.key&&A.cert))throw TypeError("mutual-TLS certificate and key not set");if(A.searchParams)for(let[e,t]of Object.entries(A.searchParams))d.searchParams.delete(e),d.searchParams.set(e,t);for(let[e,t]of({form:E,responseType:w,json:S,body:k,...A}=A,Object.entries(A.headers||{})))void 0===t&&delete A.headers[e];let R=("https:"===d.protocol?s.request:a.request)(d.href,A);return(async()=>{if(S?_(R,JSON.stringify(S),"application/json"):E?_(R,o.stringify(E),"application/x-www-form-urlencoded"):k?_(R,k):_(R),[O]=await Promise.race([u(R,"response"),u(R,"timeout")]),!O)throw R.destroy(),new p(`outgoing request timed out after ${A.timeout}ms`);let e=[];for await(let t of O)e.push(t);if(e.length)switch(w){case"json":Object.defineProperty(O,"body",{get(){let t=Buffer.concat(e);try{t=JSON.parse(t)}catch(e){throw Object.defineProperty(e,"response",{value:O}),e}finally{Object.defineProperty(O,"body",{value:t,configurable:!0})}return t},configurable:!0});break;case void 0:case"buffer":Object.defineProperty(O,"body",{get(){let t=Buffer.concat(e);return Object.defineProperty(O,"body",{value:t,configurable:!0}),t},configurable:!0});break;default:throw TypeError("unsupported responseType request option")}return O})().catch(e=>{throw O&&Object.defineProperty(e,"response",{value:O}),e}).finally(()=>{let e=O&&O.headers["dpop-nonce"];e&&g.test(e)&&b.set(x,e)})},t.exports.setDefaults=v.bind(void 0,m)},98970,(e,t,r)=>{t.exports.keystores=new WeakMap},21039,(e,t,r)=>{t.exports=globalThis.structuredClone||(e=>JSON.parse(JSON.stringify(e)))},74778,(e,t,r)=>{let n=e.r(33817),i=e.r(21039),o=e.r(97878),a=Symbol(),s=(e,{alg:t,use:r})=>{let n=0;return t&&e.alg&&n++,r&&e.use&&n++,n};t.exports=class{#t;constructor(e,t){if(e!==a)throw Error("invalid constructor call");this.#t=t}toJWKS(){return{keys:this.map(({jwk:{d:e,p:t,q:r,dp:n,dq:i,qi:o,...a}})=>a)}}all({alg:e,kid:t,use:r}={}){if(!r||!e)throw Error();let n=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:return}}(e),i={alg:e,use:r};return this.filter(i=>{let o=!0;return void 0!==n&&i.jwk.kty!==n&&(o=!1),o&&void 0!==t&&i.jwk.kid!==t&&(o=!1),o&&void 0!==r&&void 0!==i.jwk.use&&i.jwk.use!==r&&(o=!1),o&&i.jwk.alg&&i.jwk.alg!==e?o=!1:i.algorithms.has(e)||(o=!1),o}).sort((e,t)=>s(t,i)-s(e,i))}get(...e){return this.all(...e)[0]}static async fromJWKS(e,{onlyPublic:t=!1,onlyPrivate:r=!1}={}){if(!o(e)||!Array.isArray(e.keys)||e.keys.some(e=>!o(e)||!("kty"in e)))throw TypeError("jwks must be a JSON Web Key Set formatted object");let s=[];for(let o of e.keys){let{kty:e,kid:a,crv:u}=o=i(o),{alg:c,use:l}=o;if("string"==typeof e&&e&&(void 0===l||"sig"===l||"enc"===l)&&("string"==typeof c||void 0===c)&&("string"==typeof a||void 0===a)){if("EC"===e&&"sig"===l)switch(u){case"P-256":c="ES256";break;case"P-384":c="ES384";break;case"P-521":c="ES512"}if("secp256k1"===u&&(l="sig",c="ES256K"),"OKP"===e)switch(u){case"Ed25519":case"Ed448":l="sig",c="EdDSA";break;case"X25519":case"X448":l="enc"}if(c&&!l)switch(!0){case c.startsWith("ECDH"):case c.startsWith("RSA"):l="enc"}if(r&&("oct"===o.kty||!o.d))throw Error("jwks must only contain private keys");t&&(o.d||o.k)||s.push({jwk:{...o,alg:c,use:l},async keyObject(e){if(this[e])return this[e];let t=await n.importJWK(this.jwk,e);return this[e]=t,t},get algorithms(){return Object.defineProperty(this,"algorithms",{value:function(e,t,r,i){if(t)return new Set([t]);switch(r){case"EC":{let t=[];if(("enc"===e||void 0===e)&&(t=t.concat(["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"])),"sig"===e||void 0===e)switch(i){case"P-256":case"P-384":t=t.concat([`ES${i.slice(-3)}`]);break;case"P-521":t=t.concat(["ES512"]);break;case"secp256k1":"node:crypto"===n.cryptoRuntime&&(t=t.concat(["ES256K"]))}return new Set(t)}case"OKP":return new Set(["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"]);case"RSA":{let t=[];return("enc"===e||void 0===e)&&(t=t.concat(["RSA-OAEP","RSA-OAEP-256","RSA-OAEP-384","RSA-OAEP-512"]),"node:crypto"===n.cryptoRuntime&&(t=t.concat(["RSA1_5"]))),("sig"===e||void 0===e)&&(t=t.concat(["PS256","PS384","PS512","RS256","RS384","RS512"])),new Set(t)}default:throw Error("unreachable")}}(this.jwk.use,this.jwk.alg,this.jwk.kty,this.jwk.crv),enumerable:!0,configurable:!1}),this.algorithms}})}}return new this(a,s)}filter(...e){return this.#t.filter(...e)}find(...e){return this.#t.find(...e)}every(...e){return this.#t.every(...e)}some(...e){return this.#t.some(...e)}map(...e){return this.#t.map(...e)}forEach(...e){return this.#t.forEach(...e)}reduce(...e){return this.#t.reduce(...e)}sort(...e){return this.#t.sort(...e)}*[Symbol.iterator](){for(let e of this.#t)yield e}}},84866,(e,t,r)=>{let n=e.r(97878);t.exports=function e(t,...r){for(let i of r)if(n(i))for(let[r,o]of Object.entries(i))"__proto__"!==r&&"constructor"!==r&&(n(t[r])&&n(o)?t[r]=e(t[r],o):void 0!==o&&(t[r]=o));return t}},21779,(e,t,r)=>{let n=e.r(33817),{RPError:i}=e.r(85975),{assertIssuerConfiguration:o}=e.r(59751),{random:a}=e.r(13379),s=e.r(74285),u=e.r(74806),{keystores:c}=e.r(98970),l=e.r(84866),d=e=>encodeURIComponent(e).replace(/%20/g,"+");async function p(e,t){let r=this[`${e}_endpoint_auth_signing_alg`];if(r||o(this.issuer,`${e}_endpoint_auth_signing_alg_values_supported`),"client_secret_jwt"===this[`${e}_endpoint_auth_method`]){if(!r){let t=this.issuer[`${e}_endpoint_auth_signing_alg_values_supported`];r=Array.isArray(t)&&t.find(e=>/^HS(?:256|384|512)/.test(e))}if(!r)throw new i(`failed to determine a JWS Algorithm to use for ${this[`${e}_endpoint_auth_method`]} Client Assertion`);return new n.CompactSign(Buffer.from(JSON.stringify(t))).setProtectedHeader({alg:r}).sign(this.secretForAlg(r))}let a=await c.get(this);if(!a)throw TypeError("no client jwks provided for signing a client assertion with");if(!r){let t=this.issuer[`${e}_endpoint_auth_signing_alg_values_supported`];r=Array.isArray(t)&&t.find(e=>a.get({alg:e,use:"sig"}))}if(!r)throw new i(`failed to determine a JWS Algorithm to use for ${this[`${e}_endpoint_auth_method`]} Client Assertion`);let s=a.get({alg:r,use:"sig"});if(!s)throw new i(`no key found in client jwks to sign a client assertion with using alg ${r}`);return new n.CompactSign(Buffer.from(JSON.stringify(t))).setProtectedHeader({alg:r,kid:s.jwk&&s.jwk.kid}).sign(await s.keyObject(r))}async function f(e,{clientAssertionPayload:t}={}){switch(this[`${e}_endpoint_auth_method`]){case"self_signed_tls_client_auth":case"tls_client_auth":case"none":return{form:{client_id:this.client_id}};case"client_secret_post":if("string"!=typeof this.client_secret)throw TypeError("client_secret_post client authentication method requires a client_secret");return{form:{client_id:this.client_id,client_secret:this.client_secret}};case"private_key_jwt":case"client_secret_jwt":{let r=s(),n=await p.call(this,e,{iat:r,exp:r+60,jti:a(),iss:this.client_id,sub:this.client_id,aud:this.issuer.issuer,...t});return{form:{client_id:this.client_id,client_assertion:n,client_assertion_type:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer"}}}case"client_secret_basic":{if("string"!=typeof this.client_secret)throw TypeError("client_secret_basic client authentication method requires a client_secret");let e=`${d(this.client_id)}:${d(this.client_secret)}`,t=Buffer.from(e).toString("base64");return{headers:{Authorization:`Basic ${t}`}}}default:throw TypeError(`missing, or unsupported, ${e}_endpoint_auth_method`)}}async function h(e,t,{clientAssertionPayload:r,endpointAuthMethod:n=e,DPoP:i}={}){let o,a=l(t,await f.call(this,n,{clientAssertionPayload:r})),s=this[`${n}_endpoint_auth_method`].includes("tls_client_auth")||"token"===e&&this.tls_client_certificate_bound_access_tokens;if(s&&this.issuer.mtls_endpoint_aliases&&(o=this.issuer.mtls_endpoint_aliases[`${e}_endpoint`]),o=o||this.issuer[`${e}_endpoint`],"form"in a)for(let[e,t]of Object.entries(a.form))void 0===t&&delete a.form[e];return u.call(this,{...a,method:"POST",url:o,headers:{..."revocation"!==e?{Accept:"application/json"}:void 0,...a.headers}},{mTLS:s,DPoP:i})}t.exports={resolveResponseType:function(){let{length:e,0:t}=this.response_types;if(1===e)return t},resolveRedirectUri:function(){let{length:e,0:t}=this.redirect_uris||[];if(1===e)return t},authFor:f,authenticatedPost:h}},88107,(e,t,r)=>{"use strict";var n=e.r(54799);function i(e,t){return t=s(e,t),function(e,t){if(void 0===(r="passthrough"!==t.algorithm?n.createHash(t.algorithm):new l).write&&(r.write=r.update,r.end=r.update),c(t,r).dispatch(e),r.update||r.end(""),r.digest)return r.digest("buffer"===t.encoding?void 0:t.encoding);var r,i=r.read();return"buffer"===t.encoding?i:i.toString(t.encoding)}(e,t)}(r=t.exports=i).sha1=function(e){return i(e)},r.keys=function(e){return i(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},r.MD5=function(e){return i(e,{algorithm:"md5",encoding:"hex"})},r.keysMD5=function(e){return i(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var o=n.getHashes?n.getHashes().slice():["sha1","md5"];o.push("passthrough");var a=["buffer","hex","binary","base64"];function s(e,t){var r={};if(r.algorithm=(t=t||{}).algorithm||"sha1",r.encoding=t.encoding||"hex",r.excludeValues=!!t.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=!0===t.ignoreUnknown,r.respectType=!1!==t.respectType,r.respectFunctionNames=!1!==t.respectFunctionNames,r.respectFunctionProperties=!1!==t.respectFunctionProperties,r.unorderedArrays=!0===t.unorderedArrays,r.unorderedSets=!1!==t.unorderedSets,r.unorderedObjects=!1!==t.unorderedObjects,r.replacer=t.replacer||void 0,r.excludeKeys=t.excludeKeys||void 0,void 0===e)throw Error("Object argument required.");for(var n=0;n<o.length;++n)o[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=o[n]);if(-1===o.indexOf(r.algorithm))throw Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+o.join(", "));if(-1===a.indexOf(r.encoding)&&"passthrough"!==r.algorithm)throw Error('Encoding "'+r.encoding+'"  not supported. supported values: '+a.join(", "));return r}function u(e){return"function"==typeof e&&null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function c(e,t,r){r=r||[];var n=function(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")};return{dispatch:function(t){e.replacer&&(t=e.replacer(t));var r=typeof t;return null===t&&(r="null"),this["_"+r](t)},_object:function(t){var i=Object.prototype.toString.call(t),o=/\[object (.*)\]/i.exec(i);o=(o=o?o[1]:"unknown:["+i+"]").toLowerCase();var a=null;if((a=r.indexOf(t))>=0)return this.dispatch("[CIRCULAR:"+a+"]");if(r.push(t),"undefined"!=typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t))return n("buffer:"),n(t);if("object"!==o&&"function"!==o&&"asyncfunction"!==o)if(this["_"+o])this["_"+o](t);else if(e.ignoreUnknown)return n("["+o+"]");else throw Error('Unknown object type "'+o+'"');else{var s=Object.keys(t);e.unorderedObjects&&(s=s.sort()),!1===e.respectType||u(t)||s.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(s=s.filter(function(t){return!e.excludeKeys(t)})),n("object:"+s.length+":");var c=this;return s.forEach(function(r){c.dispatch(r),n(":"),e.excludeValues||c.dispatch(t[r]),n(",")})}},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var o=this;if(n("array:"+t.length+":"),!i||t.length<=1)return t.forEach(function(e){return o.dispatch(e)});var a=[],s=t.map(function(t){var n=new l,i=r.slice();return c(e,n,i).dispatch(t),a=a.concat(i.slice(r.length)),n.read().toString()});return r=r.concat(a),s.sort(),this._array(s,!1)},_date:function(e){return n("date:"+e.toJSON())},_symbol:function(e){return n("symbol:"+e.toString())},_error:function(e){return n("error:"+e.toString())},_boolean:function(e){return n("bool:"+e.toString())},_string:function(e){n("string:"+e.length+":"),n(e.toString())},_function:function(t){n("fn:"),u(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return n("number:"+e.toString())},_xml:function(e){return n("xml:"+e.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(e){return n("regex:"+e.toString())},_uint8array:function(e){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return n("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return n("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return n("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return n("url:"+e.toString(),"utf8")},_map:function(t){n("map:");var r=Array.from(t);return this._array(r,!1!==e.unorderedSets)},_set:function(t){n("set:");var r=Array.from(t);return this._array(r,!1!==e.unorderedSets)},_file:function(e){return n("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return n("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return n("domwindow")},_bigint:function(e){return n("bigint:"+e.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function l(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}r.writeToStream=function(e,t,r){return void 0===r&&(r=t,t={}),c(t=s(e,t),r).dispatch(e)}},69411,(e,t,r)=>{let n=e.r(88107),i=e.r(38703),{RPError:o}=e.r(85975),{assertIssuerConfiguration:a}=e.r(59751),s=e.r(74778),{keystores:u}=e.r(98970),c=e.r(77809),l=e.r(74806),d=new WeakMap,p=new WeakMap,f=e=>(p.has(e)||p.set(e,new i({max:100})),p.get(e));async function h(e=!1){a(this,"jwks_uri");let t=u.get(this),r=f(this);return e||!t?(d.has(this)||(r.reset(),d.set(this,(async()=>{let e=c(await l.call(this,{method:"GET",responseType:"json",url:this.jwks_uri,headers:{Accept:"application/json, application/jwk-set+json"}}).finally(()=>{d.delete(this)})),t=s.fromJWKS(e,{onlyPublic:!0});return r.set("throttle",!0,6e4),u.set(this,t),t})())),d.get(this)):t}async function y({kid:e,kty:t,alg:r,use:i},{allowMulti:a=!1}={}){let s=f(this),u={kid:e,kty:t,alg:r,use:i},c=n(u,{algorithm:"sha256",ignoreUnknown:!0,unorderedArrays:!0,unorderedSets:!0,respectType:!1}),l=s.get(c)||s.get("throttle"),d=await h.call(this,!l),p=d.all(u);if(delete u.use,0===p.length)throw new o({printf:["no valid key found in issuer's jwks_uri for key parameters %j",u],jwks:d});if(!a&&p.length>1&&!e)throw new o({printf:["multiple matching keys found in issuer's jwks_uri for key parameters %j, kid must be provided in this case",u],jwks:d});return s.set(c,!0),p}t.exports.queryKeyStore=y,t.exports.keystore=h},11290,(e,t,r)=>{let{inspect:n}=e.r(24361),{RPError:i,OPError:o}=e.r(85975),a=e.r(74285);class s{#r;#n;#i;#o;#a;#s;#u;#c;#l;constructor({client:e,exchangeBody:t,clientAssertionPayload:r,response:n,maxAge:o,DPoP:s}){if(["verification_uri","user_code","device_code"].forEach(e=>{if("string"!=typeof n[e]||!n[e])throw new i(`expected ${e} string to be returned by Device Authorization Response, got %j`,n[e])}),!Number.isSafeInteger(n.expires_in))throw new i("expected expires_in number to be returned by Device Authorization Response, got %j",n.expires_in);this.#s=a()+n.expires_in,this.#n=e,this.#o=s,this.#c=o,this.#a=t,this.#i=r,this.#l=n,this.#u=1e3*n.interval||5e3}abort(){this.#r=!0}async poll({signal:e}={}){let t;if(e&&e.aborted||this.#r)throw new i("polling aborted");if(this.expired())throw new i("the device code %j has expired and the device authorization session has concluded",this.device_code);await new Promise(e=>setTimeout(e,this.#u));try{t=await this.#n.grant({...this.#a,grant_type:"urn:ietf:params:oauth:grant-type:device_code",device_code:this.device_code},{clientAssertionPayload:this.#i,DPoP:this.#o})}catch(t){switch(t instanceof o&&t.error){case"slow_down":this.#u+=5e3;case"authorization_pending":return this.poll({signal:e});default:throw t}}return"id_token"in t&&(await this.#n.decryptIdToken(t),await this.#n.validateIdToken(t,void 0,"token",this.#c)),t}get device_code(){return this.#l.device_code}get user_code(){return this.#l.user_code}get verification_uri(){return this.#l.verification_uri}get verification_uri_complete(){return this.#l.verification_uri_complete}get expires_in(){return Math.max.apply(null,[this.#s-a(),0])}expired(){return 0===this.expires_in}[n.custom](){return`${this.constructor.name} ${n(this.#l,{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}}t.exports=s},34313,(e,t,r)=>{let n,{inspect:i}=e.r(24361),o=e.r(21517),a=e.r(54799),{strict:s}=e.r(49719),u=e.r(45706),c=e.r(92509),{URL:l,URLSearchParams:d}=e.r(92509),p=e.r(33817),f=e.r(47591),h=e.r(65222),y=e.r(31163),g=e.r(31591),m=e.r(40391),v=e.r(34613),{assertSigningAlgValuesSupport:_,assertIssuerConfiguration:b}=e.r(59751),w=e.r(5048),E=e.r(97878),S=e.r(77809),k=e.r(33772),{OPError:O,RPError:T}=e.r(85975),A=e.r(74285),{random:x}=e.r(13379),R=e.r(74806),{CLOCK_TOLERANCE:P}=e.r(29636),{keystores:C}=e.r(98970),I=e.r(74778),N=e.r(21039),{authenticatedPost:j,resolveResponseType:D,resolveRedirectUri:M}=e.r(21779),{queryKeyStore:L}=e.r(69411),U=e.r(11290),[W,F]=process.version.slice(1).split(".").map(e=>parseInt(e,10)),$=W>=17||16===W&&F>=9,H=Symbol(),K=Symbol(),q=Symbol();function J(e){return w(e,"access_token","code","error_description","error_uri","error","expires_in","id_token","iss","response","session_state","state","token_type")}function B(e,t="Bearer"){return`${t} ${e}`}function V(e){let t=c.parse(e);return t.search?u.parse(t.search.substring(1)):{}}function z(e,t,r){if(void 0===e[r])throw new T({message:`missing required JWT property ${r}`,jwt:t})}function G(e){let t={client_id:this.client_id,scope:"openid",response_type:D.call(this),redirect_uri:M.call(this),...e};return Object.entries(t).forEach(([e,r])=>{null==r?delete t[e]:"claims"===e&&"object"==typeof r?t[e]=JSON.stringify(r):"resource"===e&&Array.isArray(r)?t[e]=r:"string"!=typeof r&&(t[e]=String(r))}),t}function Q(e){if(!E(e)||!Array.isArray(e.keys)||e.keys.some(e=>!E(e)||!("kty"in e)))throw TypeError("jwks must be a JSON Web Key Set formatted object");return I.fromJWKS(e,{onlyPrivate:!0})}class X{#d;#p;#f;#h;constructor(e,t,r={},n,i){if(this.#d=new Map,this.#p=e,this.#f=t,"string"!=typeof r.client_id||!r.client_id)throw TypeError("client_id is required");const o={grant_types:["authorization_code"],id_token_signed_response_alg:"RS256",authorization_signed_response_alg:"RS256",response_types:["code"],token_endpoint_auth_method:"client_secret_basic",...this.fapi1()?{grant_types:["authorization_code","implicit"],id_token_signed_response_alg:"PS256",authorization_signed_response_alg:"PS256",response_types:["code id_token"],tls_client_certificate_bound_access_tokens:!0,token_endpoint_auth_method:void 0}:void 0,...this.fapi2()?{id_token_signed_response_alg:"PS256",authorization_signed_response_alg:"PS256",token_endpoint_auth_method:void 0}:void 0,...r};if(this.fapi())switch(o.token_endpoint_auth_method){case"self_signed_tls_client_auth":case"tls_client_auth":break;case"private_key_jwt":if(!n)throw TypeError("jwks is required");break;case void 0:throw TypeError("token_endpoint_auth_method is required");default:throw TypeError("invalid or unsupported token_endpoint_auth_method")}if(this.fapi2()&&(o.tls_client_certificate_bound_access_tokens&&o.dpop_bound_access_tokens||!o.tls_client_certificate_bound_access_tokens&&!o.dpop_bound_access_tokens))throw TypeError("either tls_client_certificate_bound_access_tokens or dpop_bound_access_tokens must be set to true");if(!function(e,t,r){if(t.token_endpoint_auth_method||function(e,t){try{let r=e.issuer.token_endpoint_auth_methods_supported;!r.includes(t.token_endpoint_auth_method)&&r.includes("client_secret_post")&&(t.token_endpoint_auth_method="client_secret_post")}catch(e){}}(e,r),t.redirect_uri){if(t.redirect_uris)throw TypeError("provide a redirect_uri or redirect_uris, not both");r.redirect_uris=[t.redirect_uri],delete r.redirect_uri}if(t.response_type){if(t.response_types)throw TypeError("provide a response_type or response_types, not both");r.response_types=[t.response_type],delete r.response_type}}(this,r,o),_("token",this.issuer,o),["introspection","revocation"].forEach(e=>{!function(e,t,r){if(!t[`${e}_endpoint`])return;let n=r.token_endpoint_auth_method,i=r.token_endpoint_auth_signing_alg,o=`${e}_endpoint_auth_method`,a=`${e}_endpoint_auth_signing_alg`;void 0===r[o]&&void 0===r[a]&&(void 0!==n&&(r[o]=n),void 0!==i&&(r[a]=i))}(e,this.issuer,o),_(e,this.issuer,o)}),Object.entries(o).forEach(([e,t])=>{this.#d.set(e,t),this[e]||Object.defineProperty(this,e,{get(){return this.#d.get(e)},enumerable:!0})}),void 0!==n){const e=Q.call(this,n);C.set(this,e)}null!=i&&i.additionalAuthorizedParties&&(this.#h=N(i.additionalAuthorizedParties)),this[P]=0}authorizationUrl(e={}){if(!E(e))throw TypeError("params must be a plain object");b(this.issuer,"authorization_endpoint");let t=new l(this.issuer.authorization_endpoint);for(let[r,n]of Object.entries(G.call(this,e)))if(Array.isArray(n))for(let e of(t.searchParams.delete(r),n))t.searchParams.append(r,e);else t.searchParams.set(r,n);return t.href.replace(/\+/g,"%20")}authorizationPost(e={}){if(!E(e))throw TypeError("params must be a plain object");let t=G.call(this,e),r=Object.keys(t).map(e=>`<input type="hidden" name="${e}" value="${t[e]}"/>`).join("\n");return`<!DOCTYPE html>
<head>
<title>Requesting Authorization</title>
</head>
<body onload="javascript:document.forms[0].submit()">
<form method="post" action="${this.issuer.authorization_endpoint}">
  ${r}
</form>
</body>
</html>`}endSessionUrl(e={}){let t;b(this.issuer,"end_session_endpoint");let{0:r,length:n}=this.post_logout_redirect_uris||[],{post_logout_redirect_uri:i=1===n?r:void 0}=e;if({id_token_hint:t,...e}=e,t instanceof k){if(!t.id_token)throw TypeError("id_token not present in TokenSet");t=t.id_token}let o=c.parse(this.issuer.end_session_endpoint),a=m(V(this.issuer.end_session_endpoint),e,{post_logout_redirect_uri:i,client_id:this.client_id},{id_token_hint:t});return Object.entries(a).forEach(([e,t])=>{null==t&&delete a[e]}),o.search=null,o.query=a,c.format(o)}callbackParams(e){let t=e instanceof o.IncomingMessage||e&&e.method&&e.url;if("string"!=typeof e&&!t)throw TypeError("#callbackParams only accepts string urls, http.IncomingMessage or a lookalike");if(!t)return J(V(e));switch(e.method){case"GET":return J(V(e.url));case"POST":if(void 0===e.body)throw TypeError("incoming message body missing, include a body parser prior to this method call");switch(typeof e.body){case"object":case"string":if(Buffer.isBuffer(e.body))return J(u.parse(e.body.toString("utf-8")));if("string"==typeof e.body)return J(u.parse(e.body));return J(e.body);default:throw TypeError("invalid IncomingMessage body object")}default:throw TypeError("invalid IncomingMessage method")}}async callback(e,t,r={},{exchangeBody:n,clientAssertionPayload:i,DPoP:o}={}){let a=J(t);if(!r.jarm||"response"in t){if("response"in t){let e=await this.decryptJARM(a.response);a=await this.validateJARM(e)}}else throw new T({message:"expected a JARM response",checks:r,params:a});if(this.default_max_age&&!r.max_age&&(r.max_age=this.default_max_age),a.state&&!r.state)throw TypeError("checks.state argument is missing");if(!a.state&&r.state)throw new T({message:"state missing from the response",checks:r,params:a});if(r.state!==a.state)throw new T({printf:["state mismatch, expected %s, got: %s",r.state,a.state],checks:r,params:a});if("iss"in a){if(b(this.issuer,"issuer"),a.iss!==this.issuer.issuer)throw new T({printf:["iss mismatch, expected %s, got: %s",this.issuer.issuer,a.iss],params:a})}else if(this.issuer.authorization_response_iss_parameter_supported&&!("id_token"in a)&&!("response"in t))throw new T({message:"iss missing from the response",params:a});if(a.error)throw new O(a);let s={code:["code"],id_token:["id_token"],token:["access_token","token_type"]};if(r.response_type){for(let e of r.response_type.split(" "))if("none"===e){if(a.code||a.id_token||a.access_token)throw new T({message:'unexpected params encountered for "none" response',checks:r,params:a})}else for(let t of s[e])if(!a[t])throw new T({message:`${t} missing from response`,checks:r,params:a})}if(a.id_token){let e=new k(a);if(await this.decryptIdToken(e),await this.validateIdToken(e,r.nonce,"authorization",r.max_age,r.state),!a.code)return e}if(a.code){let t=await this.grant({...n,grant_type:"authorization_code",code:a.code,redirect_uri:e,code_verifier:r.code_verifier},{clientAssertionPayload:i,DPoP:o});return await this.decryptIdToken(t),await this.validateIdToken(t,r.nonce,"token",r.max_age),a.session_state&&(t.session_state=a.session_state),t}return new k(a)}async oauthCallback(e,t,r={},{exchangeBody:n,clientAssertionPayload:i,DPoP:o}={}){let a=J(t);if(!r.jarm||"response"in t){if("response"in t){let e=await this.decryptJARM(a.response);a=await this.validateJARM(e)}}else throw new T({message:"expected a JARM response",checks:r,params:a});if(a.state&&!r.state)throw TypeError("checks.state argument is missing");if(!a.state&&r.state)throw new T({message:"state missing from the response",checks:r,params:a});if(r.state!==a.state)throw new T({printf:["state mismatch, expected %s, got: %s",r.state,a.state],checks:r,params:a});if("iss"in a){if(b(this.issuer,"issuer"),a.iss!==this.issuer.issuer)throw new T({printf:["iss mismatch, expected %s, got: %s",this.issuer.issuer,a.iss],params:a})}else if(this.issuer.authorization_response_iss_parameter_supported&&!("id_token"in a)&&!("response"in t))throw new T({message:"iss missing from the response",params:a});if(a.error)throw new O(a);if("string"==typeof a.id_token&&a.id_token.length)throw new T({message:"id_token detected in the response, you must use client.callback() instead of client.oauthCallback()",params:a});delete a.id_token;let s={code:["code"],token:["access_token","token_type"]};if(r.response_type)for(let e of r.response_type.split(" ")){if("none"===e&&(a.code||a.id_token||a.access_token))throw new T({message:'unexpected params encountered for "none" response',checks:r,params:a});if(s[e]){for(let t of s[e])if(!a[t])throw new T({message:`${t} missing from response`,checks:r,params:a})}}if(a.code){let t=await this.grant({...n,grant_type:"authorization_code",code:a.code,redirect_uri:e,code_verifier:r.code_verifier},{clientAssertionPayload:i,DPoP:o});if("string"==typeof t.id_token&&t.id_token.length)throw new T({message:"id_token detected in the response, you must use client.callback() instead of client.oauthCallback()",params:a});return delete t.id_token,t}return new k(a)}async decryptIdToken(e){if(!this.id_token_encrypted_response_alg)return e;let t=e;if(t instanceof k){if(!t.id_token)throw TypeError("id_token not present in TokenSet");t=t.id_token}let r=this.id_token_encrypted_response_alg,n=this.id_token_encrypted_response_enc,i=await this.decryptJWE(t,r,n);return e instanceof k?(e.id_token=i,e):i}async validateJWTUserinfo(e){let t=this.userinfo_signed_response_alg;return this.validateJWT(e,t,[])}async decryptJARM(e){if(!this.authorization_encrypted_response_alg)return e;let t=this.authorization_encrypted_response_alg,r=this.authorization_encrypted_response_enc;return this.decryptJWE(e,t,r)}async decryptJWTUserinfo(e){if(!this.userinfo_encrypted_response_alg)return e;let t=this.userinfo_encrypted_response_alg,r=this.userinfo_encrypted_response_enc;return this.decryptJWE(e,t,r)}async decryptJWE(e,t,r="A128CBC-HS256"){let n,i=JSON.parse(g.decode(e.split(".")[0]));if(i.alg!==t)throw new T({printf:["unexpected JWE alg received, expected %s, got: %s",t,i.alg],jwt:e});if(i.enc!==r)throw new T({printf:["unexpected JWE enc received, expected %s, got: %s",r,i.enc],jwt:e});let o=e=>new TextDecoder().decode(e.plaintext);if(t.match(/^(?:RSA|ECDH)/)){let t=await C.get(this),r=p.decodeProtectedHeader(e);for(let i of t.all({...r,use:"enc"}))if(n=await p.compactDecrypt(e,await i.keyObject(r.alg)).then(o,()=>{}))break}else n=await p.compactDecrypt(e,this.secretForAlg("dir"===t?r:t)).then(o,()=>{});if(!n)throw new T({message:"failed to decrypt JWE",jwt:e});return n}async validateIdToken(e,t,r,n,i){let o=e,a=this.id_token_signed_response_alg;if(o instanceof k){if(!o.id_token)throw TypeError("id_token not present in TokenSet");o=o.id_token}o=String(o);let s=A(),{protected:u,payload:c,key:l}=await this.validateJWT(o,a);if("number"==typeof n||n!==q&&this.require_auth_time){if(!c.auth_time)throw new T({message:"missing required JWT property auth_time",jwt:o});if("number"!=typeof c.auth_time)throw new T({message:"JWT auth_time claim must be a JSON numeric value",jwt:o})}if("number"==typeof n&&c.auth_time+n<s-this[P])throw new T({printf:["too much time has elapsed since the last End-User authentication, max_age %i, auth_time: %i, now %i",n,c.auth_time,s-this[P]],now:s,tolerance:this[P],auth_time:c.auth_time,jwt:o});if(t!==K&&(c.nonce||void 0!==t)&&c.nonce!==t)throw new T({printf:["nonce mismatch, expected %s, got: %s",t,c.nonce],jwt:o});if("authorization"===r){if(!c.at_hash&&e.access_token)throw new T({message:"missing required property at_hash",jwt:o});if(!c.c_hash&&e.code)throw new T({message:"missing required property c_hash",jwt:o});if(this.fapi1()&&!c.s_hash&&(e.state||i))throw new T({message:"missing required property s_hash",jwt:o});if(c.s_hash){if(!i)throw TypeError('cannot verify s_hash, "checks.state" property not provided');try{f.validate({claim:"s_hash",source:"state"},c.s_hash,i,u.alg,l.jwk&&l.jwk.crv)}catch(e){throw new T({message:e.message,jwt:o})}}}if(this.fapi()&&c.iat<s-3600)throw new T({printf:["JWT issued too far in the past, now %i, iat %i",s,c.iat],now:s,tolerance:this[P],iat:c.iat,jwt:o});if(e.access_token&&void 0!==c.at_hash)try{f.validate({claim:"at_hash",source:"access_token"},c.at_hash,e.access_token,u.alg,l.jwk&&l.jwk.crv)}catch(e){throw new T({message:e.message,jwt:o})}if(e.code&&void 0!==c.c_hash)try{f.validate({claim:"c_hash",source:"code"},c.c_hash,e.code,u.alg,l.jwk&&l.jwk.crv)}catch(e){throw new T({message:e.message,jwt:o})}return e}async validateJWT(e,t,r=["iss","sub","aud","exp","iat"]){let n,i,o,a="https://self-issued.me"===this.issuer.issuer,u=A();try{({header:n,payload:i}=y(e,{complete:!0}))}catch(t){throw new T({printf:["failed to decode JWT (%s: %s)",t.name,t.message],jwt:e})}if(n.alg!==t)throw new T({printf:["unexpected JWT alg received, expected %s, got: %s",t,n.alg],jwt:e});if(a&&(r=[...r,"sub_jwk"]),r.forEach(z.bind(void 0,i,e)),void 0!==i.iss){let t=this.issuer.issuer;if(this.#f&&(t=this.issuer.issuer.replace("{tenantid}",i.tid)),i.iss!==t)throw new T({printf:["unexpected iss value, expected %s, got: %s",t,i.iss],jwt:e})}if(void 0!==i.iat&&"number"!=typeof i.iat)throw new T({message:"JWT iat claim must be a JSON numeric value",jwt:e});if(void 0!==i.nbf){if("number"!=typeof i.nbf)throw new T({message:"JWT nbf claim must be a JSON numeric value",jwt:e});if(i.nbf>u+this[P])throw new T({printf:["JWT not active yet, now %i, nbf %i",u+this[P],i.nbf],now:u,tolerance:this[P],nbf:i.nbf,jwt:e})}if(void 0!==i.exp){if("number"!=typeof i.exp)throw new T({message:"JWT exp claim must be a JSON numeric value",jwt:e});if(u-this[P]>=i.exp)throw new T({printf:["JWT expired, now %i, exp %i",u-this[P],i.exp],now:u,tolerance:this[P],exp:i.exp,jwt:e})}if(void 0!==i.aud){if(Array.isArray(i.aud)){if(i.aud.length>1&&!i.azp)throw new T({message:"missing required JWT property azp",jwt:e});if(!i.aud.includes(this.client_id))throw new T({printf:["aud is missing the client_id, expected %s to be included in %j",this.client_id,i.aud],jwt:e})}else if(i.aud!==this.client_id)throw new T({printf:["aud mismatch, expected %s, got: %s",this.client_id,i.aud],jwt:e})}if(void 0!==i.azp){let t=this.#h;if(!(t="string"==typeof t?[this.client_id,t]:Array.isArray(t)?[this.client_id,...t]:[this.client_id]).includes(i.azp))throw new T({printf:["azp mismatch, got: %s",i.azp],jwt:e})}if(a){try{s(E(i.sub_jwk));let e=await p.importJWK(i.sub_jwk,n.alg);s.equal(e.type,"public"),o=[{keyObject:()=>e}]}catch(t){throw new T({message:"failed to use sub_jwk claim as an asymmetric JSON Web Key",jwt:e})}if(await p.calculateJwkThumbprint(i.sub_jwk)!==i.sub)throw new T({message:"failed to match the subject with sub_jwk",jwt:e})}else n.alg.startsWith("HS")?o=[this.secretForAlg(n.alg)]:"none"!==n.alg&&(o=await L.call(this.issuer,{...n,use:"sig"}));if(!o&&"none"===n.alg)return{protected:n,payload:i};for(let t of o){let r=await p.compactVerify(e,t instanceof Uint8Array?t:await t.keyObject(n.alg)).catch(()=>{});if(r)return{payload:i,protected:r.protectedHeader,key:t}}throw new T({message:"failed to validate JWT signature",jwt:e})}async refresh(e,{exchangeBody:t,clientAssertionPayload:r,DPoP:n}={}){let i=e;if(i instanceof k){if(!i.refresh_token)throw TypeError("refresh_token not present in TokenSet");i=i.refresh_token}let o=await this.grant({...t,grant_type:"refresh_token",refresh_token:String(i)},{clientAssertionPayload:r,DPoP:n});if(o.id_token&&(await this.decryptIdToken(o),await this.validateIdToken(o,K,"token",q),e instanceof k&&e.id_token)){let t=e.claims().sub,r=o.claims().sub;if(r!==t)throw new T({printf:["sub mismatch, expected %s, got: %s",t,r],jwt:o.id_token})}return o}async requestResource(e,t,{method:r,headers:n,body:i,DPoP:o,tokenType:a=o?"DPoP":t instanceof k?t.token_type:"Bearer"}={},s){if(t instanceof k){if(!t.access_token)throw TypeError("access_token not present in TokenSet");t=t.access_token}if(t){if("string"!=typeof t)throw TypeError("invalid access token provided")}else throw TypeError("no access token provided");let u={headers:{Authorization:B(t,a),...n},body:i},c=!!this.tls_client_certificate_bound_access_tokens,l=await R.call(this,{...u,responseType:"buffer",method:r,url:e},{accessToken:t,mTLS:c,DPoP:o}),d=l.headers["www-authenticate"];return s!==H&&d&&d.toLowerCase().startsWith("dpop ")&&"use_dpop_nonce"===v(d).error?this.requestResource(e,t,{method:r,headers:n,body:i,DPoP:o,tokenType:a}):l}async userinfo(e,{method:t="GET",via:r="header",tokenType:n,params:i,DPoP:o}={}){let a;b(this.issuer,"userinfo_endpoint");let u={tokenType:n,method:String(t).toUpperCase(),DPoP:o};if("GET"!==u.method&&"POST"!==u.method)throw TypeError("#userinfo() method can only be POST or a GET");if("body"===r&&"POST"!==u.method)throw TypeError("can only send body on POST");let c=!!(this.userinfo_signed_response_alg||this.userinfo_encrypted_response_alg);c?u.headers={Accept:"application/jwt"}:u.headers={Accept:"application/json"},this.tls_client_certificate_bound_access_tokens&&this.issuer.mtls_endpoint_aliases&&(a=this.issuer.mtls_endpoint_aliases.userinfo_endpoint),a=new l(a||this.issuer.userinfo_endpoint),"body"===r&&(u.headers.Authorization=void 0,u.headers["Content-Type"]="application/x-www-form-urlencoded",u.body=new d,u.body.append("access_token",e instanceof k?e.access_token:e)),i&&("GET"===u.method?Object.entries(i).forEach(([e,t])=>{a.searchParams.append(e,t)}):u.body?Object.entries(i).forEach(([e,t])=>{u.body.append(e,t)}):(u.body=new d,u.headers["Content-Type"]="application/x-www-form-urlencoded",Object.entries(i).forEach(([e,t])=>{u.body.append(e,t)}))),u.body&&(u.body=u.body.toString());let p=await this.requestResource(a,e,u),f=S(p,{bearer:!0});if(c){if(!/^application\/jwt/.test(p.headers["content-type"]))throw new T({message:"expected application/jwt response from the userinfo_endpoint",response:p});let e=p.body.toString(),t=await this.decryptJWTUserinfo(e);if(this.userinfo_signed_response_alg)({payload:f}=await this.validateJWTUserinfo(t));else try{f=JSON.parse(t),s(E(f))}catch(e){throw new T({message:"failed to parse userinfo JWE payload as JSON",jwt:t})}}else try{f=JSON.parse(p.body)}catch(e){throw Object.defineProperty(e,"response",{value:p}),e}if(e instanceof k&&e.id_token){let t=e.claims().sub;if(f.sub!==t)throw new T({printf:["userinfo sub mismatch, expected %s, got: %s",t,f.sub],body:f,jwt:e.id_token})}return f}encryptionSecret(e){let t=e<=256?"sha256":e<=384?"sha384":e<=512&&"sha512";if(!t)throw Error("unsupported symmetric encryption key derivation");return a.createHash(t).update(this.client_secret).digest().slice(0,e/8)}secretForAlg(e){if(!this.client_secret)throw TypeError("client_secret is required");return/^A(\d{3})(?:GCM)?KW$/.test(e)?this.encryptionSecret(parseInt(RegExp.$1,10)):/^A(\d{3})(?:GCM|CBC-HS(\d{3}))$/.test(e)?this.encryptionSecret(parseInt(RegExp.$2||RegExp.$1,10)):new TextEncoder().encode(this.client_secret)}async grant(e,{clientAssertionPayload:t,DPoP:r}={},n){let i;b(this.issuer,"token_endpoint");let o=await j.call(this,"token",{form:e,responseType:"json"},{clientAssertionPayload:t,DPoP:r});try{i=S(o)}catch(i){if(n!==H&&i instanceof O&&"use_dpop_nonce"===i.error)return this.grant(e,{clientAssertionPayload:t,DPoP:r},H);throw i}return new k(i)}async deviceAuthorization(e={},{exchangeBody:t,clientAssertionPayload:r,DPoP:n}={}){b(this.issuer,"device_authorization_endpoint"),b(this.issuer,"token_endpoint");let i=G.call(this,{client_id:this.client_id,redirect_uri:null,response_type:null,...e}),o=S(await j.call(this,"device_authorization",{responseType:"json",form:i},{clientAssertionPayload:r,endpointAuthMethod:"token"}));return new U({client:this,exchangeBody:t,clientAssertionPayload:r,response:o,maxAge:e.max_age,DPoP:n})}async revoke(e,t,{revokeBody:r,clientAssertionPayload:n}={}){if(b(this.issuer,"revocation_endpoint"),void 0!==t&&"string"!=typeof t)throw TypeError("hint must be a string");let i={...r,token:e};t&&(i.token_type_hint=t),S(await j.call(this,"revocation",{form:i},{clientAssertionPayload:n}),{body:!1})}async introspect(e,t,{introspectBody:r,clientAssertionPayload:n}={}){if(b(this.issuer,"introspection_endpoint"),void 0!==t&&"string"!=typeof t)throw TypeError("hint must be a string");let i={...r,token:e};return t&&(i.token_type_hint=t),S(await j.call(this,"introspection",{form:i,responseType:"json"},{clientAssertionPayload:n}))}static async register(e,t={}){let{initialAccessToken:r,jwks:n,...i}=t;return b(this.issuer,"registration_endpoint"),void 0===n||e.jwks||e.jwks_uri||(e.jwks=(await Q.call(this,n)).toJWKS()),new this(S(await R.call(this,{headers:{Accept:"application/json",...r?{Authorization:B(r)}:void 0},responseType:"json",json:e,url:this.issuer.registration_endpoint,method:"POST"}),{statusCode:201,bearer:!0}),n,i)}get metadata(){return N(Object.fromEntries(this.#d.entries()))}static async fromUri(e,t,r,n){return new this(S(await R.call(this,{method:"GET",url:e,responseType:"json",headers:{Authorization:B(t),Accept:"application/json"}}),{bearer:!0}),r,n)}async requestObject(e={},{sign:t=this.request_object_signing_alg||"none",encrypt:{alg:r=this.request_object_encryption_alg,enc:n=this.request_object_encryption_enc||"A128CBC-HS256"}={}}={}){let i,o;if(!E(e))throw TypeError("requestObject must be a plain object");let a=A(),s={alg:t,typ:"oauth-authz-req+jwt"},u=JSON.stringify(m({},e,{iss:this.client_id,aud:this.issuer.issuer,client_id:this.client_id,jti:x(),iat:a,exp:a+300,...this.fapi()?{nbf:a}:void 0}));if("none"===t)i=[g.encode(JSON.stringify(s)),g.encode(u),""].join(".");else{let e=t.startsWith("HS");if(e)o=this.secretForAlg(t);else{let e=await C.get(this);if(!e)throw TypeError(`no keystore present for client, cannot sign using alg ${t}`);if(!(o=e.get({alg:t,use:"sig"})))throw TypeError(`no key to sign with found for alg ${t}`)}i=await new p.CompactSign(new TextEncoder().encode(u)).setProtectedHeader({...s,kid:e?void 0:o.jwk.kid}).sign(e?o:await o.keyObject(t))}if(!r)return i;let c={alg:r,enc:n,cty:"oauth-authz-req+jwt"};return c.alg.match(/^(RSA|ECDH)/)?[o]=await L.call(this.issuer,{alg:c.alg,use:"enc"},{allowMulti:!0}):o=this.secretForAlg("dir"===c.alg?c.enc:c.alg),new p.CompactEncrypt(new TextEncoder().encode(i)).setProtectedHeader({...c,kid:o instanceof Uint8Array?void 0:o.jwk.kid}).encrypt(o instanceof Uint8Array?o:await o.keyObject(c.alg))}async pushedAuthorizationRequest(e={},{clientAssertionPayload:t}={}){b(this.issuer,"pushed_authorization_request_endpoint");let r={..."request"in e?e:G.call(this,e),client_id:this.client_id},n=await j.call(this,"pushed_authorization_request",{responseType:"json",form:r},{clientAssertionPayload:t,endpointAuthMethod:"token"}),i=S(n,{statusCode:201});if(!("expires_in"in i))throw new T({message:"expected expires_in in Pushed Authorization Successful Response",response:n});if("number"!=typeof i.expires_in)throw new T({message:"invalid expires_in value in Pushed Authorization Successful Response",response:n});if(!("request_uri"in i))throw new T({message:"expected request_uri in Pushed Authorization Successful Response",response:n});if("string"!=typeof i.request_uri)throw new T({message:"invalid request_uri value in Pushed Authorization Successful Response",response:n});return i}get issuer(){return this.#p}[i.custom](){return`${this.constructor.name} ${i(this.metadata,{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}fapi(){return this.fapi1()||this.fapi2()}fapi1(){return"FAPI1Client"===this.constructor.name}fapi2(){return"FAPI2Client"===this.constructor.name}async validateJARM(e){let t=this.authorization_signed_response_alg,{payload:r}=await this.validateJWT(e,t,["iss","exp","aud"]);return J(r)}async dpopProof(e,t,r){let i;if(!E(e))throw TypeError("payload must be a plain object");if(h(t))i=t;else if("CryptoKey"===t[Symbol.toStringTag])i=t;else if("node:crypto"===p.cryptoRuntime)i=a.createPrivateKey(t);else throw TypeError("unrecognized crypto runtime");if("private"!==i.type)throw TypeError('"DPoP" option must be a private key');let o=n.call(this,i,t);if(!o)throw TypeError("could not determine DPoP JWS Algorithm");return new p.SignJWT({ath:r?g.encode(a.createHash("sha256").update(r).digest()):void 0,...e}).setProtectedHeader({alg:o,typ:"dpop+jwt",jwk:await ee(i,t)}).setIssuedAt().setJti(x()).sign(i)}}function Y(e){switch(e.algorithm.name){case"Ed25519":case"Ed448":return"EdDSA";case"ECDSA":switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512"}break;case"RSASSA-PKCS1-v1_5":return`RS${e.algorithm.hash.name.slice(4)}`;case"RSA-PSS":return`PS${e.algorithm.hash.name.slice(4)}`;default:throw TypeError("unsupported DPoP private key")}}if("node:crypto"===p.cryptoRuntime){n=function(n,a){if("CryptoKey"===a[Symbol.toStringTag])return Y(n);switch(n.asymmetricKeyType){case"ed25519":case"ed448":return"EdDSA";case"ec":var s=n,u=a;switch("object"==typeof u&&"object"==typeof u.key&&u.key.crv){case"P-256":return"ES256";case"secp256k1":return"ES256K";case"P-384":return"ES384";case"P-512":return"ES512"}let c=s.export({format:"der",type:"pkcs8"}),l=c[1]<128?17:18,d=c[l],p=c.slice(l+1,l+1+d);if(p.equals(t))return"ES256";if(p.equals(r))return"ES384";if(p.equals(i))return"ES512";if(p.equals(o))return"ES256K";throw TypeError("unsupported DPoP private key curve");case"rsa":case $&&"rsa-pss":var f=n,h=a,y=this.issuer.dpop_signing_alg_values_supported;if("object"==typeof h&&"jwk"===h.format&&h.key&&h.key.alg)return h.key.alg;if(Array.isArray(y)){let t=y.filter(RegExp.prototype.test.bind(e));return"rsa-pss"===f.asymmetricKeyType&&(t=t.filter(e=>e.startsWith("PS"))),["PS256","PS384","PS512","RS256","RS384","RS384"].find(e=>t.includes(e))}return"PS256";default:throw TypeError("unsupported DPoP private key")}};let e=/^(?:RS|PS)(?:256|384|512)$/,t=Buffer.from([42,134,72,206,61,3,1,7]),r=Buffer.from([43,129,4,0,34]),i=Buffer.from([43,129,4,0,35]),o=Buffer.from([43,129,4,0,10])}else n=Y;let Z=new WeakMap;async function ee(e,t){if("node:crypto"===p.cryptoRuntime&&"object"==typeof t&&"object"==typeof t.key&&"jwk"===t.format)return w(t.key,"kty","crv","x","y","e","n");if(Z.has(t))return Z.get(t);let r=w(await p.exportJWK(e),"kty","crv","x","y","e","n");return(h(t)||"WebCryptoAPI"===p.cryptoRuntime)&&Z.set(t,r),r}t.exports=(e,t=!1)=>class extends X{constructor(...r){super(e,t,...r)}static get issuer(){return e}},t.exports.BaseClient=X},4851,(e,t,r)=>{t.exports=new(e.r(38703))({max:100})},33666,(e,t,r)=>{let n=/^\d+$/;t.exports=function(e){if("string"!=typeof e)throw TypeError("input must be a string");return(!function(e){if(e.includes("://"))return!0;let t=e.replace(/(\/|\?)/g,"#").split("#")[0];if(t.includes(":")){let e=t.indexOf(":"),r=t.slice(e+1);if(!n.test(r))return!0}return!1}(e)?!function(e){if(!e.includes("@"))return!1;let t=e.split("@"),r=t[t.length-1];return!(r.includes(":")||r.includes("/")||r.includes("?"))}(e)?`https://${e}`:`acct:${e}`:e).split("#")[0]}},72672,(e,t,r)=>{let{inspect:n}=e.r(24361),i=e.r(92509),{RPError:o}=e.r(85975),a=e.r(34313),s=e.r(4851),u=e.r(77809),c=e.r(33666),l=e.r(74806),d=e.r(21039),{keystore:p}=e.r(69411),f=["https://login.microsoftonline.com/common/.well-known/openid-configuration","https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration"],h=Symbol(),y={claim_types_supported:["normal"],claims_parameter_supported:!1,grant_types_supported:["authorization_code","implicit"],request_parameter_supported:!1,request_uri_parameter_supported:!0,require_request_uri_registration:!1,response_modes_supported:["query","fragment"],token_endpoint_auth_methods_supported:["client_secret_basic"]};class g{#d;constructor(e={}){const t=e[h];delete e[h],["introspection","revocation"].forEach(t=>{e[`${t}_endpoint`]&&void 0===e[`${t}_endpoint_auth_methods_supported`]&&void 0===e[`${t}_endpoint_auth_signing_alg_values_supported`]&&(e.token_endpoint_auth_methods_supported&&(e[`${t}_endpoint_auth_methods_supported`]=e.token_endpoint_auth_methods_supported),e.token_endpoint_auth_signing_alg_values_supported&&(e[`${t}_endpoint_auth_signing_alg_values_supported`]=e.token_endpoint_auth_signing_alg_values_supported))}),this.#d=new Map,Object.entries(e).forEach(([e,t])=>{this.#d.set(e,t),this[e]||Object.defineProperty(this,e,{get(){return this.#d.get(e)},enumerable:!0})}),s.set(this.issuer,this);const r=a(this,t);Object.defineProperties(this,{Client:{value:r,enumerable:!0},FAPI1Client:{value:class extends r{},enumerable:!0},FAPI2Client:{value:class extends r{},enumerable:!0}})}get metadata(){return d(Object.fromEntries(this.#d.entries()))}static async webfinger(e){let t=c(e),{host:r}=i.parse(t),n=`https://${r}/.well-known/webfinger`,a=u(await l.call(this,{method:"GET",url:n,responseType:"json",searchParams:{resource:t,rel:"http://openid.net/specs/connect/1.0/issuer"},headers:{Accept:"application/json"}})),d=Array.isArray(a.links)&&a.links.find(e=>"object"==typeof e&&"http://openid.net/specs/connect/1.0/issuer"===e.rel&&e.href);if(!d)throw new o({message:"no issuer found in webfinger response",body:a});if("string"!=typeof d.href||!d.href.startsWith("https://"))throw new o({printf:["invalid issuer location %s",d.href],body:a});let p=d.href;if(s.has(p))return s.get(p);let f=await this.discover(p);if(f.issuer!==p)throw s.del(f.issuer),new o("discovered issuer mismatch, expected %s, got: %s",p,f.issuer);return f}static async discover(e){let t=function(e){let t=i.parse(e);if(t.pathname.includes("/.well-known/"))return e;{let e;return e=t.pathname.endsWith("/")?`${t.pathname}.well-known/openid-configuration`:`${t.pathname}/.well-known/openid-configuration`,i.format({...t,pathname:e})}}(e),r=u(await l.call(this,{method:"GET",responseType:"json",url:t,headers:{Accept:"application/json"}}));return new g({...y,...r,[h]:!!f.find(e=>t.startsWith(e))})}async reloadJwksUri(){await p.call(this,!0)}[n.custom](){return`${this.constructor.name} ${n(this.metadata,{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}}t.exports=g},16487,(e,t,r)=>{let n=e.r(92509),{format:i}=e.r(24361),o=e.r(21039),{RPError:a,OPError:s}=e.r(85975),{BaseClient:u}=e.r(34313),{random:c,codeChallenge:l}=e.r(13379),d=e.r(5048),{resolveResponseType:p,resolveRedirectUri:f}=e.r(21779);function h(e,t,r={}){e?this.error(e):t?this.success(t,r):this.fail(r)}function y({client:e,params:t={},passReqToCallback:r=!1,sessionKey:i,usePKCE:a=!0,extras:s={}}={},c){if(!(e instanceof u))throw TypeError("client must be an instance of openid-client Client");if("function"!=typeof c)throw TypeError("verify callback must be a function");if(!e.issuer||!e.issuer.issuer)throw TypeError("client must have an issuer with an identifier");if(this._client=e,this._issuer=e.issuer,this._verify=c,this._passReqToCallback=r,this._usePKCE=a,this._key=i||`oidc:${n.parse(this._issuer.issuer).hostname}`,this._params=o(t),delete this._params.state,delete this._params.nonce,this._extras=o(s),this._params.response_type||(this._params.response_type=p.call(e)),this._params.redirect_uri||(this._params.redirect_uri=f.call(e)),this._params.scope||(this._params.scope="openid"),!0===this._usePKCE){let e=!!Array.isArray(this._issuer.code_challenge_methods_supported)&&this._issuer.code_challenge_methods_supported;if(e&&e.includes("S256"))this._usePKCE="S256";else if(e&&e.includes("plain"))this._usePKCE="plain";else if(e)throw TypeError("neither code_challenge_method supported by the client is supported by the issuer");else this._usePKCE="S256"}else if("string"==typeof this._usePKCE&&!["plain","S256"].includes(this._usePKCE))throw TypeError(`${this._usePKCE} is not valid/implemented PKCE code_challenge_method`);this.name=n.parse(e.issuer.issuer).hostname}y.prototype.authenticate=function(e,t){(async()=>{let r=this._client;if(!e.session)throw TypeError("authentication requires session support");let n=r.callbackParams(e),o=this._key,{0:s,length:u}=Object.keys(n);if(0===u||1===u&&"iss"===s){let n={state:c(),...this._params,...t};if(!n.nonce&&n.response_type.includes("id_token")&&(n.nonce=c()),e.session[o]=d(n,"nonce","state","max_age","response_type"),this._usePKCE&&n.response_type.includes("code")){let t=c();switch(e.session[o].code_verifier=t,this._usePKCE){case"S256":n.code_challenge=l(t),n.code_challenge_method="S256";break;case"plain":n.code_challenge=t}}this.redirect(r.authorizationUrl(n));return}let p=e.session[o];if(0===Object.keys(p||{}).length)throw Error(i('did not find expected authorization request details in session, req.session["%s"] is %j',o,p));let{state:f,nonce:y,max_age:g,code_verifier:m,response_type:v}=p;try{delete e.session[o]}catch(e){}let _={redirect_uri:this._params.redirect_uri,...t},b=await r.callback(_.redirect_uri,n,{state:f,nonce:y,max_age:g,code_verifier:m,response_type:v},this._extras),w=this._passReqToCallback,E=this._verify.length>(w?3:2)&&r.issuer.userinfo_endpoint,S=[b,h.bind(this)];if(E){if(!b.access_token)throw new a({message:"expected access_token to be returned when asking for userinfo in verify callback",tokenset:b});let e=await r.userinfo(b);S.splice(1,0,e)}w&&S.unshift(e),this._verify(...S)})().catch(e=>{e instanceof s&&"server_error"!==e.error&&!e.error.startsWith("invalid")||e instanceof a?this.fail(e):this.error(e)})},t.exports=y},45115,(e,t,r)=>{let n=e.r(72672),{OPError:i,RPError:o}=e.r(85975),a=e.r(16487),s=e.r(33772),{CLOCK_TOLERANCE:u,HTTP_OPTIONS:c}=e.r(29636),l=e.r(13379),{setDefaults:d}=e.r(74806);t.exports={Issuer:n,Strategy:a,TokenSet:s,errors:{OPError:i,RPError:o},custom:{setHttpOptionsDefaults:d,http_options:c,clock_tolerance:u},generators:l}},66101,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.openidClient=i;var n=e.r(45115);async function i(e){let t,r=e.provider;if(r.httpOptions&&n.custom.setHttpOptionsDefaults(r.httpOptions),r.wellKnown)t=await n.Issuer.discover(r.wellKnown);else{var i,o,a;t=new n.Issuer({issuer:r.issuer,authorization_endpoint:null==(i=r.authorization)?void 0:i.url,token_endpoint:null==(o=r.token)?void 0:o.url,userinfo_endpoint:null==(a=r.userinfo)?void 0:a.url,jwks_uri:r.jwks_endpoint})}let s=new t.Client({client_id:r.clientId,client_secret:r.clientSecret,redirect_uris:[r.callbackUrl],...r.client},r.jwks);return s[n.custom.clock_tolerance]=10,s}},47002,(e,t,r)=>{function n(e){for(var t,r,n="",i=-1;++i<e.length;)t=e.charCodeAt(i),r=i+1<e.length?e.charCodeAt(i+1):0,55296<=t&&t<=56319&&56320<=r&&r<=57343&&(t=65536+((1023&t)<<10)+(1023&r),i++),t<=127?n+=String.fromCharCode(t):t<=2047?n+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return n}function i(e){for(var t=Array(e.length>>2),r=0;r<t.length;r++)t[r]=0;for(var r=0;r<8*e.length;r+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<24-r%32;return t}function o(e,t){e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var r=Array(80),n=0x67452301,i=-0x10325477,o=-0x67452302,u=0x10325476,c=-0x3c2d1e10,l=0;l<e.length;l+=16){for(var d=n,p=i,f=o,h=u,y=c,g=0;g<80;g++){g<16?r[g]=e[l+g]:r[g]=s(r[g-3]^r[g-8]^r[g-14]^r[g-16],1);var m,v,_,b,w,E=a(a(s(n,5),(m=g,v=i,_=o,b=u,m<20?v&_|~v&b:m<40?v^_^b:m<60?v&_|v&b|_&b:v^_^b)),a(a(c,r[g]),(w=g)<20?0x5a827999:w<40?0x6ed9eba1:w<60?-0x70e44324:-0x359d3e2a));c=u,u=o,o=s(i,30),i=n,n=E}n=a(n,d),i=a(i,p),o=a(o,f),u=a(u,h),c=a(c,y)}return[n,i,o,u,c]}function a(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e,t){return e<<t|e>>>32-t}r.HMACSHA1=function(e,t){return function(e){for(var t="",r=e.length,n=0;n<r;n+=3)for(var i=e.charCodeAt(n)<<16|(n+1<r?e.charCodeAt(n+1)<<8:0)|(n+2<r?e.charCodeAt(n+2):0),o=0;o<4;o++)8*n+6*o>8*e.length?t+="=":t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-o)&63);return t}(function(e,t){var r=i(e);r.length>16&&(r=o(r,8*e.length));for(var n=Array(16),a=Array(16),s=0;s<16;s++)n[s]=0x36363636^r[s],a[s]=0x5c5c5c5c^r[s];for(var u=o(n.concat(i(t)),512+8*t.length),c=o(a.concat(u),672),l="",d=0;d<32*c.length;d+=8)l+=String.fromCharCode(c[d>>5]>>>24-d%32&255);return l}(n(e),n(t)))}},60005,(e,t,r)=>{t.exports.isAnEarlyCloseHost=function(e){return e&&e.match(".*google(apis)?.com$")}},82671,(e,t,r)=>{var n=e.r(54799),i=e.r(47002),o=e.r(21517),a=e.r(24836),s=e.r(92509),u=e.r(45706),c=e.r(60005);r.OAuth=function(e,t,r,n,i,o,a,s,u){if(this._isEcho=!1,this._requestUrl=e,this._accessUrl=t,this._consumerKey=r,this._consumerSecret=this._encodeData(n),"RSA-SHA1"==a&&(this._privateKey=n),this._version=i,void 0===o?this._authorize_callback="oob":this._authorize_callback=o,"PLAINTEXT"!=a&&"HMAC-SHA1"!=a&&"RSA-SHA1"!=a)throw Error("Un-supported signature method: "+a);this._signatureMethod=a,this._nonceSize=s||32,this._headers=u||{Accept:"*/*",Connection:"close","User-Agent":"Node authentication"},this._clientOptions=this._defaultClientOptions={requestTokenHttpMethod:"POST",accessTokenHttpMethod:"POST",followRedirects:!0},this._oauthParameterSeperator=","},r.OAuthEcho=function(e,t,r,n,i,o,a,s){if(this._isEcho=!0,this._realm=e,this._verifyCredentials=t,this._consumerKey=r,this._consumerSecret=this._encodeData(n),"RSA-SHA1"==o&&(this._privateKey=n),this._version=i,"PLAINTEXT"!=o&&"HMAC-SHA1"!=o&&"RSA-SHA1"!=o)throw Error("Un-supported signature method: "+o);this._signatureMethod=o,this._nonceSize=a||32,this._headers=s||{Accept:"*/*",Connection:"close","User-Agent":"Node authentication"},this._oauthParameterSeperator=","},r.OAuthEcho.prototype=r.OAuth.prototype,r.OAuth.prototype._getTimestamp=function(){return Math.floor(new Date().getTime()/1e3)},r.OAuth.prototype._encodeData=function(e){return null==e||""==e?"":encodeURIComponent(e).replace(/\!/g,"%21").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")},r.OAuth.prototype._decodeData=function(e){return null!=e&&(e=e.replace(/\+/g," ")),decodeURIComponent(e)},r.OAuth.prototype._getSignature=function(e,t,r,n){var i=this._createSignatureBase(e,t,r);return this._createSignature(i,n)},r.OAuth.prototype._normalizeUrl=function(e){var t=s.parse(e,!0),r="";return t.port&&("http:"==t.protocol&&"80"!=t.port||"https:"==t.protocol&&"443"!=t.port)&&(r=":"+t.port),t.pathname&&""!=t.pathname||(t.pathname="/"),t.protocol+"//"+t.hostname+r+t.pathname},r.OAuth.prototype._isParameterNameAnOAuthParameter=function(e){var t=e.match("^oauth_");return!!t&&"oauth_"===t[0]},r.OAuth.prototype._buildAuthorizationHeaders=function(e){var t="OAuth ";this._isEcho&&(t+='realm="'+this._realm+'",');for(var r=0;r<e.length;r++)this._isParameterNameAnOAuthParameter(e[r][0])&&(t+=""+this._encodeData(e[r][0])+'="'+this._encodeData(e[r][1])+'"'+this._oauthParameterSeperator);return t.substring(0,t.length-this._oauthParameterSeperator.length)},r.OAuth.prototype._makeArrayOfArgumentsHash=function(e){var t=[];for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(Array.isArray(n))for(var i=0;i<n.length;i++)t[t.length]=[r,n[i]];else t[t.length]=[r,n]}return t},r.OAuth.prototype._sortRequestParams=function(e){return e.sort(function(e,t){return e[0]==t[0]?e[1]<t[1]?-1:1:e[0]<t[0]?-1:1}),e},r.OAuth.prototype._normaliseRequestParams=function(e){for(var t=this._makeArrayOfArgumentsHash(e),r=0;r<t.length;r++)t[r][0]=this._encodeData(t[r][0]),t[r][1]=this._encodeData(t[r][1]);t=this._sortRequestParams(t);for(var e="",r=0;r<t.length;r++)e+=t[r][0],e+="=",e+=t[r][1],r<t.length-1&&(e+="&");return e},r.OAuth.prototype._createSignatureBase=function(e,t,r){return t=this._encodeData(this._normalizeUrl(t)),r=this._encodeData(r),e.toUpperCase()+"&"+t+"&"+r},r.OAuth.prototype._createSignature=function(e,t){if(void 0===t)var t="";else t=this._encodeData(t);var r=this._consumerSecret+"&"+t,o="";return"PLAINTEXT"==this._signatureMethod?o=r:"RSA-SHA1"==this._signatureMethod?(r=this._privateKey||"",o=n.createSign("RSA-SHA1").update(e).sign(r,"base64")):o=n.Hmac?n.createHmac("sha1",r).update(e).digest("base64"):i.HMACSHA1(r,e),o},r.OAuth.prototype.NONCE_CHARS=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"],r.OAuth.prototype._getNonce=function(e){for(var t,r=[],n=this.NONCE_CHARS,i=n.length,o=0;o<e;o++)t=Math.floor(Math.random()*i),r[o]=n[t];return r.join("")},r.OAuth.prototype._createClient=function(e,t,r,n,i,s){return(s?a:o).request({host:t,port:e,path:n,method:r,headers:i})},r.OAuth.prototype._prepareParameters=function(e,t,r,n,i){var o={oauth_timestamp:this._getTimestamp(),oauth_nonce:this._getNonce(this._nonceSize),oauth_version:this._version,oauth_signature_method:this._signatureMethod,oauth_consumer_key:this._consumerKey};if(e&&(o.oauth_token=e),this._isEcho)l=this._getSignature("GET",this._verifyCredentials,this._normaliseRequestParams(o),t);else{if(i)for(var a in i)i.hasOwnProperty(a)&&(o[a]=i[a]);var c=s.parse(n,!1);if(c.query){var l,d,p=u.parse(c.query);for(var a in p){var f=p[a];if("object"==typeof f)for(d in f)o[a+"["+d+"]"]=f[d];else o[a]=f}}l=this._getSignature(r,n,this._normaliseRequestParams(o),t)}var h=this._sortRequestParams(this._makeArrayOfArgumentsHash(o));return h[h.length]=["oauth_signature",l],h},r.OAuth.prototype._performSecureRequest=function(e,t,r,n,i,o,a,l){var d,p,f=this._prepareParameters(e,t,r,n,i);a||(a="application/x-www-form-urlencoded");var h=s.parse(n,!1);"http:"!=h.protocol||h.port||(h.port=80),"https:"!=h.protocol||h.port||(h.port=443);var y={},g=this._buildAuthorizationHeaders(f);for(var m in this._isEcho?y["X-Verify-Credentials-Authorization"]=g:y.Authorization=g,y.Host=h.host,this._headers)this._headers.hasOwnProperty(m)&&(y[m]=this._headers[m]);for(var m in i)this._isParameterNameAnOAuthParameter(m)&&delete i[m];("POST"==r||"PUT"==r)&&null==o&&null!=i&&(o=u.stringify(i).replace(/\!/g,"%21").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")),o?Buffer.isBuffer(o)?y["Content-length"]=o.length:y["Content-length"]=Buffer.byteLength(o):y["Content-length"]=0,y["Content-Type"]=a,h.pathname&&""!=h.pathname||(h.pathname="/"),d=h.query?h.pathname+"?"+h.query:h.pathname,p="https:"==h.protocol?this._createClient(h.port,h.hostname,r,d,y,!0):this._createClient(h.port,h.hostname,r,d,y);var v=this._clientOptions;if(!l)return("POST"==r||"PUT"==r)&&null!=o&&""!=o&&p.write(o),p;var _="",b=this,w=c.isAnEarlyCloseHost(h.hostname),E=!1,S=function(n){E||(E=!0,n.statusCode>=200&&n.statusCode<=299?l(null,_,n):(301==n.statusCode||302==n.statusCode)&&v.followRedirects&&n.headers&&n.headers.location?b._performSecureRequest(e,t,r,n.headers.location,i,o,a,l):l({statusCode:n.statusCode,data:_},_,n))};p.on("response",function(e){e.setEncoding("utf8"),e.on("data",function(e){_+=e}),e.on("end",function(){S(e)}),e.on("close",function(){w&&S(e)})}),p.on("error",function(e){E||(E=!0,l(e))}),("POST"==r||"PUT"==r)&&null!=o&&""!=o&&p.write(o),p.end()},r.OAuth.prototype.setClientOptions=function(e){var t,r={},n=Object.prototype.hasOwnProperty;for(t in this._defaultClientOptions)n.call(e,t)?r[t]=e[t]:r[t]=this._defaultClientOptions[t];this._clientOptions=r},r.OAuth.prototype.getOAuthAccessToken=function(e,t,r,n){var i={};"function"==typeof r?n=r:i.oauth_verifier=r,this._performSecureRequest(e,t,this._clientOptions.accessTokenHttpMethod,this._accessUrl,i,null,null,function(e,t,r){if(e)n(e);else{var i=u.parse(t),o=i.oauth_token;delete i.oauth_token;var a=i.oauth_token_secret;delete i.oauth_token_secret,n(null,o,a,i)}})},r.OAuth.prototype.getProtectedResource=function(e,t,r,n,i){this._performSecureRequest(r,n,t,e,null,"",null,i)},r.OAuth.prototype.delete=function(e,t,r,n){return this._performSecureRequest(t,r,"DELETE",e,null,"",null,n)},r.OAuth.prototype.get=function(e,t,r,n){return this._performSecureRequest(t,r,"GET",e,null,"",null,n)},r.OAuth.prototype._putOrPost=function(e,t,r,n,i,o,a){var s=null;return"function"==typeof o&&(a=o,o=null),"string"==typeof i||Buffer.isBuffer(i)||(o="application/x-www-form-urlencoded",s=i,i=null),this._performSecureRequest(r,n,e,t,s,i,o,a)},r.OAuth.prototype.put=function(e,t,r,n,i,o){return this._putOrPost("PUT",e,t,r,n,i,o)},r.OAuth.prototype.post=function(e,t,r,n,i,o){return this._putOrPost("POST",e,t,r,n,i,o)},r.OAuth.prototype.getOAuthRequestToken=function(e,t){"function"==typeof e&&(t=e,e={}),this._authorize_callback&&(e.oauth_callback=this._authorize_callback),this._performSecureRequest(null,null,this._clientOptions.requestTokenHttpMethod,this._requestUrl,e,null,null,function(e,r,n){if(e)t(e);else{var i=u.parse(r),o=i.oauth_token,a=i.oauth_token_secret;delete i.oauth_token,delete i.oauth_token_secret,t(null,o,a,i)}})},r.OAuth.prototype.signUrl=function(e,t,r,n){if(void 0===n)var n="GET";for(var i=this._prepareParameters(t,r,n,e,{}),o=s.parse(e,!1),a="",u=0;u<i.length;u++)a+=i[u][0]+"="+this._encodeData(i[u][1])+"&";return a=a.substring(0,a.length-1),o.protocol+"//"+o.host+o.pathname+"?"+a},r.OAuth.prototype.authHeader=function(e,t,r,n){if(void 0===n)var n="GET";var i=this._prepareParameters(t,r,n,e,{});return this._buildAuthorizationHeaders(i)}},77020,(e,t,r)=>{var n=e.r(45706),i=(e.r(54799),e.r(24836)),o=e.r(21517),a=e.r(92509),s=e.r(60005);r.OAuth2=function(e,t,r,n,i,o){this._clientId=e,this._clientSecret=t,this._baseSite=r,this._authorizeUrl=n||"/oauth/authorize",this._accessTokenUrl=i||"/oauth/access_token",this._accessTokenName="access_token",this._authMethod="Bearer",this._customHeaders=o||{},this._useAuthorizationHeaderForGET=!1,this._agent=void 0},r.OAuth2.prototype.setAgent=function(e){this._agent=e},r.OAuth2.prototype.setAccessTokenName=function(e){this._accessTokenName=e},r.OAuth2.prototype.setAuthMethod=function(e){this._authMethod=e},r.OAuth2.prototype.useAuthorizationHeaderforGET=function(e){this._useAuthorizationHeaderForGET=e},r.OAuth2.prototype._getAccessTokenUrl=function(){return this._baseSite+this._accessTokenUrl},r.OAuth2.prototype.buildAuthHeader=function(e){return this._authMethod+" "+e},r.OAuth2.prototype._chooseHttpLibrary=function(e){var t=i;return"https:"!=e.protocol&&(t=o),t},r.OAuth2.prototype._request=function(e,t,r,i,o,s){var u=a.parse(t,!0);"https:"!=u.protocol||u.port||(u.port=443);var c=this._chooseHttpLibrary(u),l={};for(var d in this._customHeaders)l[d]=this._customHeaders[d];if(r)for(var d in r)l[d]=r[d];l.Host=u.host,l["User-Agent"]||(l["User-Agent"]="Node-oauth"),i?Buffer.isBuffer(i)?l["Content-Length"]=i.length:l["Content-Length"]=Buffer.byteLength(i):l["Content-length"]=0,!o||"Authorization"in l||(u.query||(u.query={}),u.query[this._accessTokenName]=o);var p=n.stringify(u.query);p&&(p="?"+p);var f={host:u.hostname,port:u.port,path:u.pathname+p,method:e,headers:l};this._executeRequest(c,f,i,s)},r.OAuth2.prototype._executeRequest=function(e,t,r,n){var i=s.isAnEarlyCloseHost(t.host),o=!1;function a(e,t){o||(o=!0,e.statusCode>=200&&e.statusCode<=299||301==e.statusCode||302==e.statusCode?n(null,t,e):n({statusCode:e.statusCode,data:t}))}var u="";this._agent&&(t.agent=this._agent);var c=e.request(t);c.on("response",function(e){e.on("data",function(e){u+=e}),e.on("close",function(t){i&&a(e,u)}),e.addListener("end",function(){a(e,u)})}),c.on("error",function(e){o=!0,n(e)}),("POST"==t.method||"PUT"==t.method)&&r&&c.write(r),c.end()},r.OAuth2.prototype.getAuthorizeUrl=function(e){var e=e||{};return e.client_id=this._clientId,this._baseSite+this._authorizeUrl+"?"+n.stringify(e)},r.OAuth2.prototype.getOAuthAccessToken=function(e,t,r){var t=t||{};t.client_id=this._clientId,t.client_secret=this._clientSecret;var i="refresh_token"===t.grant_type?"refresh_token":"code";t[i]=e;var o=n.stringify(t);this._request("POST",this._getAccessTokenUrl(),{"Content-Type":"application/x-www-form-urlencoded"},o,null,function(e,t,i){if(e)r(e);else{try{o=JSON.parse(t)}catch(e){o=n.parse(t)}var o,a=o.access_token,s=o.refresh_token;delete o.refresh_token,r(null,a,s,o)}})},r.OAuth2.prototype.getProtectedResource=function(e,t,r){this._request("GET",e,{},"",t,r)},r.OAuth2.prototype.get=function(e,t,r){if(this._useAuthorizationHeaderForGET){var n={Authorization:this.buildAuthHeader(t)};t=null}else n={};this._request("GET",e,n,"",t,r)}},25054,(e,t,r)=>{r.OAuth=e.r(82671).OAuth,r.OAuthEcho=e.r(82671).OAuthEcho,r.OAuth2=e.r(77020).OAuth2},69016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.oAuth1Client=function(e){var t,r;let i=e.provider,o=new n.OAuth(i.requestTokenUrl,i.accessTokenUrl,i.clientId,i.clientSecret,null!=(t=i.version)?t:"1.0",i.callbackUrl,null!=(r=i.encoding)?r:"HMAC-SHA1"),a=o.get.bind(o);o.get=async(...e)=>await new Promise((t,r)=>{a(...e,(e,n)=>{if(e)return r(e);t(n)})});let s=o.getOAuthAccessToken.bind(o);o.getOAuthAccessToken=async(...e)=>await new Promise((t,r)=>{s(...e,(e,n,i)=>{if(e)return r(e);t({oauth_token:n,oauth_token_secret:i})})});let u=o.getOAuthRequestToken.bind(o);return o.getOAuthRequestToken=async(e={})=>await new Promise((t,r)=>{u(e,(e,n,i,o)=>{if(e)return r(e);t({oauth_token:n,oauth_token_secret:i,params:o})})}),o},r.oAuth1TokenStore=void 0;var n=e.r(25054);r.oAuth1TokenStore=new Map},88502,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799);r.default=(e,t,r,i,o)=>{let a=parseInt(e.substr(3),10)>>3||20,s=(0,n.createHmac)(e,r.byteLength?r:new Uint8Array(a)).update(t).digest(),u=Math.ceil(o/a),c=new Uint8Array(a*u+i.byteLength+1),l=0,d=0;for(let t=1;t<=u;t++)c.set(i,d),c[d+i.byteLength]=t,c.set((0,n.createHmac)(e,s).update(c.subarray(l,d+i.byteLength+1)).digest(),d),l=d,d+=a;return c.slice(0,o)}},36831,(e,t,r)=>{"use strict";let n;Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(54799),o=e.r(88502);"function"!=typeof i.hkdf||process.versions.electron||(n=async(...e)=>new Promise((t,r)=>{i.hkdf(...e,(e,n)=>{e?r(e):t(new Uint8Array(n))})})),r.default=async(e,t,r,i,a)=>(n||o.default)(e,t,r,i,a)},14660,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.hkdf=void 0;let n=e.r(36831);function i(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}async function o(e,t,r,o,a){return(0,n.default)(function(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}(e),function(e){let t=i(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}(t),i(r,"salt"),function(e){let t=i(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}(o),function(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}(a,e))}r.hkdf=o,r.default=o},11609,e=>{"use strict";let t,r;e.s([],31195),e.i(31195);var n=e.i(54799);let i=new Uint8Array(256),o=i.length;function a(){return o>i.length-16&&(n.default.randomFillSync(i),o=0),i.slice(o,o+=16)}let s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,u=function(e){return"string"==typeof e&&s.test(e)},c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).substr(1));let l=function(e,t=0){let r=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!u(r))throw TypeError("Stringified UUID is invalid");return r},d=0,p=0,f=function(e){let t;if(!u(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function h(e,t,r){function n(e,n,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=f(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),(a=r(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,i){o=o||0;for(let e=0;e<16;++e)i[o+e]=a[e];return i}return l(a)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}let y=h("v3",48,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),n.default.createHash("md5").update(e).digest()}),g=h("v5",80,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),n.default.createHash("sha1").update(e).digest()});e.s(["NIL",0,"00000000-0000-0000-0000-000000000000","parse",0,f,"stringify",0,l,"v1",0,function(e,n,i){let o=n&&i||0,s=n||Array(16),u=(e=e||{}).node||t,c=void 0!==e.clockseq?e.clockseq:r;if(null==u||null==c){let n=e.random||(e.rng||a)();null==u&&(u=t=[1|n[0],n[1],n[2],n[3],n[4],n[5]]),null==c&&(c=r=(n[6]<<8|n[7])&16383)}let f=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:p+1,y=f-d+(h-p)/1e4;if(y<0&&void 0===e.clockseq&&(c=c+1&16383),(y<0||f>d)&&void 0===e.nsecs&&(h=0),h>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");d=f,p=h,r=c;let g=((0xfffffff&(f+=122192928e5))*1e4+h)%0x100000000;s[o++]=g>>>24&255,s[o++]=g>>>16&255,s[o++]=g>>>8&255,s[o++]=255&g;let m=f/0x100000000*1e4&0xfffffff;s[o++]=m>>>8&255,s[o++]=255&m,s[o++]=m>>>24&15|16,s[o++]=m>>>16&255,s[o++]=c>>>8|128,s[o++]=255&c;for(let e=0;e<6;++e)s[o+e]=u[e];return n||l(s)},"v3",0,y,"v4",0,function(e,t,r){let n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return l(n)},"v5",0,g,"validate",0,u,"version",0,function(e){if(!u(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}],11609)},89852,(e,t,r)=>{"use strict";function n(e,t,r){i(e,t),t.set(e,r)}function i(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function o(e,t){return e.get(s(e,t))}function a(e,t,r){return e.set(s(e,t),r),r}function s(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw TypeError("Private element is not present on this object")}Object.defineProperty(r,"__esModule",{value:!0}),r.SessionStore=void 0,r.defaultCookies=function(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}next-auth.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}next-auth.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}next-auth.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}next-auth.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}next-auth.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}next-auth.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}}}};var u=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakSet;function p(e){let t=Math.ceil(e.value.length/3933);if(1===t)return o(u,this)[e.name]=e.value,[e];let r=[];for(let n=0;n<t;n++){let t=`${e.name}.${n}`,i=e.value.substr(3933*n,3933);r.push({...e,name:t,value:i}),o(u,this)[t]=i}return o(l,this).debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:163,valueSize:e.value.length,chunks:r.map(e=>e.value.length+163)}),r}function f(){let e={};for(let r in o(u,this)){var t;null==(t=o(u,this))||delete t[r],e[r]={name:r,value:"",options:{...o(c,this).options,maxAge:0}}}return e}r.SessionStore=class{constructor(e,t,r){!function(e,t){i(e,t),t.add(e)}(this,d),n(this,u,{}),n(this,c,void 0),n(this,l,void 0),a(l,this,r),a(c,this,e);const{cookies:s}=t,{name:p}=e;if("function"==typeof(null==s?void 0:s.getAll))for(const{name:e,value:t}of s.getAll())e.startsWith(p)&&(o(u,this)[e]=t);else if(s instanceof Map)for(const e of s.keys())e.startsWith(p)&&(o(u,this)[e]=s.get(e));else for(const e in s)e.startsWith(p)&&(o(u,this)[e]=s[e])}get value(){return Object.keys(o(u,this)).sort((e,t)=>{var r,n;return parseInt(null!=(r=e.split(".").pop())?r:"0")-parseInt(null!=(n=t.split(".").pop())?n:"0")}).map(e=>o(u,this)[e]).join("")}chunk(e,t){let r=s(d,this,f).call(this);for(let n of s(d,this,p).call(this,{name:o(c,this).name,value:e,options:{...o(c,this).options,...t}}))r[n.name]=n;return Object.values(r)}clean(){return Object.values(s(d,this,f).call(this))}}},25066,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},77836,(e,t,r)=>{"use strict";var n=e.r(46733);Object.defineProperty(r,"__esModule",{value:!0});var i={encode:!0,decode:!0,getToken:!0};r.decode=d,r.encode=l,r.getToken=p;var o=e.r(33817),a=n(e.r(14660)),s=e.r(11609),u=e.r(89852),c=e.r(25066);async function l(e){let{token:t={},secret:r,maxAge:n=2592e3,salt:i=""}=e,a=await f(r,i);return await new o.EncryptJWT(t).setProtectedHeader({alg:"dir",enc:"A256GCM"}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+n).setJti((0,s.v4)()).encrypt(a)}async function d(e){let{token:t,secret:r,salt:n=""}=e;if(!t)return null;let i=await f(r,n),{payload:a}=await (0,o.jwtDecrypt)(t,i,{clockTolerance:15});return a}async function p(e){var t,r,n,i;let{req:o,secureCookie:a=null!=(t=null==(r=process.env.NEXTAUTH_URL)?void 0:r.startsWith("https://"))?t:!!process.env.VERCEL,cookieName:s=a?"__Secure-next-auth.session-token":"next-auth.session-token",raw:c,decode:l=d,logger:p=console,secret:f=null!=(n=process.env.NEXTAUTH_SECRET)?n:process.env.AUTH_SECRET}=e;if(!o)throw Error("Must pass `req` to JWT getToken()");let h=new u.SessionStore({name:s,options:{secure:a}},{cookies:o.cookies,headers:o.headers},p).value,y=o.headers instanceof Headers?o.headers.get("authorization"):null==(i=o.headers)?void 0:i.authorization;if(h||(null==y?void 0:y.split(" ")[0])!=="Bearer"||(h=decodeURIComponent(y.split(" ")[1])),!h)return null;if(c)return h;try{return await l({token:h,secret:f})}catch(e){return null}}async function f(e,t){return await (0,a.default)("sha256",e,t,`NextAuth.js Generated Encryption Key${t?` (${t})`:""}`,32)}Object.keys(c).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)||e in r&&r[e]===c[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return c[e]}})})},84318,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.pkce=r.nonce=r.PKCE_CODE_CHALLENGE_METHOD=void 0,r.signCookie=a,r.state=void 0;var n=e.r(45115),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&({}).hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(e.r(77836));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}async function a(e,t,r,n){let{cookies:o,logger:a}=n;a.debug(`CREATE_${e.toUpperCase()}`,{value:t,maxAge:r});let{name:s}=o[e],u=new Date;return u.setTime(u.getTime()+1e3*r),{name:s,value:await i.encode({...n.jwt,maxAge:r,token:{value:t},salt:s}),options:{...o[e].options,expires:u}}}let s=r.PKCE_CODE_CHALLENGE_METHOD="S256";r.pkce={async create(e,t,r){var i,o;if(!(null!=(i=e.provider)&&null!=(i=i.checks)&&i.includes("pkce")))return;let u=n.generators.codeVerifier();r.code_challenge=n.generators.codeChallenge(u),r.code_challenge_method=s;let c=null!=(o=e.cookies.pkceCodeVerifier.options.maxAge)?o:900;t.push(await a("pkceCodeVerifier",u,c,e))},async use(e,t,r,n){var o;if(!(null!=(o=r.provider)&&null!=(o=o.checks)&&o.includes("pkce")))return;let a=null==e?void 0:e[r.cookies.pkceCodeVerifier.name];if(!a)throw TypeError("PKCE code_verifier cookie was missing.");let{name:s}=r.cookies.pkceCodeVerifier,u=await i.decode({...r.jwt,token:a,salt:s});if(!(null!=u&&u.value))throw TypeError("PKCE code_verifier value could not be parsed.");t.push({name:s,value:"",options:{...r.cookies.pkceCodeVerifier.options,maxAge:0}}),n.code_verifier=u.value}},r.state={async create(e,t,r){var i,o;if(!(null!=(i=e.provider.checks)&&i.includes("state")))return;let s=n.generators.state();r.state=s;let u=null!=(o=e.cookies.state.options.maxAge)?o:900;t.push(await a("state",s,u,e))},async use(e,t,r,n){var o;if(!(null!=(o=r.provider.checks)&&o.includes("state")))return;let a=null==e?void 0:e[r.cookies.state.name];if(!a)throw TypeError("State cookie was missing.");let{name:s}=r.cookies.state,u=await i.decode({...r.jwt,token:a,salt:s});if(!(null!=u&&u.value))throw TypeError("State value could not be parsed.");t.push({name:s,value:"",options:{...r.cookies.state.options,maxAge:0}}),n.state=u.value}},r.nonce={async create(e,t,r){var i,o;if(!(null!=(i=e.provider.checks)&&i.includes("nonce")))return;let s=n.generators.nonce();r.nonce=s;let u=null!=(o=e.cookies.nonce.options.maxAge)?o:900;t.push(await a("nonce",s,u,e))},async use(e,t,r,n){var o;if(!(null!=(o=r.provider)&&null!=(o=o.checks)&&o.includes("nonce")))return;let a=null==e?void 0:e[r.cookies.nonce.name];if(!a)throw TypeError("Nonce cookie was missing.");let{name:s}=r.cookies.nonce,u=await i.decode({...r.jwt,token:a,salt:s});if(!(null!=u&&u.value))throw TypeError("Nonce value could not be parsed.");t.push({name:s,value:"",options:{...r.cookies.nonce.options,maxAge:0}}),n.nonce=u.value}}},84998,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=c;var n=e.r(45115),i=e.r(66101),o=e.r(69016),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(e.r(84318)),s=e.r(25145);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}async function c(e){var t,r,u,c,d,p;let{options:f,query:h,body:y,method:g,cookies:m}=e,{logger:v,provider:_}=f,b=null!=(t=null==y?void 0:y.error)?t:null==h?void 0:h.error;if(b){let e=Error(b);throw v.error("OAUTH_CALLBACK_HANDLER_ERROR",{error:e,error_description:null==h?void 0:h.error_description,providerId:_.id}),v.debug("OAUTH_CALLBACK_HANDLER_ERROR",{body:y}),e}if(null!=(r=_.version)&&r.startsWith("1."))try{let e=await (0,o.oAuth1Client)(f),{oauth_token:t,oauth_verifier:r}=null!=h?h:{},n=await e.getOAuthAccessToken(t,o.oAuth1TokenStore.get(t),r),i=await e.get(_.profileUrl,n.oauth_token,n.oauth_token_secret);return"string"==typeof i&&(i=JSON.parse(i)),{...await l({profile:i,tokens:n,provider:_,logger:v}),cookies:[]}}catch(e){throw v.error("OAUTH_V1_GET_ACCESS_TOKEN_ERROR",e),e}null!=h&&h.oauth_token&&o.oAuth1TokenStore.delete(h.oauth_token);try{let e,t,r=await (0,i.openidClient)(f),o={},s=[];await a.state.use(m,s,f,o),await a.pkce.use(m,s,f,o),await a.nonce.use(m,s,f,o);let b={...r.callbackParams({url:`http://n?${new URLSearchParams(h)}`,body:y,method:g}),...null==(u=_.token)?void 0:u.params};if(null!=(c=_.token)&&c.request){let t=await _.token.request({provider:_,params:b,checks:o,client:r});e=new n.TokenSet(t.tokens)}else e=_.idToken?await r.callback(_.callbackUrl,b,o):await r.oauthCallback(_.callbackUrl,b,o);return Array.isArray(e.scope)&&(e.scope=e.scope.join(" ")),t=null!=(d=_.userinfo)&&d.request?await _.userinfo.request({provider:_,tokens:e,client:r}):_.idToken?e.claims():await r.userinfo(e,{params:null==(p=_.userinfo)?void 0:p.params}),{...await l({profile:t,provider:_,tokens:e,logger:v}),cookies:s}}catch(e){throw new s.OAuthCallbackError(e)}}async function l({profile:e,tokens:t,provider:r,logger:n}){try{var i;n.debug("PROFILE_DATA",{OAuthProfile:e});let o=await r.profile(e,t);if(o.email=null==(i=o.email)?void 0:i.toLowerCase(),!o.id)throw TypeError(`Profile id is missing in ${r.name} OAuth profile response`);return{profile:o,account:{provider:r.id,type:r.type,providerAccountId:o.id.toString(),...t},OAuthProfile:e}}catch(t){n.error("OAUTH_PARSE_PROFILE_ERROR",{error:t,OAuthProfile:e})}}},20746,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createSecret=function(e){var t;let{authOptions:r,url:i}=e;return null!=(t=r.secret)?t:(0,n.createHash)("sha256").update(JSON.stringify({...i,...r})).digest("hex")},r.fromDate=function(e,t=Date.now()){return new Date(t+1e3*e)},r.hashToken=function(e,t){var r;let{provider:i,secret:o}=t;return(0,n.createHash)("sha256").update(`${e}${null!=(r=i.secret)?r:o}`).digest("hex")};var n=e.r(54799)},91334,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=o;var n=e.r(25145),i=e.r(20746);async function o(e){var t,r,o,a,s,u;let{sessionToken:c,profile:l,account:d,options:p}=e;if(!(null!=d&&d.providerAccountId)||!d.type)throw Error("Missing or invalid provider account");if(!["email","oauth"].includes(d.type))throw Error("Provider not supported");let{adapter:f,jwt:h,events:y,session:{strategy:g,generateSessionToken:m}}=p;if(!f)return{user:l,account:d};let{createUser:v,updateUser:_,getUser:b,getUserByAccount:w,getUserByEmail:E,linkAccount:S,createSession:k,getSessionAndUser:O,deleteSession:T}=f,A=null,x=null,R=!1,P="jwt"===g;if(c)if(P)try{(A=await h.decode({...h,token:c}))&&"sub"in A&&A.sub&&(x=await b(A.sub))}catch(e){}else{let e=await O(c);e&&(A=e.session,x=e.user)}if("email"===d.type){let e=await E(l.email);if(e)(null==(t=x)?void 0:t.id)!==e.id&&!P&&c&&await T(c),x=await _({id:e.id,emailVerified:new Date}),await (null==(r=y.updateUser)?void 0:r.call(y,{user:x}));else{let{id:e,...t}={...l,emailVerified:new Date};x=await v(t),await (null==(o=y.createUser)?void 0:o.call(y,{user:x})),R=!0}return{session:A=P?{}:await k({sessionToken:await m(),userId:x.id,expires:(0,i.fromDate)(p.session.maxAge)}),user:x,isNewUser:R}}if("oauth"===d.type){let e=await w({providerAccountId:d.providerAccountId,provider:d.provider});if(e){if(x){if(e.id===x.id)return{session:A,user:x,isNewUser:R};throw new n.AccountNotLinkedError("The account is already associated with another user")}return{session:A=P?{}:await k({sessionToken:await m(),userId:e.id,expires:(0,i.fromDate)(p.session.maxAge)}),user:e,isNewUser:R}}{if(x)return await S({...d,userId:x.id}),await (null==(u=y.linkAccount)?void 0:u.call(y,{user:x,account:d,profile:l})),{session:A,user:x,isNewUser:R};let e=l.email?await E(l.email):null;if(e){let t=p.provider;if(null!=t&&t.allowDangerousEmailAccountLinking)x=e;else throw new n.AccountNotLinkedError("Another account already exists with the same e-mail address")}else{let{id:e,...t}={...l,emailVerified:null};x=await v(t)}return await (null==(a=y.createUser)?void 0:a.call(y,{user:x})),await S({...d,userId:x.id}),await (null==(s=y.linkAccount)?void 0:s.call(y,{user:x,account:d,profile:l})),{session:A=P?{}:await k({sessionToken:await m(),userId:x.id,expires:(0,i.fromDate)(p.session.maxAge)}),user:x,isNewUser:!0}}}throw Error("Unsupported account type")}},80545,(e,t,r)=>{"use strict";async function n({email:e,adapter:t}){let{getUserByEmail:r}=t,n=e?await r(e):null;return n||{id:e,email:e,emailVerified:null}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},64976,(e,t,r)=>{"use strict";var n=e.r(46733);Object.defineProperty(r,"__esModule",{value:!0}),r.default=u;var i=n(e.r(84998)),o=n(e.r(91334)),a=e.r(20746),s=n(e.r(80545));async function u(e){var t,r,n,u,c,l;let{options:d,query:p,body:f,method:h,headers:y,sessionStore:g}=e,{provider:m,adapter:v,url:_,callbackUrl:b,pages:w,jwt:E,events:S,callbacks:k,session:{strategy:O,maxAge:T},logger:A}=d,x=[],R="jwt"===O;if("oauth"===m.type)try{let{profile:n,account:a,OAuthProfile:s,cookies:u}=await (0,i.default)({query:p,body:f,method:h,options:d,cookies:e.cookies});u.length&&x.push(...u);try{if(A.debug("OAUTH_CALLBACK_RESPONSE",{profile:n,account:a,OAuthProfile:s}),!n||!a||!s)return{redirect:`${_}/signin`,cookies:x};let e=n;if(v){let{getUserByAccount:t}=v,r=await t({providerAccountId:a.providerAccountId,provider:m.id});r&&(e=r)}try{let t=await k.signIn({user:e,account:a,profile:s});if(!t)return{redirect:`${_}/error?error=AccessDenied`,cookies:x};if("string"==typeof t)return{redirect:t,cookies:x}}catch(e){return{redirect:`${_}/error?error=${encodeURIComponent(e.message)}`,cookies:x}}let{user:i,session:u,isNewUser:c}=await (0,o.default)({sessionToken:g.value,profile:n,account:a,options:d});if(R){let e={name:i.name,email:i.email,picture:i.image,sub:null==(r=i.id)?void 0:r.toString()},t=await k.jwt({token:e,user:i,account:a,profile:s,isNewUser:c,trigger:c?"signUp":"signIn"}),n=await E.encode({...E,token:t}),o=new Date;o.setTime(o.getTime()+1e3*T);let u=g.chunk(n,{expires:o});x.push(...u)}else x.push({name:d.cookies.sessionToken.name,value:u.sessionToken,options:{...d.cookies.sessionToken.options,expires:u.expires}});if(await (null==(t=S.signIn)?void 0:t.call(S,{user:i,account:a,profile:n,isNewUser:c})),c&&w.newUser)return{redirect:`${w.newUser}${w.newUser.includes("?")?"&":"?"}callbackUrl=${encodeURIComponent(b)}`,cookies:x};return{redirect:b,cookies:x}}catch(e){if("AccountNotLinkedError"===e.name)return{redirect:`${_}/error?error=OAuthAccountNotLinked`,cookies:x};if("CreateUserError"===e.name)return{redirect:`${_}/error?error=OAuthCreateAccount`,cookies:x};return A.error("OAUTH_CALLBACK_HANDLER_ERROR",e),{redirect:`${_}/error?error=Callback`,cookies:x}}}catch(e){if("OAuthCallbackError"===e.name)return A.error("OAUTH_CALLBACK_ERROR",{error:e,providerId:m.id}),{redirect:`${_}/error?error=OAuthCallback`,cookies:x};return A.error("OAUTH_CALLBACK_ERROR",e),{redirect:`${_}/error?error=Callback`,cookies:x}}if("email"===m.type)try{let e=null==p?void 0:p.token,t=null==p?void 0:p.email;if(!e)return{redirect:`${_}/error?error=configuration`,cookies:x};let r=await v.useVerificationToken({identifier:t,token:(0,a.hashToken)(e,d)});if(!r||r.expires.valueOf()<Date.now()||t&&r.identifier!==t)return{redirect:`${_}/error?error=Verification`,cookies:x};let i=await (0,s.default)({email:r.identifier,adapter:v}),c={providerAccountId:i.email,type:"email",provider:m.id};try{let e=await k.signIn({user:i,account:c});if(!e)return{redirect:`${_}/error?error=AccessDenied`,cookies:x};if("string"==typeof e)return{redirect:e,cookies:x}}catch(e){return{redirect:`${_}/error?error=${encodeURIComponent(e.message)}`,cookies:x}}let{user:l,session:f,isNewUser:h}=await (0,o.default)({sessionToken:g.value,profile:i,account:c,options:d});if(R){let e={name:l.name,email:l.email,picture:l.image,sub:null==(u=l.id)?void 0:u.toString()},t=await k.jwt({token:e,user:l,account:c,isNewUser:h,trigger:h?"signUp":"signIn"}),r=await E.encode({...E,token:t}),n=new Date;n.setTime(n.getTime()+1e3*T);let i=g.chunk(r,{expires:n});x.push(...i)}else x.push({name:d.cookies.sessionToken.name,value:f.sessionToken,options:{...d.cookies.sessionToken.options,expires:f.expires}});if(await (null==(n=S.signIn)?void 0:n.call(S,{user:l,account:c,isNewUser:h})),h&&w.newUser)return{redirect:`${w.newUser}${w.newUser.includes("?")?"&":"?"}callbackUrl=${encodeURIComponent(b)}`,cookies:x};return{redirect:b,cookies:x}}catch(e){if("CreateUserError"===e.name)return{redirect:`${_}/error?error=EmailCreateAccount`,cookies:x};return A.error("CALLBACK_EMAIL_ERROR",e),{redirect:`${_}/error?error=Callback`,cookies:x}}if("credentials"===m.type&&"POST"===h){let e;try{if(!(e=await m.authorize(f,{query:p,body:f,headers:y,method:h})))return{status:401,redirect:`${_}/error?${new URLSearchParams({error:"CredentialsSignin",provider:m.id})}`,cookies:x}}catch(e){return{status:401,redirect:`${_}/error?error=${encodeURIComponent(e.message)}`,cookies:x}}let t={providerAccountId:e.id,type:"credentials",provider:m.id};try{let r=await k.signIn({user:e,account:t,credentials:f});if(!r)return{status:403,redirect:`${_}/error?error=AccessDenied`,cookies:x};if("string"==typeof r)return{redirect:r,cookies:x}}catch(e){return{redirect:`${_}/error?error=${encodeURIComponent(e.message)}`,cookies:x}}let r={name:e.name,email:e.email,picture:e.image,sub:null==(c=e.id)?void 0:c.toString()},n=await k.jwt({token:r,user:e,account:t,isNewUser:!1,trigger:"signIn"}),i=await E.encode({...E,token:n}),o=new Date;o.setTime(o.getTime()+1e3*T);let a=g.chunk(i,{expires:o});return x.push(...a),await (null==(l=S.signIn)?void 0:l.call(S,{user:e,account:t})),{redirect:b,cookies:x}}return{status:500,body:`Error: Callback for provider type ${m.type} not supported`,cookies:x}}},3572,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var n=e.r(66101),i=e.r(69016),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(e.r(84318));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}async function s({options:e,query:t}){var r,a,s;let{logger:u,provider:c}=e,l={};if("string"==typeof c.authorization){let e=Object.fromEntries(new URL(c.authorization).searchParams);l={...l,...e}}else l={...l,...null==(a=c.authorization)?void 0:a.params};if(l={...l,...t},null!=(r=c.version)&&r.startsWith("1.")){let t=(0,i.oAuth1Client)(e),r=await t.getOAuthRequestToken(l),n=`${null==(s=c.authorization)?void 0:s.url}?${new URLSearchParams({oauth_token:r.oauth_token,oauth_token_secret:r.oauth_token_secret,...r.params})}`;return i.oAuth1TokenStore.set(r.oauth_token,r.oauth_token_secret),u.debug("GET_AUTHORIZATION_URL",{url:n,provider:c}),{redirect:n}}let d=await (0,n.openidClient)(e),p=l,f=[];await o.state.create(e,f,p),await o.pkce.create(e,f,p),await o.nonce.create(e,f,p);let h=d.authorizationUrl(p);return u.debug("GET_AUTHORIZATION_URL",{url:h,cookies:f,provider:c}),{redirect:h,cookies:f}}},36507,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=o;var n=e.r(54799),i=e.r(20746);async function o(e,t){var r,o,a,s;let{url:u,adapter:c,provider:l,callbackUrl:d,theme:p}=t,f=null!=(r=await (null==(o=l.generateVerificationToken)?void 0:o.call(l)))?r:(0,n.randomBytes)(32).toString("hex"),h=new Date(Date.now()+(null!=(a=l.maxAge)?a:86400)*1e3),y=new URLSearchParams({callbackUrl:d,token:f,email:e}),g=`${u}/callback/${l.id}?${y}`;return await Promise.all([l.sendVerificationRequest({identifier:e,token:f,expires:h,url:g,provider:l,theme:p}),null==(s=c.createVerificationToken)?void 0:s.call(c,{identifier:e,token:(0,i.hashToken)(f,t),expires:h})]),`${u}/verify-request?${new URLSearchParams({provider:l.id,type:l.type})}`}},54307,(e,t,r)=>{"use strict";var n=e.r(46733);Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var i=n(e.r(3572)),o=n(e.r(36507)),a=n(e.r(80545));async function s(e){let{options:t,query:r,body:n}=e,{url:s,callbacks:u,logger:c,provider:l}=t;if(!l.type)return{status:500,text:`Error: Type not specified for ${l.name}`};if("oauth"===l.type)try{return await (0,i.default)({options:t,query:r})}catch(e){return c.error("SIGNIN_OAUTH_ERROR",{error:e,providerId:l.id}),{redirect:`${s}/error?error=OAuthSignin`}}if("email"===l.type){var d;let e=null==n?void 0:n.email;if(!e)return{redirect:`${s}/error?error=EmailSignin`};let r=null!=(d=l.normalizeIdentifier)?d:e=>{var t;let r=e.trim();if(1!==(null!=(t=r.match(/@/g))?t:[]).length||r.includes('"'))throw Error("Invalid email address format.");let[n,i]=r.toLowerCase().split("@");if(!n||!i||!(i=i.split(",")[0]).includes("."))throw Error("Invalid email address format.");return`${n}@${i}`};try{e=r(null==n?void 0:n.email)}catch(e){return c.error("SIGNIN_EMAIL_ERROR",{error:e,providerId:l.id}),{redirect:`${s}/error?error=EmailSignin`}}let i=await (0,a.default)({email:e,adapter:t.adapter}),p={providerAccountId:e,userId:e,type:"email",provider:l.id};try{let e=await u.signIn({user:i,account:p,email:{verificationRequest:!0}});if(!e)return{redirect:`${s}/error?error=AccessDenied`};if("string"==typeof e)return{redirect:e}}catch(e){return{redirect:`${s}/error?${new URLSearchParams({error:e})}`}}try{return{redirect:await (0,o.default)(e,t)}}catch(e){return c.error("SIGNIN_EMAIL_ERROR",{error:e,providerId:l.id}),{redirect:`${s}/error?error=EmailSignin`}}}return{redirect:`${s}/signin`}}},69330,(e,t,r)=>{"use strict";async function n(e){var t,r;let{options:n,sessionStore:i}=e,{adapter:o,events:a,jwt:s,callbackUrl:u,logger:c,session:l}=n,d=null==i?void 0:i.value;if(!d)return{redirect:u};if("jwt"===l.strategy)try{let e=await s.decode({...s,token:d});await (null==(t=a.signOut)?void 0:t.call(a,{token:e}))}catch(e){c.error("SIGNOUT_ERROR",e)}else try{let e=await o.deleteSession(d);await (null==(r=a.signOut)?void 0:r.call(a,{session:e}))}catch(e){c.error("SIGNOUT_ERROR",e)}return{redirect:u,cookies:i.clean()}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},22386,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var n=e.r(20746);async function i(e){var t,r,i,o,a,s;let{options:u,sessionStore:c,newSession:l,isUpdate:d}=e,{adapter:p,jwt:f,events:h,callbacks:y,logger:g,session:{strategy:m,maxAge:v}}=u,_={body:{},headers:[{key:"Content-Type",value:"application/json"},...d?[]:[{key:"Cache-Control",value:"private, no-cache, no-store"},{key:"Pragma",value:"no-cache"},{key:"Expires",value:"0"}]].filter(Boolean),cookies:[]},b=c.value;if(!b)return _;if("jwt"===m)try{let e=await f.decode({...f,token:b});if(!e)throw Error("JWT invalid");let i=await y.jwt({token:e,...d&&{trigger:"update"},session:l}),o=(0,n.fromDate)(v),a=await y.session({session:{user:{name:null==e?void 0:e.name,email:null==e?void 0:e.email,image:null==e?void 0:e.picture},expires:o.toISOString()},token:i});_.body=a;let s=await f.encode({...f,token:i,maxAge:u.session.maxAge}),p=c.chunk(s,{expires:o});null==(t=_.cookies)||t.push(...p),await (null==(r=h.session)?void 0:r.call(h,{session:a,token:i}))}catch(e){g.error("JWT_SESSION_ERROR",e),null==(i=_.cookies)||i.push(...c.clean())}else try{let{getSessionAndUser:e,deleteSession:t,updateSession:r}=p,i=await e(b);if(i&&i.session.expires.valueOf()<Date.now()&&(await t(b),i=null),i){let{user:e,session:t}=i,s=u.session.updateAge,c=t.expires.valueOf()-1e3*v+1e3*s,p=(0,n.fromDate)(v);c<=Date.now()&&await r({sessionToken:b,expires:p});let f=await y.session({session:{user:{name:e.name,email:e.email,image:e.image},expires:t.expires.toISOString()},user:e,newSession:l,...d?{trigger:"update"}:{}});_.body=f,null==(o=_.cookies)||o.push({name:u.cookies.sessionToken.name,value:b,options:{...u.cookies.sessionToken.options,expires:p}}),await (null==(a=h.session)?void 0:a.call(h,{session:f}))}else b&&(null==(s=_.cookies)||s.push(...c.clean()))}catch(e){g.error("SESSION_ERROR",e)}return _}},41791,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return{headers:[{key:"Content-Type",value:"application/json"}],body:e.reduce((e,{id:t,name:r,type:n,signinUrl:i,callbackUrl:o})=>(e[t]={id:t,name:r,type:n,signinUrl:i,callbackUrl:o},e),{})}}},78785,(e,t,r)=>{"use strict";var n=e.r(46733);Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"callback",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"providers",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"session",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"signin",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"signout",{enumerable:!0,get:function(){return a.default}});var i=n(e.r(64976)),o=n(e.r(54307)),a=n(e.r(69330)),s=n(e.r(22386)),u=n(e.r(41791))},24374,(e,t,r)=>{var n,i,o,a,s,u,c,l,d,p,f,h,y={},g=[],m=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,v=Array.isArray;function _(e,t){for(var r in t)e[r]=t[r];return e}function b(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function w(e,t,r){var i,o,a,s={};for(a in t)"key"==a?i=t[a]:"ref"==a?o=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?n.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return E(e,s,i,o,null)}function E(e,t,r,n,a){var s={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==a?++o:a,__i:-1,__u:0};return null==a&&null!=i.vnode&&i.vnode(s),s}function S(e){return e.children}function k(e,t){this.props=e,this.context=t}function O(e,t){if(null==t)return e.__?O(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?O(e):null}function T(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!A.__r++||s!=i.debounceRendering)&&((s=i.debounceRendering)||u)(A)}function A(){for(var e,t,r,n,o,s,u=1;a.length;)a.length>u&&a.sort(c),e=a.shift(),u=a.length,e.__d&&(t=void 0,r=void 0,n=(r=e.__v).__e,o=[],s=[],e.__P&&((t=_({},r)).__v=r.__v+1,i.vnode&&i.vnode(t),I(e.__P,t,r,e.__n,e.__P.namespaceURI,32&r.__u?[n]:null,o,null==n?O(r):n,!!(32&r.__u),s),t.__v=r.__v,t.__.__k[t.__i]=t,j(o,t,s),r.__e=r.__=null,t.__e!=n&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(t)));A.__r=0}function x(e,t,r,n,o,a,s,u,c,l,d){var p,f,h,m,_,w,k,T=n&&n.__k||g,A=t.length;for(c=function(e,t,r,n,o){var a,s,u,c,l,d=r.length,p=d,f=0;for(e.__k=Array(o),a=0;a<o;a++)null!=(s=t[a])&&"boolean"!=typeof s&&"function"!=typeof s?("string"==typeof s||"number"==typeof s||"bigint"==typeof s||s.constructor==String?s=e.__k[a]=E(null,s,null,null,null):v(s)?s=e.__k[a]=E(S,{children:s},null,null,null):void 0===s.constructor&&s.__b>0?s=e.__k[a]=E(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):e.__k[a]=s,c=a+f,s.__=e,s.__b=e.__b+1,u=null,-1!=(l=s.__i=function(e,t,r,n){var i,o,a,s=e.key,u=e.type,c=t[r],l=null!=c&&0==(2&c.__u);if(null===c&&null==s||l&&s==c.key&&u==c.type)return r;if(n>+!!l){for(i=r-1,o=r+1;i>=0||o<t.length;)if(null!=(c=t[a=i>=0?i--:o++])&&0==(2&c.__u)&&s==c.key&&u==c.type)return a}return -1}(s,r,c,p))&&(p--,(u=r[l])&&(u.__u|=2)),null==u||null==u.__v?(-1==l&&(o>d?f--:o<d&&f++),"function"!=typeof s.type&&(s.__u|=4)):l!=c&&(l==c-1?f--:l==c+1?f++:(l>c?f--:f++,s.__u|=4))):e.__k[a]=null;if(p)for(a=0;a<d;a++)null!=(u=r[a])&&0==(2&u.__u)&&(u.__e==n&&(n=O(u)),function e(t,r,n){var o,a;if(i.unmount&&i.unmount(t),(o=t.ref)&&(o.current&&o.current!=t.__e||D(o,null,r)),null!=(o=t.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){i.__e(e,r)}o.base=o.__P=null}if(o=t.__k)for(a=0;a<o.length;a++)o[a]&&e(o[a],r,n||"function"!=typeof t.type);n||b(t.__e),t.__c=t.__=t.__e=void 0}(u,u));return n}(r,t,T,c,A),p=0;p<A;p++)null!=(h=r.__k[p])&&(f=-1==h.__i?y:T[h.__i]||y,h.__i=p,w=I(e,h,f,o,a,s,u,c,l,d),m=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&D(f.ref,null,h),d.push(h.ref,h.__c||m,h)),null==_&&null!=m&&(_=m),(k=!!(4&h.__u))||f.__k===h.__k?c=function e(t,r,n,i){var o,a;if("function"==typeof t.type){for(o=t.__k,a=0;o&&a<o.length;a++)o[a]&&(o[a].__=t,r=e(o[a],r,n,i));return r}t.__e!=r&&(i&&(r&&t.type&&!r.parentNode&&(r=O(t)),n.insertBefore(t.__e,r||null)),r=t.__e);do r=r&&r.nextSibling;while(null!=r&&8==r.nodeType)return r}(h,c,e,k):"function"==typeof h.type&&void 0!==w?c=w:m&&(c=m.nextSibling),h.__u&=-7);return r.__e=_,c}function R(e,t,r){"-"==t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||m.test(t)?r:r+"px"}function P(e,t,r,n,i){var o,a;e:if("style"==t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||R(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||R(e.style,t,r[t])}else if("o"==t[0]&&"n"==t[1])o=t!=(t=t.replace(l,"$1")),t=(a=t.toLowerCase())in e||"onFocusOut"==t||"onFocusIn"==t?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=r,r?n?r.t=n.t:(r.t=d,e.addEventListener(t,o?f:p,o)):e.removeEventListener(t,o?f:p,o);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==r?"":r))}}function C(e){return function(t){if(this.l){var r=this.l[t.type+e];if(null==t.u)t.u=d++;else if(t.u<r.t)return;return r(i.event?i.event(t):t)}}}function I(e,t,r,o,a,s,u,c,l,d){var p,f,h,g,m,w,E,T,A,R,C,I,j,D,L,U,W,F=t.type;if(void 0!==t.constructor)return null;128&r.__u&&(l=!!(32&r.__u),s=[c=t.__e=r.__e]),(p=i.__b)&&p(t);e:if("function"==typeof F)try{if(T=t.props,A="prototype"in F&&F.prototype.render,R=(p=F.contextType)&&o[p.__c],C=p?R?R.props.value:p.__:o,r.__c?E=(f=t.__c=r.__c).__=f.__E:(A?t.__c=f=new F(T,C):(t.__c=f=new k(T,C),f.constructor=F,f.render=M),R&&R.sub(f),f.state||(f.state={}),f.__n=o,h=f.__d=!0,f.__h=[],f._sb=[]),A&&null==f.__s&&(f.__s=f.state),A&&null!=F.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=_({},f.__s)),_(f.__s,F.getDerivedStateFromProps(T,f.__s))),g=f.props,m=f.state,f.__v=t,h)A&&null==F.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),A&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(A&&null==F.getDerivedStateFromProps&&T!==g&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(T,C),t.__v==r.__v||!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(T,f.__s,C)){for(t.__v!=r.__v&&(f.props=T,f.state=f.__s,f.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(e){e&&(e.__=t)}),I=0;I<f._sb.length;I++)f.__h.push(f._sb[I]);f._sb=[],f.__h.length&&u.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(T,f.__s,C),A&&null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(g,m,w)})}if(f.context=C,f.props=T,f.__P=e,f.__e=!1,j=i.__r,D=0,A){for(f.state=f.__s,f.__d=!1,j&&j(t),p=f.render(f.props,f.state,f.context),L=0;L<f._sb.length;L++)f.__h.push(f._sb[L]);f._sb=[]}else do f.__d=!1,j&&j(t),p=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++D<25)f.state=f.__s,null!=f.getChildContext&&(o=_(_({},o),f.getChildContext())),A&&!h&&null!=f.getSnapshotBeforeUpdate&&(w=f.getSnapshotBeforeUpdate(g,m)),U=p,null!=p&&p.type===S&&null==p.key&&(U=function e(t){return"object"!=typeof t||null==t||t.__b&&t.__b>0?t:v(t)?t.map(e):_({},t)}(p.props.children)),c=x(e,v(U)?U:[U],t,r,o,a,s,u,c,l,d),f.base=t.__e,t.__u&=-161,f.__h.length&&u.push(f),E&&(f.__E=f.__=null)}catch(e){if(t.__v=null,l||null!=s)if(e.then){for(t.__u|=l?160:128;c&&8==c.nodeType&&c.nextSibling;)c=c.nextSibling;s[s.indexOf(c)]=null,t.__e=c}else{for(W=s.length;W--;)b(s[W]);N(t)}else t.__e=r.__e,t.__k=r.__k,e.then||N(t);i.__e(e,t,r)}else null==s&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):c=t.__e=function(e,t,r,o,a,s,u,c,l){var d,p,f,h,g,m,_,w=r.props||y,E=t.props,S=t.type;if("svg"==S?a="http://www.w3.org/2000/svg":"math"==S?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),null!=s){for(d=0;d<s.length;d++)if((g=s[d])&&"setAttribute"in g==!!S&&(S?g.localName==S:3==g.nodeType)){e=g,s[d]=null;break}}if(null==e){if(null==S)return document.createTextNode(E);e=document.createElementNS(a,S,E.is&&E),c&&(i.__m&&i.__m(t,s),c=!1),s=null}if(null==S)w===E||c&&e.data==E||(e.data=E);else{if(s=s&&n.call(e.childNodes),!c&&null!=s)for(w={},d=0;d<e.attributes.length;d++)w[(g=e.attributes[d]).name]=g.value;for(d in w)if(g=w[d],"children"==d);else if("dangerouslySetInnerHTML"==d)f=g;else if(!(d in E)){if("value"==d&&"defaultValue"in E||"checked"==d&&"defaultChecked"in E)continue;P(e,d,null,g,a)}for(d in E)g=E[d],"children"==d?h=g:"dangerouslySetInnerHTML"==d?p=g:"value"==d?m=g:"checked"==d?_=g:c&&"function"!=typeof g||w[d]===g||P(e,d,g,w[d],a);if(p)c||f&&(p.__html==f.__html||p.__html==e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(f&&(e.innerHTML=""),x("template"==t.type?e.content:e,v(h)?h:[h],t,r,o,"foreignObject"==S?"http://www.w3.org/1999/xhtml":a,s,u,s?s[0]:r.__k&&O(r,0),c,l),null!=s)for(d=s.length;d--;)b(s[d]);c||(d="value","progress"==S&&null==m?e.removeAttribute("value"):null==m||m===e[d]&&("progress"!=S||m)&&("option"!=S||m==w[d])||P(e,d,m,w[d],a),d="checked",null!=_&&_!=e[d]&&P(e,d,_,w[d],a))}return e}(r.__e,t,r,o,a,s,u,l,d);return(p=i.diffed)&&p(t),128&t.__u?void 0:c}function N(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(N)}function j(e,t,r){for(var n=0;n<r.length;n++)D(r[n],r[++n],r[++n]);i.__c&&i.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){i.__e(e,t.__v)}})}function D(e,t,r){try{if("function"==typeof e){var n="function"==typeof e.__u;n&&e.__u(),n&&null==t||(e.__u=e(t))}else e.current=t}catch(e){i.__e(e,r)}}function M(e,t,r){return this.constructor(e,r)}function L(e,t,r){var o,a,s,u;t==document&&(t=document.documentElement),i.__&&i.__(e,t),a=(o="function"==typeof r)?null:r&&r.__k||t.__k,s=[],u=[],I(t,e=(!o&&r||t).__k=w(S,null,[e]),a||y,y,t.namespaceURI,!o&&r?[r]:a?null:t.firstChild?n.call(t.childNodes):null,s,!o&&r?r:a?a.__e:t.firstChild,o,u),j(s,e,u)}n=g.slice,i={__e:function(e,t,r,n){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},o=0,k.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=_({},this.state),"function"==typeof e&&(e=e(_({},r),this.props)),e&&_(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),T(this))},k.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),T(this))},k.prototype.render=S,a=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=function(e,t){return e.__v.__b-t.__v.__b},A.__r=0,l=/(PointerCapture)$|Capture$/i,d=0,p=C(!1),f=C(!0),h=0,r.Component=k,r.Fragment=S,r.cloneElement=function(e,t,r){var i,o,a,s,u=_({},e.props);for(a in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)"key"==a?i=t[a]:"ref"==a?o=t[a]:u[a]=void 0===t[a]&&null!=s?s[a]:t[a];return arguments.length>2&&(u.children=arguments.length>3?n.call(arguments,2):r),E(e.type,u,i||e.key,o||e.ref,null)},r.createContext=function(e){function t(e){var r,n;return this.getChildContext||(r=new Set,(n={})[t.__c]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(e){this.props.value!=e.value&&r.forEach(function(e){e.__e=!0,T(e)})},this.sub=function(e){r.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r&&r.delete(e),t&&t.call(e)}}),e.children}return t.__c="__cC"+h++,t.__=e,t.Provider=t.__l=(t.Consumer=function(e,t){return e.children(t)}).contextType=t,t},r.createElement=w,r.createRef=function(){return{current:null}},r.h=w,r.hydrate=function e(t,r){L(t,r,e)},r.isValidElement=function(e){return null!=e&&void 0===e.constructor},r.options=i,r.render=L,r.toChildArray=function e(t,r){return r=r||[],null==t||"boolean"==typeof t||(v(t)?t.some(function(t){e(t,r)}):r.push(t)),r}},52580,(e,t,r)=>{e.e,function(e,t){var r=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,n=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,i=/[\s\n\\/='"\0<>]/,o=/^xlink:?./,a=/["&<]/;function s(e){if(!1===a.test(e+=""))return e;for(var t=0,r=0,n="",i="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=i,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var u=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"	"))},c=function(e,t,r){return String(e).length>(t||40)||!r&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},l={},d=/([A-Z])/g;function p(e){var t="";for(var n in e){var i=e[n];null!=i&&""!==i&&(t&&(t+=" "),t+="-"==n[0]?n:l[n]||(l[n]=n.replace(d,"-$1").toLowerCase()),t="number"==typeof i&&!1===r.test(n)?t+": "+i+"px;":t+": "+i+";")}return t||void 0}function f(e,t){return Array.isArray(t)?t.reduce(f,e):null!=t&&!1!==t&&e.push(t),e}function h(){this.__d=!0}function y(e,t){return{__v:e,context:t,props:e.props,setState:h,forceUpdate:h,__d:!0,__h:[]}}function g(e,t){var r=e.contextType,n=r&&t[r.__c];return null!=r?n?n.props.value:r.__:t}var m=[],v={shallow:!0};w.render=w;var _=function(e,t){return w(e,t,v)},b=[];function w(e,r,a){r=r||{};var l=t.options.__s;t.options.__s=!0;var d,h=t.h(t.Fragment,null);return h.__k=[e],d=a&&(a.pretty||a.voidElements||a.sortAttributes||a.shallow||a.allAttributes||a.xml||a.attributeHook)?function e(r,a,l,d,h,v){if(null==r||"boolean"==typeof r)return"";if("object"!=typeof r)return"function"==typeof r?"":s(r);var _=l.pretty,b=_&&"string"==typeof _?_:"	";if(Array.isArray(r)){for(var w="",E=0;E<r.length;E++)_&&E>0&&(w+="\n"),w+=e(r[E],a,l,d,h,v);return w}if(void 0!==r.constructor)return"";var S,k=r.type,O=r.props,T=!1;if("function"==typeof k){if(T=!0,!l.shallow||!d&&!1!==l.renderRootComponent){if(k===t.Fragment){var A=[];return f(A,r.props.children),e(A,a,l,!1!==l.shallowHighOrder,h,v)}var x,R=r.__c=y(r,a);t.options.__b&&t.options.__b(r);var P=t.options.__r;if(k.prototype&&"function"==typeof k.prototype.render){var C=g(k,a);(R=r.__c=new k(O,C)).__v=r,R._dirty=R.__d=!0,R.props=O,null==R.state&&(R.state={}),null==R._nextState&&null==R.__s&&(R._nextState=R.__s=R.state),R.context=C,k.getDerivedStateFromProps?R.state=Object.assign({},R.state,k.getDerivedStateFromProps(R.props,R.state)):R.componentWillMount&&(R.componentWillMount(),R.state=R._nextState!==R.state?R._nextState:R.__s!==R.state?R.__s:R.state),P&&P(r),x=R.render(R.props,R.state,R.context)}else for(var I=g(k,a),N=0;R.__d&&N++<25;)R.__d=!1,P&&P(r),x=k.call(r.__c,O,I);return R.getChildContext&&(a=Object.assign({},a,R.getChildContext())),t.options.diffed&&t.options.diffed(r),e(x,a,l,!1!==l.shallowHighOrder,h,v)}k=(S=k).displayName||S!==Function&&S.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var r=-1,n=m.length;n--;)if(m[n]===e){r=n;break}r<0&&(r=m.push(e)-1),t="UnnamedComponent"+r}return t}(S)}var j,D,M="<"+k;if(O){var L=Object.keys(O);l&&!0===l.sortAttributes&&L.sort();for(var U=0;U<L.length;U++){var W=L[U],F=O[W];if("children"!==W){if(!i.test(W)&&(l&&l.allAttributes||"key"!==W&&"ref"!==W&&"__self"!==W&&"__source"!==W)){if("defaultValue"===W)W="value";else if("defaultChecked"===W)W="checked";else if("defaultSelected"===W)W="selected";else if("className"===W){if(void 0!==O.class)continue;W="class"}else h&&o.test(W)&&(W=W.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===W){if(O.for)continue;W="for"}"style"===W&&F&&"object"==typeof F&&(F=p(F)),"a"===W[0]&&"r"===W[1]&&"boolean"==typeof F&&(F=String(F));var $=l.attributeHook&&l.attributeHook(W,F,a,l,T);if($||""===$)M+=$;else if("dangerouslySetInnerHTML"===W)D=F&&F.__html;else if("textarea"===k&&"value"===W)j=F;else if((F||0===F||""===F)&&"function"!=typeof F){if(!(!0!==F&&""!==F||(F=W,l&&l.xml))){M=M+" "+W;continue}if("value"===W){if("select"===k){v=F;continue}"option"===k&&v==F&&void 0===O.selected&&(M+=" selected")}M=M+" "+W+'="'+s(F)+'"'}}}else j=F}}if(_){var H=M.replace(/\n\s*/," ");H===M||~H.indexOf("\n")?_&&~M.indexOf("\n")&&(M+="\n"):M=H}if(M+=">",i.test(k))throw Error(k+" is not a valid HTML tag name in "+M);var K,q=n.test(k)||l.voidElements&&l.voidElements.test(k),J=[];if(D)_&&c(D)&&(D="\n"+b+u(D,b)),M+=D;else if(null!=j&&f(K=[],j).length){for(var B=_&&~M.indexOf("\n"),V=!1,z=0;z<K.length;z++){var G=K[z];if(null!=G&&!1!==G){var Q=e(G,a,l,!0,"svg"===k||"foreignObject"!==k&&h,v);if(_&&!B&&c(Q)&&(B=!0),Q)if(_){var X=Q.length>0&&"<"!=Q[0];V&&X?J[J.length-1]+=Q:J.push(Q),V=X}else J.push(Q)}}if(_&&B)for(var Y=J.length;Y--;)J[Y]="\n"+b+u(J[Y],b)}if(J.length||D)M+=J.join("");else if(l&&l.xml)return M.substring(0,M.length-1)+" />";return!q||K||D?(_&&~M.indexOf("\n")&&(M+="\n"),M=M+"</"+k+">"):M=M.replace(/>$/," />"),M}(e,r,a):function e(r,a,u,c,l){if(null==r||!0===r||!1===r||""===r)return"";if("object"!=typeof r)return"function"==typeof r?"":s(r);if(S(r)){var d="";l.__k=r;for(var f=0;f<r.length;f++)d+=e(r[f],a,u,c,l),r[f]=E(r[f]);return d}if(void 0!==r.constructor)return"";r.__=l,t.options.__b&&t.options.__b(r);var h=r.type,m=r.props;if("function"==typeof h){if(h===t.Fragment)T=m.children;else{var v,_,b,w,O,T=h.prototype&&"function"==typeof h.prototype.render?(v=a,b=g(_=r.type,v),w=new _(r.props,b),r.__c=w,w.__v=r,w.__d=!0,w.props=r.props,null==w.state&&(w.state={}),null==w.__s&&(w.__s=w.state),w.context=b,_.getDerivedStateFromProps?w.state=k({},w.state,_.getDerivedStateFromProps(w.props,w.state)):w.componentWillMount&&(w.componentWillMount(),w.state=w.__s!==w.state?w.__s:w.state),(O=t.options.__r)&&O(r),w.render(w.props,w.state,w.context)):function(e,r){var n,i=y(e,r),o=g(e.type,r);e.__c=i;for(var a=t.options.__r,s=0;i.__d&&s++<25;)i.__d=!1,a&&a(e),n=e.type.call(i,e.props,o);return n}(r,a),A=r.__c;A.getChildContext&&(a=k({},a,A.getChildContext()))}var x=e(T=null!=T&&T.type===t.Fragment&&null==T.key?T.props.children:T,a,u,c,r);return t.options.diffed&&t.options.diffed(r),r.__=void 0,t.options.unmount&&t.options.unmount(r),x}var R,P,C="<";if(C+=h,m)for(var I in R=m.children,m){var N,j,D,M=m[I];if(!("key"===I||"ref"===I||"__self"===I||"__source"===I||"children"===I||"className"===I&&"class"in m||"htmlFor"===I&&"for"in m||i.test(I))){if(j=I="className"===(N=I)?"class":"htmlFor"===N?"for":"defaultValue"===N?"value":"defaultChecked"===N?"checked":"defaultSelected"===N?"selected":u&&o.test(N)?N.toLowerCase().replace(/^xlink:?/,"xlink:"):N,D=M,M="style"===j&&null!=D&&"object"==typeof D?p(D):"a"===j[0]&&"r"===j[1]&&"boolean"==typeof D?String(D):D,"dangerouslySetInnerHTML"===I)P=M&&M.__html;else if("textarea"===h&&"value"===I)R=M;else if((M||0===M||""===M)&&"function"!=typeof M){if(!0===M||""===M){M=I,C=C+" "+I;continue}if("value"===I){if("select"===h){c=M;continue}"option"!==h||c!=M||"selected"in m||(C+=" selected")}C=C+" "+I+'="'+s(M)+'"'}}}var L=C;if(C+=">",i.test(h))throw Error(h+" is not a valid HTML tag name in "+C);var U="",W=!1;if(P)U+=P,W=!0;else if("string"==typeof R)U+=s(R),W=!0;else if(S(R)){r.__k=R;for(var F=0;F<R.length;F++){var $=R[F];if(R[F]=E($),null!=$&&!1!==$){var H=e($,a,"svg"===h||"foreignObject"!==h&&u,c,r);H&&(U+=H,W=!0)}}}else if(null!=R&&!1!==R&&!0!==R){r.__k=[E(R)];var K=e(R,a,"svg"===h||"foreignObject"!==h&&u,c,r);K&&(U+=K,W=!0)}if(t.options.diffed&&t.options.diffed(r),r.__=void 0,t.options.unmount&&t.options.unmount(r),W)C+=U;else if(n.test(h))return L+" />";return C+"</"+h+">"}(e,r,!1,void 0,h),t.options.__c&&t.options.__c(e,b),t.options.__s=l,b.length=0,d}function E(e){return null==e||"boolean"==typeof e?null:"string"==typeof e||"number"==typeof e||"bigint"==typeof e?t.h(null,null,e):e}var S=Array.isArray,k=Object.assign;w.shallowRender=_,e.default=w,e.render=w,e.renderToStaticMarkup=w,e.renderToString=w,e.shallowRender=_}(r,e.r(24374))},25667,(e,t,r)=>{t.exports=e.r(52580).default},85757,(e,t,r)=>{function n(){return t.exports=n=Object.assign.bind(),t.exports.__esModule=!0,t.exports.default=t.exports,n.apply(null,arguments)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},52837,(e,t,r)=>{"use strict";var n=e.r(46733);Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t;let{csrfToken:r,providers:n,callbackUrl:s,theme:u,email:c,error:l}=e,d=n.filter(e=>"oauth"===e.type||"email"===e.type||"credentials"===e.type&&!!e.credentials);"undefined"!=typeof document&&u.buttonText&&document.documentElement.style.setProperty("--button-text-color",u.buttonText),"undefined"!=typeof document&&u.brandColor&&document.documentElement.style.setProperty("--brand-color",u.brandColor);let p={Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallback:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page.",default:"Unable to sign in."},f=l&&(null!=(t=p[l])?t:p.default),h="https://authjs.dev/img/providers";return(0,i.h)("div",{className:"signin"},u.brandColor&&(0,i.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${u.brandColor}
        }
      `}}),u.buttonText&&(0,i.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${u.buttonText}
        }
      `}}),(0,i.h)("div",{className:"card"},u.logo&&(0,i.h)("img",{src:u.logo,alt:"Logo",className:"logo"}),f&&(0,i.h)("div",{className:"error"},(0,i.h)("p",null,f)),d.map((e,t)=>{let n,u,l,p,f,y;if("oauth"===e.type){var g;({bg:n="",text:u="",logo:l="",bgDark:f=n,textDark:y=u,logoDark:p=""}=null!=(g=e.style)?g:{}),l=l.startsWith("/")?`${h}${l}`:l,(p=p.startsWith("/")?`${h}${p}`:p||l)||(p=l)}return(0,i.h)("div",{key:e.id,className:"provider"},"oauth"===e.type&&(0,i.h)("form",{action:e.signinUrl,method:"POST"},(0,i.h)("input",{type:"hidden",name:"csrfToken",value:r}),s&&(0,i.h)("input",{type:"hidden",name:"callbackUrl",value:s}),(0,i.h)("button",{type:"submit",className:"button",style:{"--provider-bg":n,"--provider-dark-bg":f,"--provider-color":u,"--provider-dark-color":y,"--provider-bg-hover":a(n,.8),"--provider-dark-bg-hover":a(f,.8)}},l&&(0,i.h)("img",{loading:"lazy",height:24,width:24,id:"provider-logo",src:`${l.startsWith("/")?h:""}${l}`}),p&&(0,i.h)("img",{loading:"lazy",height:24,width:24,id:"provider-logo-dark",src:`${l.startsWith("/")?h:""}${p}`}),(0,i.h)("span",null,"Sign in with ",e.name))),("email"===e.type||"credentials"===e.type)&&t>0&&"email"!==d[t-1].type&&"credentials"!==d[t-1].type&&(0,i.h)("hr",null),"email"===e.type&&(0,i.h)("form",{action:e.signinUrl,method:"POST"},(0,i.h)("input",{type:"hidden",name:"csrfToken",value:r}),(0,i.h)("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`},"Email"),(0,i.h)("input",{id:`input-email-for-${e.id}-provider`,autoFocus:!0,type:"email",name:"email",value:c,placeholder:"email@example.com",required:!0}),(0,i.h)("button",{id:"submitButton",type:"submit"},"Sign in with ",e.name)),"credentials"===e.type&&(0,i.h)("form",{action:e.callbackUrl,method:"POST"},(0,i.h)("input",{type:"hidden",name:"csrfToken",value:r}),Object.keys(e.credentials).map(t=>{var r,n,a;return(0,i.h)("div",{key:`input-group-${e.id}`},(0,i.h)("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`},null!=(r=e.credentials[t].label)?r:t),(0,i.h)("input",(0,o.default)({name:t,id:`input-${t}-for-${e.id}-provider`,type:null!=(n=e.credentials[t].type)?n:"text",placeholder:null!=(a=e.credentials[t].placeholder)?a:""},e.credentials[t])))}),(0,i.h)("button",{type:"submit"},"Sign in with ",e.name)),("email"===e.type||"credentials"===e.type)&&t+1<d.length&&(0,i.h)("hr",null))})))};var i=e.r(24374),o=n(e.r(85757));function a(e,t=1){if(!e)return;3===(e=e.replace(/^#/,"")).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let r=parseInt(e,16);return t=Math.min(Math.max(t,0),1),`rgba(${r>>16&255}, ${r>>8&255}, ${255&r}, ${t})`}},4502,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let{url:t,csrfToken:r,theme:i}=e;return(0,n.h)("div",{className:"signout"},i.brandColor&&(0,n.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${i.brandColor}
        }
      `}}),i.buttonText&&(0,n.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${i.buttonText}
        }
      `}}),(0,n.h)("div",{className:"card"},i.logo&&(0,n.h)("img",{src:i.logo,alt:"Logo",className:"logo"}),(0,n.h)("h1",null,"Signout"),(0,n.h)("p",null,"Are you sure you want to sign out?"),(0,n.h)("form",{action:`${t}/signout`,method:"POST"},(0,n.h)("input",{type:"hidden",name:"csrfToken",value:r}),(0,n.h)("button",{id:"submitButton",type:"submit"},"Sign out"))))};var n=e.r(24374)},93750,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let{url:t,theme:r}=e;return(0,n.h)("div",{className:"verify-request"},r.brandColor&&(0,n.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${r.brandColor}
        }
      `}}),(0,n.h)("div",{className:"card"},r.logo&&(0,n.h)("img",{src:r.logo,alt:"Logo",className:"logo"}),(0,n.h)("h1",null,"Check your email"),(0,n.h)("p",null,"A sign in link has been sent to your email address."),(0,n.h)("p",null,(0,n.h)("a",{className:"site",href:t.origin},t.host))))};var n=e.r(24374)},68719,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t;let{url:r,error:i="default",theme:o}=e,a=`${r}/signin`,s={default:{status:200,heading:"Error",message:(0,n.h)("p",null,(0,n.h)("a",{className:"site",href:null==r?void 0:r.origin},null==r?void 0:r.host))},configuration:{status:500,heading:"Server error",message:(0,n.h)("div",null,(0,n.h)("p",null,"There is a problem with the server configuration."),(0,n.h)("p",null,"Check the server logs for more information."))},accessdenied:{status:403,heading:"Access Denied",message:(0,n.h)("div",null,(0,n.h)("p",null,"You do not have permission to sign in."),(0,n.h)("p",null,(0,n.h)("a",{className:"button",href:a},"Sign in")))},verification:{status:403,heading:"Unable to sign in",message:(0,n.h)("div",null,(0,n.h)("p",null,"The sign in link is no longer valid."),(0,n.h)("p",null,"It may have been used already or it may have expired.")),signin:(0,n.h)("a",{className:"button",href:a},"Sign in")}},{status:u,heading:c,message:l,signin:d}=null!=(t=s[i.toLowerCase()])?t:s.default;return{status:u,html:(0,n.h)("div",{className:"error"},(null==o?void 0:o.brandColor)&&(0,n.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${null==o?void 0:o.brandColor}
        }
      `}}),(0,n.h)("div",{className:"card"},(null==o?void 0:o.logo)&&(0,n.h)("img",{src:o.logo,alt:"Logo",className:"logo"}),(0,n.h)("h1",null,c),(0,n.h)("div",{className:"message"},l),d))}};var n=e.r(24374)},14969,(e,t,r)=>{t.exports=function(){return':root{--border-width:1px;--border-radius:0.5rem;--color-error:#c94b4b;--color-info:#157efb;--color-info-hover:#0f6ddb;--color-info-text:#fff}.__next-auth-theme-auto,.__next-auth-theme-light{--color-background:#ececec;--color-background-hover:hsla(0,0%,93%,.8);--color-background-card:#fff;--color-text:#000;--color-primary:#444;--color-control-border:#bbb;--color-button-active-background:#f9f9f9;--color-button-active-border:#aaa;--color-separator:#ccc}.__next-auth-theme-dark{--color-background:#161b22;--color-background-hover:rgba(22,27,34,.8);--color-background-card:#0d1117;--color-text:#fff;--color-primary:#ccc;--color-control-border:#555;--color-button-active-background:#060606;--color-button-active-border:#666;--color-separator:#444}@media (prefers-color-scheme:dark){.__next-auth-theme-auto{--color-background:#161b22;--color-background-hover:rgba(22,27,34,.8);--color-background-card:#0d1117;--color-text:#fff;--color-primary:#ccc;--color-control-border:#555;--color-button-active-background:#060606;--color-button-active-border:#666;--color-separator:#444}a.button,button{background-color:var(--provider-dark-bg,var(--color-background));color:var(--provider-dark-color,var(--color-primary))}a.button:hover,button:hover{background-color:var(--provider-dark-bg-hover,var(--color-background-hover))!important}#provider-logo{display:none!important}#provider-logo-dark{display:block!important;width:25px}}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit;margin:0;padding:0}body{background-color:var(--color-background);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;margin:0;padding:0}h1{font-weight:400}h1,p{color:var(--color-text);margin-bottom:1.5rem;padding:0 1rem}form{margin:0;padding:0}label{font-weight:500;margin-bottom:.25rem;text-align:left}input[type],label{color:var(--color-text);display:block}input[type]{background:var(--color-background-card);border:var(--border-width) solid var(--color-control-border);border-radius:var(--border-radius);box-sizing:border-box;font-size:1rem;padding:.5rem 1rem;width:100%}input[type]:focus{box-shadow:none}p{font-size:1.1rem;line-height:2rem}a.button{line-height:1rem;text-decoration:none}a.button:link,a.button:visited{background-color:var(--color-background);color:var(--color-primary)}button span{flex-grow:1}a.button,button{align-items:center;background-color:var(--provider-bg);border-color:rgba(0,0,0,.1);border-radius:var(--border-radius);color:var(--provider-color,var(--color-primary));display:flex;font-size:1.1rem;font-weight:500;justify-content:center;min-height:62px;padding:.75rem 1rem;position:relative;transition:all .1s ease-in-out}a.button:hover,button:hover{background-color:var(--provider-bg-hover,var(--color-background-hover));cursor:pointer}a.button:active,button:active{cursor:pointer}a.button #provider-logo,button #provider-logo{display:block;width:25px}a.button #provider-logo-dark,button #provider-logo-dark{display:none}#submitButton{background-color:var(--brand-color,var(--color-info));color:var(--button-text-color,var(--color-info-text));width:100%}#submitButton:hover{background-color:var(--button-hover-bg,var(--color-info-hover))!important}a.site{color:var(--color-primary);font-size:1rem;line-height:2rem;text-decoration:none}a.site:hover{text-decoration:underline}.page{box-sizing:border-box;display:grid;height:100%;margin:0;padding:0;place-items:center;position:absolute;width:100%}.page>div{text-align:center}.error a.button{margin-top:.5rem;padding-left:2rem;padding-right:2rem}.error .message{margin-bottom:1.5rem}.signin input[type=text]{display:block;margin-left:auto;margin-right:auto}.signin hr{border:0;border-top:1px solid var(--color-separator);display:block;margin:2rem auto 1rem;overflow:visible}.signin hr:before{background:var(--color-background-card);color:#888;content:"or";padding:0 .4rem;position:relative;top:-.7rem}.signin .error{background:#f5f5f5;background:var(--color-error);border-radius:.3rem;font-weight:500}.signin .error p{color:var(--color-info-text);font-size:.9rem;line-height:1.2rem;padding:.5rem 1rem;text-align:left}.signin form,.signin>div{display:block}.signin form input[type],.signin>div input[type]{margin-bottom:.5rem}.signin form button,.signin>div button{width:100%}.signin .provider+.provider{margin-top:1rem}.logo{display:inline-block;margin:1.25rem 0;max-height:70px;max-width:150px}.card{background-color:var(--color-background-card);border-radius:2rem;padding:1.25rem 2rem}.card .header{color:var(--color-primary)}.section-header{color:var(--color-text)}@media screen and (min-width:450px){.card{margin:2rem 0;width:368px}}@media screen and (max-width:450px){.card{margin:1rem 0;width:343px}}'}},24954,(e,t,r)=>{"use strict";var n=e.r(46733);Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let{url:t,theme:r,query:n,cookies:l}=e;function d({html:e,title:t,status:n}){var o;return{cookies:l,status:n,headers:[{key:"Content-Type",value:"text/html"}],body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${(0,c.default)()}</style><title>${t}</title></head><body class="__next-auth-theme-${null!=(o=null==r?void 0:r.colorScheme)?o:"auto"}"><div class="page">${(0,i.default)(e)}</div></body></html>`}}return{signin:t=>d({html:(0,o.default)({csrfToken:e.csrfToken,providers:e.providers,callbackUrl:e.callbackUrl,theme:r,...n,...t}),title:"Sign In"}),signout:n=>d({html:(0,a.default)({csrfToken:e.csrfToken,url:t,theme:r,...n}),title:"Sign Out"}),verifyRequest:e=>d({html:(0,s.default)({url:t,theme:r,...e}),title:"Verify Request"}),error:e=>d({...(0,u.default)({url:t,theme:r,...e}),title:"Error"})}};var i=n(e.r(25667)),o=n(e.r(52837)),a=n(e.r(4502)),s=n(e.r(93750)),u=n(e.r(68719)),c=n(e.r(14969))},24283,(e,t,r)=>{"use strict";function n(e){return e&&"object"==typeof e&&!Array.isArray(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.merge=function e(t,...r){if(!r.length)return t;let i=r.shift();if(n(t)&&n(i))for(let r in i)n(i[r])?(t[r]||Object.assign(t,{[r]:{}}),e(t[r],i[r])):Object.assign(t,{[r]:i[r]});return e(t,...r)}},30145,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let{url:t,providerId:r}=e,o=e.providers.map(({options:e,...r})=>{var o,a;if("oauth"===r.type){let o=i(r),s=i(e,!0),u=null!=(a=null==s?void 0:s.id)?a:r.id;return(0,n.merge)(o,{...s,signinUrl:`${t}/signin/${u}`,callbackUrl:`${t}/callback/${u}`})}let s=null!=(o=null==e?void 0:e.id)?o:r.id;return(0,n.merge)(r,{...e,signinUrl:`${t}/signin/${s}`,callbackUrl:`${t}/callback/${s}`})});return{providers:o,provider:o.find(({id:e})=>e===r)}};var n=e.r(24283);function i(e,t=!1){var r,n,o,a,s;if(!e)return;let u=Object.entries(e).reduce((e,[t,r])=>{if(["authorization","token","userinfo"].includes(t)&&"string"==typeof r){var n;let i=new URL(r);e[t]={url:`${i.origin}${i.pathname}`,params:Object.fromEntries(null!=(n=i.searchParams)?n:[])}}else e[t]=r;return e},{});return t||null!=(r=u.version)&&r.startsWith("1.")||(u.idToken=!!(null!=(n=null!=(o=u.idToken)?o:null==(a=u.wellKnown)?void 0:a.includes("openid-configuration"))?n:null==(s=u.authorization)||null==(s=s.params)||null==(s=s.scope)?void 0:s.includes("openid")),u.checks||(u.checks=["state"])),u}},80896,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.defaultCallbacks=void 0,r.defaultCallbacks={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>e,jwt:({token:e})=>e}},60604,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createCSRFToken=function({options:e,cookieValue:t,isPost:r,bodyValue:i}){if(t){let[o,a]=t.split("|");if(a===(0,n.createHash)("sha256").update(`${o}${e.secret}`).digest("hex"))return{csrfTokenVerified:r&&o===i,csrfToken:o}}let o=(0,n.randomBytes)(32).toString("hex"),a=(0,n.createHash)("sha256").update(`${o}${e.secret}`).digest("hex");return{cookie:`${o}|${a}`,csrfToken:o}};var n=e.r(54799)},87737,(e,t,r)=>{"use strict";async function n({options:e,paramValue:t,cookieValue:r}){let{url:n,callbacks:i}=e,o=n.origin;return t?o=await i.redirect({url:t,baseUrl:n.origin}):r&&(o=await i.redirect({url:r,baseUrl:n.origin})),{callbackUrl:o,callbackUrlCookie:o!==r?o:void 0}}Object.defineProperty(r,"__esModule",{value:!0}),r.createCallbackUrl=n},66919,(e,t,r)=>{"use strict";var n=e.r(46733);Object.defineProperty(r,"__esModule",{value:!0}),r.init=m;var i=e.r(54799),o=n(e.r(68503)),a=e.r(25145),s=n(e.r(30145)),u=e.r(20746),c=g(e.r(89852)),l=g(e.r(77836)),d=e.r(80896),p=e.r(60604),f=e.r(87737),h=n(e.r(8804));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}async function m({authOptions:e,providerId:t,action:r,origin:n,cookies:y,callbackUrl:g,csrfToken:m,isPost:v}){var _,b;let w=(0,h.default)(n),E=(0,u.createSecret)({authOptions:e,url:w}),{providers:S,provider:k}=(0,s.default)({providers:e.providers,url:w,providerId:t}),O={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:w,action:r,provider:k,cookies:{...c.defaultCookies(null!=(_=e.useSecureCookies)?_:w.base.startsWith("https://")),...e.cookies},secret:E,providers:S,session:{strategy:e.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>{var e;return null!=(e=null===i.randomUUID||void 0===i.randomUUID?void 0:(0,i.randomUUID)())?e:(0,i.randomBytes)(32).toString("hex")},...e.session},jwt:{secret:E,maxAge:2592e3,encode:l.encode,decode:l.decode,...e.jwt},events:(0,a.eventsErrorHandler)(null!=(b=e.events)?b:{},o.default),adapter:(0,a.adapterErrorHandler)(e.adapter,o.default),callbacks:{...d.defaultCallbacks,...e.callbacks},logger:o.default,callbackUrl:w.origin},T=[],{csrfToken:A,cookie:x,csrfTokenVerified:R}=(0,p.createCSRFToken)({options:O,cookieValue:null==y?void 0:y[O.cookies.csrfToken.name],isPost:v,bodyValue:m});O.csrfToken=A,O.csrfTokenVerified=R,x&&T.push({name:O.cookies.csrfToken.name,value:x,options:O.cookies.csrfToken.options});let{callbackUrl:P,callbackUrlCookie:C}=await (0,f.createCallbackUrl)({options:O,cookieValue:null==y?void 0:y[O.cookies.callbackUrl.name],paramValue:g});return O.callbackUrl=P,C&&T.push({name:O.cookies.callbackUrl.name,value:C,options:O.cookies.callbackUrl.options}),{options:O,cookies:T}}},46526,(e,t,r)=>{"use strict";var n=e.r(46733);Object.defineProperty(r,"__esModule",{value:!0}),r.assertConfig=function(e){var t,r,n,c,l,d,p;let f,h,y,{options:g,req:m}=e,v=[];if(!s&&(m.origin||v.push("NEXTAUTH_URL"),g.debug&&v.push("DEBUG_ENABLED")),!g.secret)return new i.MissingSecret("Please define a `secret` in production.");if(!(null!=(t=m.query)&&t.nextauth)&&!m.action)return new i.MissingAPIRoute("Cannot find [...nextauth].{js,ts} in `/pages/api/auth`. Make sure the filename is written correctly.");let _=null==(r=m.query)?void 0:r.callbackUrl,b=(0,o.default)(m.origin);if(_&&!u(_,b.base))return new i.InvalidCallbackUrl(`Invalid callback URL. Received: ${_}`);let{callbackUrl:w}=(0,a.defaultCookies)(null!=(n=g.useSecureCookies)?n:b.base.startsWith("https://")),E=null==(c=m.cookies)?void 0:c[null!=(l=null==(d=g.cookies)||null==(d=d.callbackUrl)?void 0:d.name)?l:w.name];if(E&&!u(E,b.base))return new i.InvalidCallbackUrl(`Invalid callback URL. Received: ${E}`);for(let e of g.providers)"credentials"===e.type?f=!0:"email"===e.type?h=!0:"twitter"===e.id&&"2.0"===e.version&&(y=!0);if(f){let e=(null==(p=g.session)?void 0:p.strategy)==="database",t=!g.providers.some(e=>"credentials"!==e.type);if(e&&t)return new i.UnsupportedStrategy("Signin in with credentials only supported if JWT strategy is enabled");if(g.providers.some(e=>"credentials"===e.type&&!e.authorize))return new i.MissingAuthorize("Must define an authorize() handler to use credentials authentication provider")}if(h){let{adapter:e}=g;if(!e)return new i.MissingAdapter("E-mail login requires an adapter.");let t=["createVerificationToken","useVerificationToken","getUserByEmail"].filter(t=>!e[t]);if(t.length)return new i.MissingAdapterMethods(`Required adapter methods were missing: ${t.join(", ")}`)}return s||(y&&v.push("TWITTER_OAUTH_2_BETA"),s=!0),v};var i=e.r(25145),o=n(e.r(8804)),a=e.r(89852);let s=!1;function u(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch(e){return!1}}},45061,(e,t,r)=>{"use strict";r.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");var r={},n=e.length;if(n<2)return r;var o=t&&t.decode||d,a=0,s=0,u=0;do{if(-1===(s=e.indexOf("=",a)))break;if(-1===(u=e.indexOf(";",a)))u=n;else if(s>u){a=e.lastIndexOf(";",s-1)+1;continue}var p=c(e,a,s),f=l(e,s,p),h=e.slice(p,f);if(!i.call(r,h)){var y=c(e,s+1,u),g=l(e,u,y);34===e.charCodeAt(y)&&34===e.charCodeAt(g-1)&&(y++,g--);var m=e.slice(y,g);r[h]=function(e,t){try{return t(e)}catch(t){return e}}(m,o)}a=u+1}while(a<n)return r},r.serialize=function(e,t,r){var i=r&&r.encode||encodeURIComponent;if("function"!=typeof i)throw TypeError("option encode is invalid");if(!o.test(e))throw TypeError("argument name is invalid");var c=i(t);if(!a.test(c))throw TypeError("argument val is invalid");var l=e+"="+c;if(!r)return l;if(null!=r.maxAge){var d=Math.floor(r.maxAge);if(!isFinite(d))throw TypeError("option maxAge is invalid");l+="; Max-Age="+d}if(r.domain){if(!s.test(r.domain))throw TypeError("option domain is invalid");l+="; Domain="+r.domain}if(r.path){if(!u.test(r.path))throw TypeError("option path is invalid");l+="; Path="+r.path}if(r.expires){var p,f=r.expires;if(p=f,"[object Date]"!==n.call(p)||isNaN(f.valueOf()))throw TypeError("option expires is invalid");l+="; Expires="+f.toUTCString()}if(r.httpOnly&&(l+="; HttpOnly"),r.secure&&(l+="; Secure"),r.partitioned&&(l+="; Partitioned"),r.priority)switch("string"==typeof r.priority?r.priority.toLowerCase():r.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var n=Object.prototype.toString,i=Object.prototype.hasOwnProperty,o=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,a=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,u=/^[\u0020-\u003A\u003D-\u007E]*$/;function c(e,t,r){do{var n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<r)return r}function l(e,t,r){for(;t>r;){var n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return r}function d(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}},53620,(e,t,r)=>{"use strict";var n=e.r(46733);Object.defineProperty(r,"__esModule",{value:!0}),r.AuthHandler=g;var i=f(e.r(68503)),o=e.r(15567),a=f(e.r(78785)),s=n(e.r(24954)),u=e.r(66919),c=e.r(46526),l=e.r(89852),d=e.r(45061);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}async function h(e){try{return await e.json()}catch(e){}}async function y(e){var t,r,n,i;if(e instanceof Request){let t=new URL(e.url),a=t.pathname.split("/").slice(3),s=Object.fromEntries(e.headers),u=Object.fromEntries(t.searchParams);return u.nextauth=a,{action:a[0],method:e.method,headers:s,body:await h(e),cookies:(0,d.parse)(null!=(r=e.headers.get("cookie"))?r:""),providerId:a[1],error:null!=(n=t.searchParams.get("error"))?n:a[1],origin:(0,o.detectOrigin)(null!=(i=s["x-forwarded-host"])?i:s.host,s["x-forwarded-proto"]),query:u}}let{headers:a}=e,s=null!=(t=null==a?void 0:a["x-forwarded-host"])?t:null==a?void 0:a.host;return e.origin=(0,o.detectOrigin)(s,null==a?void 0:a["x-forwarded-proto"]),e}async function g(e){var t,r,n,o,d,p,f;let{options:h,req:g}=e,m=await y(g);(0,i.setLogger)(h.logger,h.debug);let v=(0,c.assertConfig)({options:h,req:m});if(Array.isArray(v))v.forEach(i.default.warn);else if(v instanceof Error){if(i.default.error(v.code,v),!["signin","signout","error","verify-request"].includes(m.action)||"GET"!==m.method)return{status:500,headers:[{key:"Content-Type",value:"application/json"}],body:{message:"There is a problem with the server configuration. Check the server logs for more information."}};let{pages:e,theme:t}=h,r=(null==e?void 0:e.error)&&(null==(d=m.query)||null==(d=d.callbackUrl)?void 0:d.startsWith(e.error));return!(null!=e&&e.error)||r?(r&&i.default.error("AUTH_ON_ERROR_PAGE_ERROR",Error(`The error page ${null==e?void 0:e.error} should not require authentication`)),(0,s.default)({theme:t}).error({error:"configuration"})):{redirect:`${e.error}?error=Configuration`}}let{action:_,providerId:b,error:w,method:E="GET"}=m,{options:S,cookies:k}=await (0,u.init)({authOptions:h,action:_,providerId:b,origin:m.origin,callbackUrl:null!=(t=null==(r=m.body)?void 0:r.callbackUrl)?t:null==(n=m.query)?void 0:n.callbackUrl,csrfToken:null==(o=m.body)?void 0:o.csrfToken,cookies:m.cookies,isPost:"POST"===E}),O=new l.SessionStore(S.cookies.sessionToken,m,S.logger);if("GET"===E){let e=(0,s.default)({...S,query:m.query,cookies:k}),{pages:t}=S;switch(_){case"providers":return await a.providers(S.providers);case"session":{let e=await a.session({options:S,sessionStore:O});return e.cookies&&k.push(...e.cookies),{...e,cookies:k}}case"csrf":return{headers:[{key:"Content-Type",value:"application/json"},{key:"Cache-Control",value:"private, no-cache, no-store"},{key:"Pragma",value:"no-cache"},{key:"Expires",value:"0"}],body:{csrfToken:S.csrfToken},cookies:k};case"signin":if(t.signIn){let e=`${t.signIn}${t.signIn.includes("?")?"&":"?"}callbackUrl=${encodeURIComponent(S.callbackUrl)}`;return w&&(e=`${e}&error=${encodeURIComponent(w)}`),{redirect:e,cookies:k}}return e.signin();case"signout":if(t.signOut)return{redirect:t.signOut,cookies:k};return e.signout();case"callback":if(S.provider){let e=await a.callback({body:m.body,query:m.query,headers:m.headers,cookies:m.cookies,method:E,options:S,sessionStore:O});return e.cookies&&k.push(...e.cookies),{...e,cookies:k}}break;case"verify-request":if(t.verifyRequest)return{redirect:t.verifyRequest,cookies:k};return e.verifyRequest();case"error":if(["Signin","OAuthSignin","OAuthCallback","OAuthCreateAccount","EmailCreateAccount","Callback","OAuthAccountNotLinked","EmailSignin","CredentialsSignin","SessionRequired"].includes(w))return{redirect:`${S.url}/signin?error=${w}`,cookies:k};if(t.error)return{redirect:`${t.error}${t.error.includes("?")?"&":"?"}error=${w}`,cookies:k};return e.error({error:w})}}else if("POST"===E)switch(_){case"signin":if(S.csrfTokenVerified&&S.provider){let e=await a.signin({query:m.query,body:m.body,options:S});return e.cookies&&k.push(...e.cookies),{...e,cookies:k}}return{redirect:`${S.url}/signin?csrf=true`,cookies:k};case"signout":if(S.csrfTokenVerified){let e=await a.signout({options:S,sessionStore:O});return e.cookies&&k.push(...e.cookies),{...e,cookies:k}}return{redirect:`${S.url}/signout?csrf=true`,cookies:k};case"callback":if(S.provider){if("credentials"===S.provider.type&&!S.csrfTokenVerified)return{redirect:`${S.url}/signin?csrf=true`,cookies:k};let e=await a.callback({body:m.body,query:m.query,headers:m.headers,cookies:m.cookies,method:E,options:S,sessionStore:O});return e.cookies&&k.push(...e.cookies),{...e,cookies:k}}break;case"_log":if(h.logger)try{let{code:e,level:t,...r}=null!=(p=m.body)?p:{};i.default[t](e,r)}catch(e){i.default.error("LOGGER_ERROR",e)}return{};case"session":if(S.csrfTokenVerified){let e=await a.session({options:S,sessionStore:O,newSession:null==(f=m.body)?void 0:f.data,isUpdate:!0});return e.cookies&&k.push(...e.cookies),{...e,cookies:k}}return{status:400,body:{},cookies:k}}return{status:400,body:`Error: This action with HTTP ${E} is not supported by NextAuth.js`}}},25746,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getBody=i,r.setCookie=function(e,t){var r;let i=null!=(r=e.getHeader("Set-Cookie"))?r:[];Array.isArray(i)||(i=[i]);let{name:o,value:a,options:s}=t,u=(0,n.serialize)(o,a,s);i.push(u),e.setHeader("Set-Cookie",i)},r.toResponse=function(e){var t,r,i;let o=new Headers(null==(t=e.headers)?void 0:t.reduce((e,{key:t,value:r})=>(e[t]=r,e),{}));null==(r=e.cookies)||r.forEach(e=>{let{name:t,value:r,options:i}=e,a=(0,n.serialize)(t,r,i);o.has("Set-Cookie")?o.append("Set-Cookie",a):o.set("Set-Cookie",a)});let a=e.body;"application/json"===o.get("content-type")?a=JSON.stringify(e.body):"application/x-www-form-urlencoded"===o.get("content-type")&&(a=new URLSearchParams(e.body).toString());let s=new Response(a,{headers:o,status:e.redirect?302:null!=(i=e.status)?i:200});return e.redirect&&s.headers.set("Location",e.redirect),s};var n=e.r(45061);async function i(e){if(!("body"in e)||!e.body||"POST"!==e.method)return;let t=e.headers.get("content-type");return null!=t&&t.includes("application/json")?await e.json():null!=t&&t.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}},46094,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.getServerSession=s,r.unstable_getServerSession=u;var n=e.r(53620),i=e.r(25746);async function o(e,t,r){var o,a,s,u,c,l,d,p;let{nextauth:f,...h}=e.query;null!=r.secret||(r.secret=null!=(o=null!=(a=null==(s=r.jwt)?void 0:s.secret)?a:process.env.NEXTAUTH_SECRET)?o:process.env.AUTH_SECRET);let y=await (0,n.AuthHandler)({req:{body:e.body,query:h,cookies:e.cookies,headers:e.headers,method:e.method,action:null==f?void 0:f[0],providerId:null==f?void 0:f[1],error:null!=(u=e.query.error)?u:null==f?void 0:f[1]},options:r});if(t.status(null!=(c=y.status)?c:200),null==(l=y.cookies)||l.forEach(e=>(0,i.setCookie)(t,e)),null==(d=y.headers)||d.forEach(e=>t.setHeader(e.key,e.value)),y.redirect){if((null==(p=e.body)?void 0:p.json)!=="true"){t.status(302).setHeader("Location",y.redirect),t.end();return}return t.json({url:y.redirect})}return t.send(y.body)}async function a(t,r,o){var a,s,u;null!=o.secret||(o.secret=null!=(a=process.env.NEXTAUTH_SECRET)?a:process.env.AUTH_SECRET);let{headers:c,cookies:l}=e.r(80028),d=null==(s=await r.params)?void 0:s.nextauth,p=Object.fromEntries(t.nextUrl.searchParams),f=await (0,i.getBody)(t),h=await (0,n.AuthHandler)({req:{body:f,query:p,cookies:Object.fromEntries((await l()).getAll().map(e=>[e.name,e.value])),headers:Object.fromEntries(await c()),method:t.method,action:null==d?void 0:d[0],providerId:null==d?void 0:d[1],error:null!=(u=p.error)?u:null==d?void 0:d[1]},options:o}),y=(0,i.toResponse)(h),g=y.headers.get("Location");return(null==f?void 0:f.json)==="true"&&g?(y.headers.delete("Location"),y.headers.set("Content-Type","application/json"),new Response(JSON.stringify({url:g}),{status:h.status,headers:y.headers})):y}async function s(...t){var r,o;let a,u,c,l=0===t.length||1===t.length;if(l){c=Object.assign({},t[0],{providers:[]});let{headers:r,cookies:n}=e.r(80028);a={headers:Object.fromEntries(await r()),cookies:Object.fromEntries((await n()).getAll().map(e=>[e.name,e.value]))},u={getHeader(){},setCookie(){},setHeader(){}}}else a=t[0],u=t[1],c=Object.assign({},t[2],{providers:[]});null!=(r=c).secret||(r.secret=null!=(o=process.env.NEXTAUTH_SECRET)?o:process.env.AUTH_SECRET);let{body:d,cookies:p,status:f=200}=await (0,n.AuthHandler)({options:c,req:{action:"session",method:"GET",cookies:a.cookies,headers:a.headers}});if(null==p||p.forEach(e=>(0,i.setCookie)(u,e)),d&&"string"!=typeof d&&Object.keys(d).length){if(200===f)return l&&delete d.expires,d;throw Error(d.message)}return null}async function u(...e){return await s(...e)}r.default=function(...e){var t;return 1===e.length?async(t,r)=>null!=r&&r.params?await a(t,r,e[0]):await o(t,r,e[0]):null!=(t=e[1])&&t.params?a(...e):o(...e)}},63130,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={};Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o.default}});var i=e.r(82074);Object.keys(i).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e)||e in r&&r[e]===i[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}})});var o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(e.r(46094));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}Object.keys(o).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e)||e in r&&r[e]===o[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}})})},17158,88928,39386,82291,54639,e=>{"use strict";var t=e.i(65517);let r=t.gql`
  mutation registerCustomer($input: createCustomerInput!) {
    createCustomer(input: $input) {
      customer {
        id
        firstName
        lastName
        email
        phone
        status
        apiToken
        customerGroupId
        subscribedToNewsLetter
        isVerified
        isSuspended
        token
        rememberToken
        name
      }
    }
  }
`;e.s(["CUSTOMER_REGISTRATION",0,r],88928);let n=t.gql`
  mutation loginCustomer($input: createCustomerLoginInput!) {
    createCustomerLogin(input: $input) {
     customerLogin {
            id
            apiToken
            token
            message
            success
        }
    }
  }
`;e.s(["CUSTOMER_LOGIN",0,n],39386);let i=t.gql`
    mutation createLogout {
        createLogout(input: {}) {
            logout {
                success
                message
            }
        }
    }
`;e.s(["CUSTOMER_LOGOUT",0,i],82291),t.gql`
  mutation verifyCustomer($token: String!, $clientMutationId: String) {
    createVerifyToken(
      input: {
        token: $token
        clientMutationId: $clientMutationId
      }
    ) {
      verifyToken {
        id
        firstName
        lastName
        email
        isValid
        message
      }
    }
  }
`;let o=t.gql`
  mutation forgotPassword($email: String!) {
    createForgotPassword(input: { email: $email }) {
      forgotPassword {
        success
        message
      }
    }
  }
`;e.s(["FORGET_PASSWORD",0,o],54639),e.s([],17158)},35710,68144,62658,e=>{"use strict";e.i(42670);var t=e.i(91339);e.i(48065);var r=e.i(74789);e.s(["GET_FOOTER",()=>t.GET_FOOTER,"PAGE_BY_URL_KEY",()=>r.PAGE_BY_URL_KEY],35710);var n=e.i(65517);let i=n.gql`
  mutation SubscribeToNewsletter($input: createNewsletterSubscriptionInput!) {
    createNewsletterSubscription(input: $input) {
      newsletterSubscription {
        success
        message
      }
    }
  }
`;e.s(["SUBSCRIBE_TO_NEWSLETTER",0,i],68144),e.s([],62658)},49875,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:e}}},49823,e=>{"use strict";e.s(["authOptions",()=>o]);var t=e.i(63130),r=e.i(49875),n=e.i(7563);e.i(17158);var i=e.i(39386);let o={session:{strategy:"jwt",maxAge:2592e3},providers:[(0,r.default)({name:"Credentials",credentials:{username:{label:"Email",type:"text"},password:{label:"Password",type:"password"}},authorize:async e=>{if(!e?.username||!e?.password)throw Error("Email and password are required.");let t={email:e.username,password:e.password},r=await (0,n.bagistoFetch)({query:i.CUSTOMER_LOGIN,variables:{input:t},cache:"no-store"}),o=r?.body?.data?.createCustomerLogin?.customerLogin;if(!o||!o.success||!o.token)throw Error(o?.message||"Invalid credentials.");return{id:o.id,email:e.username,name:e.username,apiToken:o.apiToken,accessToken:o.token,role:"customer"}}})],callbacks:{jwt:async({token:e,user:t})=>(t&&(e.id=t.id,e.apiToken=t.apiToken,e.accessToken=t.accessToken,e.role="customer"),e),session:async({session:e,token:t})=>(e.user={...e.user,id:t.id||"",apiToken:t.apiToken,accessToken:t.accessToken,role:t.role},e)},pages:{signIn:"/customer/login",error:"/login"},secret:"J8d7f6G5h4j3k2L1m0n9b8v7c6x5z4A"};(0,t.default)(o)},7563,e=>{"use strict";e.s(["bagistoFetch",()=>u,"getPage",()=>l,"revalidate",()=>c]);var t=e.i(80028),r=e.i(62739),n=e.i(59419),i=e.i(45812),o=e.i(63130);e.i(17158),e.i(82291),e.i(88928),e.i(54639),e.i(7717);var a=e.i(35710);e.i(62658),e.i(68144);var s=e.i(49823);async function u({cache:e="force-cache",headers:r,query:n,tags:a,variables:u,isCookies:c=!0,guestToken:l,revalidate:d=60}){try{let p,f="string"==typeof n?n:n.loc?.source?.body??"",h="";if(c){let e=await (0,t.cookies)();h=e.get(i.BAGISTO_SESSION)?.value??"";let r=await (0,o.getServerSession)(s.authOptions);p=r?.user?.accessToken}let y={"Content-Type":"application/json","X-STOREFRONT-KEY":i.STOREFRONT_KEY};p?y.Authorization=`Bearer ${p}`:l&&(y.Authorization=`Bearer ${l}`),h&&(y.Cookie=`${i.BAGISTO_SESSION}=${h}`),c&&r&&(r instanceof Headers?r.forEach((e,t)=>y[t]=e):Object.assign(y,r));let g=await fetch(i.GRAPHQL_URL,{method:"POST",headers:y,body:JSON.stringify({query:f,...u&&{variables:u}}),cache:e,next:{revalidate:"no-store"===e?0:d||60,...a&&{tags:a}}}),m=await g.json();if(m.errors)throw m.errors[0];return{status:g.status,body:m}}catch(e){throw e}}async function c(e){let i=(await (0,t.headers)()).get("x-bagisto-topic")||"unknown",o=e.nextUrl.searchParams.get("secret"),a=["collections/create","collections/delete","collections/update"].includes(i),s=["products/create","products/delete","products/update"].includes(i);return o&&o===process.env.BAGISTO_REVALIDATION_SECRET?a||s?(s?(0,r.revalidatePath)("/","layout"):a&&(0,r.revalidatePath)("/","layout"),n.NextResponse.json({status:200,revalidated:!0,topic:i,now:Date.now()})):n.NextResponse.json({status:200,message:"No action needed"}):n.NextResponse.json({status:200})}async function l(e){let t=await u({query:a.PAGE_BY_URL_KEY,cache:"no-store",isCookies:!1,variables:{pageByUrlKey:e.urlKey}});return t.body.data?.pageByUrlKeypages}}];

//# sourceMappingURL=storefront_8c022746._.js.map